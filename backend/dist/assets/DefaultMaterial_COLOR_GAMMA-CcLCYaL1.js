import{cL as m,jn as b,jo as _,jp as g,jq as B,bd as S,jr as h,aQ as j,bc as $,bg as w,s as I,gL as l,a5 as A}from"./index-IeegpAPg.js";import{l as R,i as T}from"./Indices-mr2dO71f.js";function q(e,t){d(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function d(e,t,f=2,n=f){const o=t.length/2;let r=0,a=0;if(m(t)||b(t)){for(let s=0;s<o;++s)e[r]=t[a],e[r+1]=t[a+1],r+=f,a+=n;return}const u=_(t);if(g(t))for(let s=0;s<o;++s)e[r]=Math.max(t[a]/u,-1),e[r+1]=Math.max(t[a+1]/u,-1),r+=f,a+=n;else for(let s=0;s<o;++s)e[r]=t[a]/u,e[r+1]=t[a+1]/u,r+=f,a+=n}function O(e,t,f,n){const o=e.typedBuffer,r=e.typedBufferStride,a=n?.count??e.count;let u=(n?.dstIndex??0)*r;for(let s=0;s<a;++s)o[u]=t,o[u+1]=f,u+=r}Object.freeze(Object.defineProperty({__proto__:null,fill:O,normalizeIntegerBuffer:d,normalizeIntegerBufferView:q},Symbol.toStringTag,{value:"Module"}));function x(e,t){y(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function y(e,t,f=3,n=f){const o=t.length/n;let r=0,a=0;for(let u=0;u<o;++u)e[r]=t[a],e[r+1]=t[a+1],e[r+2]=t[a+2],r+=f,a+=n}function v(e,t,f,n,o){const r=e.typedBuffer,a=e.typedBufferStride,u=o?.count??e.count;let s=(o?.dstIndex??0)*a;for(let i=0;i<u;++i)r[s]=t,r[s+1]=f,r[s+2]=n,s+=a}Object.freeze(Object.defineProperty({__proto__:null,copy:y,copyView:x,fill:v},Symbol.toStringTag,{value:"Module"}));function z(e,t){p(e.typedBuffer,t,e.typedBufferStride)}function p(e,t,f=4){const n=t.typedBuffer,o=t.typedBufferStride,r=t.count;let a=0,u=0;for(let s=0;s<r;++s)e[a]=n[u],e[a+1]=n[u+1],e[a+2]=n[u+2],e[a+3]=n[u+3],a+=f,u+=o}function L(e,t,f,n,o,r){const a=e.typedBuffer,u=e.typedBufferStride,s=r?.count??e.count;let i=(r?.dstIndex??0)*u;for(let c=0;c<s;++c)a[i]=t,a[i+1]=f,a[i+2]=n,a[i+3]=o,i+=u}Object.freeze(Object.defineProperty({__proto__:null,copy:p,copyView:z,fill:L},Symbol.toStringTag,{value:"Module"}));class G{constructor(t){this._streamDataRequester=t}async loadJSON(t,f){return this._load("json",t,f)}async loadBinary(t,f){return B(t)?(S(f),h(t)):this._load("binary",t,f)}async loadImage(t,f){return this._load("image",t,f)}async _load(t,f,n){if(this._streamDataRequester==null)return(await j(f,{responseType:M[t]})).data;const o=await $(this._streamDataRequester.request(f,t,n));if(o.ok===!0)return o.value;throw w(o.error),new I("glt-loader-request-error",`Request for resource failed: ${o.error}`)}}const M={image:"image",binary:"array-buffer",json:"json","image+type":void 0};function V(e,t){switch(t){case l.TRIANGLES:return N(e);case l.TRIANGLE_STRIP:return U(e);case l.TRIANGLE_FAN:return E(e)}}function N(e){return typeof e=="number"?R(e):A(e)?new Uint16Array(e):e}function U(e){const t=typeof e=="number"?e:e.length;if(t<3)return[];const f=t-2,n=T(3*f);if(typeof e=="number"){let o=0;for(let r=0;r<f;r+=1)r%2==0?(n[o++]=r,n[o++]=r+1,n[o++]=r+2):(n[o++]=r+1,n[o++]=r,n[o++]=r+2)}else{let o=0;for(let r=0;r<f;r+=1)r%2==0?(n[o++]=e[r],n[o++]=e[r+1],n[o++]=e[r+2]):(n[o++]=e[r+1],n[o++]=e[r],n[o++]=e[r+2])}return n}function E(e){const t=typeof e=="number"?e:e.length;if(t<3)return new Uint16Array(0);const f=t-2,n=f<=65536?new Uint16Array(3*f):new Uint32Array(3*f);if(typeof e=="number"){let u=0;for(let s=0;s<f;++s)n[u++]=0,n[u++]=s+1,n[u++]=s+2;return n}const o=e[0];let r=e[1],a=0;for(let u=0;u<f;++u){const s=e[u+2];n[a++]=o,n[a++]=r,n[a++]=s,r=s}return n}const k=2.1;export{L as a,q as b,x as c,k as d,z as e,v as f,d as g,y as h,O as l,G as n,V as o,p as t};
