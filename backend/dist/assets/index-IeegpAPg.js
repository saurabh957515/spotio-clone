const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/IdentityManager-HqQLrHqN.js","assets/substitute-Dj15Who-.js","assets/pe-wasm-Br-lxaQb.js","assets/_commonjsHelpers-DCkdB7M8.js","assets/statsWorker-DqeGlE9M.js","assets/utils-CbNSqnaG.js","assets/quantizationUtils-D5PvWHeA.js","assets/heatmapUtils-gC4I9bES.js","assets/vec42-DVf6basU.js","assets/vec4f64-CMoMXWBi.js","assets/utils-DK90Hjo4.js","assets/utils-DIsahhBE.js","assets/ClassBreaksDefinition-C6O4AXtE.js","assets/geometryEngineWorker-DEzAOz_k.js","assets/geometryEngineJSON-5ScVeRQz.js","assets/geometryEngineBase-8g0RzW7z.js","assets/json-Wa8cmqdu.js","assets/CSVSourceWorker-Bzi-2zaF.js","assets/date-Dw3OHnFv.js","assets/OptimizedFeature-CIptWNVu.js","assets/FeatureStore-DmWJhoz6.js","assets/featureConversionUtils-6nDzGVaS.js","assets/OptimizedFeatureSet-Blu9Ckm7.js","assets/BoundsStore-XOTfmvKy.js","assets/PooledRBush-DP3eGRuy.js","assets/timeSupport-CnzjLscW.js","assets/queryUtils-DnQsJh_n.js","assets/optimizedFeatureQueryEngineAdapter-Dms_VuRJ.js","assets/QueryEngine-B_4jw8oK.js","assets/LRUCache-B9Ch9jyy.js","assets/WhereClause-DbgZ3DzV.js","assets/TimeOnly-B5mfw6we.js","assets/UnknownTimeZone-Bp45PPyc.js","assets/QueryEngineCapabilities-DjYb9CEb.js","assets/FieldsIndex-1XykZMxf.js","assets/number-qg6go5_f.js","assets/clientSideDefaults-8WnztZUi.js","assets/capabilities-Y9lFlGVh.js","assets/defaultsJSON-GKolV7NZ.js","assets/EdgeProcessingWorker-CoR6PHjF.js","assets/InterleavedLayout-DD34ctur.js","assets/BufferView-D5SM01Un.js","assets/types-D0PSWh4d.js","assets/Util-ByG6sjfF.js","assets/edgeProcessing-D5DlIdZF.js","assets/deduplicate-CP_tRvXl.js","assets/Indices-mr2dO71f.js","assets/VertexAttribute-BdZWZuT1.js","assets/glUtil-DAfB0tei.js","assets/VertexElementDescriptor-BOD-G50G.js","assets/ElevationSamplerWorker-D2pJIY-m.js","assets/MeshLocalVertexSpace-CQJobtM1.js","assets/vertexSpaceConversion-CCO52rg6.js","assets/mat3f64-q3fE-ZOt.js","assets/mat4f64-CSKppSlJ.js","assets/spatialReferenceEllipsoidUtils-BLVRTiuE.js","assets/computeTranslationToOriginAndRotation-B4Lmv4V4.js","assets/projectPointToVector-CtCQTVn5.js","assets/meshVertexSpaceUtils-hKPRZL_4.js","assets/vec3-B7akktlr.js","assets/vec4-D-2V8DwR.js","assets/FeatureServiceSnappingSourceWorker-BHTszoHa.js","assets/pbfQueryUtils-BQwCMRdG.js","assets/pbf-DkH7zH7h.js","assets/query-CucHdm2a.js","assets/queryZScale-BviGmGlG.js","assets/ByteSizeUnit-BsxeN7wM.js","assets/GeoJSONSourceWorker-CiEoMRJ9.js","assets/geojson-BHCFwKPd.js","assets/sourceUtils-DksodUJu.js","assets/MemorySourceWorker-BdZT2hfL.js","assets/objectIdUtils-BmFjqQA3.js","assets/PBFDecoderWorker-DQuOS4PL.js","assets/FeaturePipelineWorker-B5wPrewu.js","assets/diffUtils-BsmLiWuX.js","assets/AttributeStore-Dtd8nlCC.js","assets/LabelMetric-CjQSsSXf.js","assets/enums-CmIX1y88.js","assets/Program-vCUOXcd1.js","assets/BufferObject-Bnu6dY3p.js","assets/UpdateTracking2D-gAJU1rbE.js","assets/BidiEngine-DNnuvc1i.js","assets/GeometryUtils-B6ZhES5h.js","assets/utils-DyJ7tXUW.js","assets/Rect-CUzevAry.js","assets/defaults-Ca7Ezrxv.js","assets/BindType-BmZEZMMh.js","assets/labelUtils-cNe8bNWP.js","assets/MeshWriterRegistry-DrZuYSxQ.js","assets/PieChartMeshWriter-BdAY2b1O.js","assets/TurboLine-D77Zoaf8.js","assets/earcut-Lltz9D9k.js","assets/constants-F8oTIn7N.js","assets/grouping-BYdbFIQV.js","assets/ogcFeatureUtils-BgogL-By.js","assets/CircularArray-CujHzHWW.js","assets/createConnection-CzNHt_5v.js","assets/PointCloudWorker-Bay5vOR8.js","assets/quat-DNoYUhoj.js","assets/quatf64-aQ5IuZRd.js","assets/vec3f32-nZdmKIgz.js","assets/PointCloudUniqueValueRenderer-CqZTKpTF.js","assets/ColorStop-DcLcp94M.js","assets/I3SBinaryReader-Bhdi-K77.js","assets/orientedBoundingBox-Bg_iKoGG.js","assets/plane-Br_kpZFb.js","assets/RasterWorker-DKx1qz1k.js","assets/dataUtils-CPAAlZkE.js","assets/RasterSymbolizer-CUl201B6.js","assets/colorUtils-D0_txqzP.js","assets/PolynomialTransform-BeFtkZlD.js","assets/rasterProjectionHelper-vZuUTuyX.js","assets/colorRamps-DtdPWJTS.js","assets/SceneLayerSnappingSourceWorker-M7e9ec7o.js","assets/lineSegment-BTVBW5NI.js","assets/sphere-qRiW3p7L.js","assets/Octree-DYBxum_T.js","assets/SceneLayerWorker-DV5LMkwI.js","assets/I3SUtil-CZl6Z-mx.js","assets/projectVectorToVector-BC8Nx4RI.js","assets/floatRGBA-CWXyMtGj.js","assets/NormalAttribute.glsl-BLvHrFHL.js","assets/interfaces-DDtDqZYj.js","assets/WFSSourceWorker-Bz4Dt5Cz.js","assets/wfsUtils-H3Jgy9Fr.js","assets/xmlUtils-CtUoQO7q.js","assets/WorkerTileHandler-BR6kgx9i.js","assets/enums-BRzLM11V.js","assets/config-MDUrh2eL.js","assets/StyleDefinition-BTt_i6C1.js","assets/SourceLayerData-CiiCM8MS.js","assets/StyleRepository-bB_IoeCF.js","assets/HUDMaterial.glsl-B3z4b6QI.js","assets/AttributeArray-DoSl0vX3.js","assets/requestImageUtils-CMrK0c-W.js","assets/basicInterfaces-CZwQPxTp.js","assets/AlphaCutoff-UcccL64p.js","assets/boundedPlane-CZohO7Ps.js","assets/renderState-G6XOSrbk.js","assets/doublePrecisionUtils-B0owpBza.js","assets/NestedMap-CImDozOA.js","assets/IntersectorInterfaces-dI_rFEZm.js","assets/VertexArrayObject-CJcekOdQ.js","assets/triangle-Lr-La2yJ.js","assets/Popup-EzQvZXkF.js","assets/ReactiveSet-AKhvrCuc.js","assets/AttachmentInfo-BD9oGtcb.js","assets/featureLayerUtils-DOfcdp_A.js","assets/jsonUtils-CKn8N5rB.js","assets/UniqueValueRenderer-BRA4hJF2.js","assets/sizeVariableUtils-Cmcuvw-4.js","assets/visualVariableUtils-BxjHbii2.js","assets/jsonUtils-Y19K1K5D.js","assets/styleUtils-72oPtPHD.js","assets/OverrideHelper-Beyhf6nl.js","assets/utils-BjDkI-Ko.js","assets/cimSymbolUtils-B6qzjiDK.js","assets/executeQueryJSON-DyLR9T8O.js","assets/FeatureSet--t3TP_gY.js","assets/shared-BWKNLwAY.js","assets/FeatureLayer-DJbLuPts.js","assets/FeatureLayerBase-DBB_KLm4.js","assets/LayerFloorInfo-BnKc7C4W.js","assets/Relationship-C6f1Hi7_.js","assets/serviceCapabilitiesUtils-COVZGAXJ.js","assets/editsZScale-yJOWHsnW.js","assets/APIKeyMixin-Bid8LsFN.js","assets/ArcGISService-CIVcan3f.js","assets/CustomParametersMixin-seLw3Ail.js","assets/EditBusLayer-EHDpblVl.js","assets/FeatureEffectLayer-CX57XnqE.js","assets/FeatureEffect-nunlOgL-.js","assets/FeatureReductionLayer-r6s6_5Sb.js","assets/FeatureReductionSelection-C6wqS4Mb.js","assets/labelingInfo-COg3pKpK.js","assets/MD5-C9MwAd2G.js","assets/OrderedLayer-T5UFlb3L.js","assets/OrderByInfo-C9JHxA_m.js","assets/TemporalLayer-X1Uvg484.js","assets/TimeInfo-BokYbqlu.js","assets/FeatureTemplate-CHC4o9Rs.js","assets/FeatureType-CupKmq3w.js","assets/fieldProperties-DFyqxTMB.js","assets/versionUtils-DrRIr99F.js","assets/styleUtils-CiawYzCZ.js","assets/popupUtils-BWB8Dp2p.js","assets/interfaces-CL2NbQte.js","assets/layerViewUtils-CjvtRAuv.js","assets/ElevationLayer-CFhEjFMc.js","assets/ArcGISCachedService-4oEn2uzz.js","assets/TileInfoTilemapCache-BAr7k45C.js","assets/TilemapCache-BSrlFZE6.js","assets/layersCreator-BODoRgS6.js","assets/portalLayers-XbTAjvpD.js","assets/associatedFeatureServiceUtils-Chg39jfG.js","assets/fetchService-B3XDMBci.js","assets/arcgisLayers-7UE-vNXh.js","assets/arcadeUtils-BMaEggE7.js","assets/languageUtils-Ci6rbkh0.js","assets/ImmutableArray-BPVd6ESQ.js","assets/webStyleSymbolUtils-DfG4rUs5.js","assets/devEnvironmentUtils-8WtPGj6h.js","assets/geometryServiceUtils-DT2OPJSi.js","assets/project-D-Iu8LeD.js","assets/webglDeps-D1IzJSuw.js","assets/ProgramTemplate-XgYhCHLK.js","assets/mapViewDeps-CL_MRX6o.js","assets/FeatureCommandQueue-CcrO3amX.js","assets/WGLContainer-CL3kB6Gn.js","assets/Container-C2qpHSCx.js","assets/SDFHelper-CCmbfpDj.js","assets/GridShader-nsQodRpm.js","assets/testSVGPremultipliedAlpha-BdwbaLSA.js","assets/RenderingContext-p9o_BkOc.js","assets/rasterizingUtils-B77m6CPN.js","assets/utils-C3cIQLjc.js","assets/GraphicsView2D-Cw44kt5e.js","assets/normalizeUtilsSync-CIrM6ohr.js","assets/GraphicContainer-C5nQ67Lp.js","assets/AGraphicContainer-hi3-yUUm.js","assets/TechniqueInstance-CgrhW6QY.js","assets/TileContainer-yPPHUNSb.js","assets/scaleUtils-2G4b0GtR.js","assets/geodesicUtils-DPkE74ap.js","assets/TileLayerView2D-9DLp_Qd_.js","assets/imageUtils-D0-fLLW0.js","assets/Bitmap-DxcHoJMu.js","assets/LayerView-DUaSkTLa.js","assets/HighlightGraphicContainer-CaFaa8bk.js","assets/RefreshableLayerView-BxWjWyH0.js","assets/MapServiceLayerViewHelper-CfSfkXw3.js","assets/floorFilterUtils-DKzVzLpH.js","assets/drapedUtils-BBdrhDC3.js","assets/sublayerUtils-DaN0oCzI.js","assets/popupUtils-D69QEmmC.js","assets/FeatureLayerView2D-CypG8KMD.js","assets/timeSupport-D2DyNZmJ.js","assets/HighlightCounter-Czi-fdpx.js","assets/BaseDynamicLayerView2D-D8k9pxpo.js","assets/BitmapContainer-DmOS0U2P.js","assets/ExportStrategy-baZq34LX.js","assets/CatalogLayerView2D-CUK9Cy5w.js","assets/CatalogDynamicGroupLayerView2D-DxbRhWqV.js","assets/CatalogFootprintLayerView2D-BC6kqLAp.js","assets/GeoRSSLayerView2D-DK7loNop.js","assets/GraphicsLayerView2D-rJXfve1C.js","assets/GroupLayerView2D-BJ8V6UaP.js","assets/ImageryLayerView2D-ChVWOvEv.js","assets/RasterVFDisplayObject-BMULnYrj.js","assets/ImageryTileLayerView2D-BwyxdwEJ.js","assets/multidimensionalUtils-DDoUcqMt.js","assets/rasterUtils-DM2dD-zL.js","assets/RawBlockCache-BUqNP6zQ.js","assets/KMLLayerView2D-t_PX4l6Y.js","assets/kmlUtils-CuTjHUWT.js","assets/KnowledgeGraphLayerView2D-BkGXYrKy.js","assets/MapImageLayerView2D-FJh7cAzZ.js","assets/ExportImageParameters-DaVX2JpN.js","assets/MapNotesLayerView2D-BCPE3QCB.js","assets/MediaLayerView2D-GkHkQs-l.js","assets/perspectiveUtils-Csd4o2wK.js","assets/OverlayContainer-Cg7m9Gtt.js","assets/OGCFeatureLayerView2D-yl0e6sFA.js","assets/RouteLayerView2D-Chq6rOjy.js","assets/Stop-B6xFb0FR.js","assets/StreamLayerView2D-DQ6Im5S6.js","assets/SubtypeGroupLayerView2D-CrWCyaiI.js","assets/VectorTileLayerView2D-CqjFaTk7.js","assets/VideoLayerView2D-CyAUvMRE.js","assets/TelemetryDisplay-CXDJYkEl.js","assets/WMSLayerView2D-DY17Q1Zl.js","assets/ExportWMSImageParameters-BPioRq7F.js","assets/WMTSLayerView2D-BSGNE5yp.js","assets/apng-CtRAPv67.js","assets/calcite-button-C0706HrQ.js","assets/form-CU7ay9Tn.js","assets/dom-BveoWHh2.js","assets/interactive-BchOaHN-.js","assets/label-DUBOb5uX.js","assets/component-6CIDVndn.js","assets/loadable-PmYgW4IJ.js","assets/locale-BArD0Mv9.js","assets/key-D63ExP77.js","assets/observers-DZ1jWiyq.js","assets/t9n-B1c1D0FQ.js","assets/icon-BZ303Zas.js","assets/loader-CbbOTkNy.js","assets/guid-BxSjQh8J.js","assets/calcite-icon-CSOe2pKd.js","assets/layersLoader-jMy9qfon.js","assets/jsonContext-BVLwkilL.js"])))=>i.map(i=>d[i]);
function $G(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var p1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function P3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Jye(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var fb={exports:{}},hm={},mb={exports:{}},Rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uR;function xG(){if(uR)return Rt;uR=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function w(W){return W===null||typeof W!="object"?null:(W=g&&W[g]||W["@@iterator"],typeof W=="function"?W:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,x={};function M(W,he,Fe){this.props=W,this.context=he,this.refs=x,this.updater=Fe||S}M.prototype.isReactComponent={},M.prototype.setState=function(W,he){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,he,"setState")},M.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function P(){}P.prototype=M.prototype;function F(W,he,Fe){this.props=W,this.context=he,this.refs=x,this.updater=Fe||S}var V=F.prototype=new P;V.constructor=F,$(V,M.prototype),V.isPureReactComponent=!0;var U=Array.isArray,z=Object.prototype.hasOwnProperty,Z={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function pe(W,he,Fe){var ct,ht={},gt=null,Je=null;if(he!=null)for(ct in he.ref!==void 0&&(Je=he.ref),he.key!==void 0&&(gt=""+he.key),he)z.call(he,ct)&&!Q.hasOwnProperty(ct)&&(ht[ct]=he[ct]);var st=arguments.length-2;if(st===1)ht.children=Fe;else if(1<st){for(var lt=Array(st),Jt=0;Jt<st;Jt++)lt[Jt]=arguments[Jt+2];ht.children=lt}if(W&&W.defaultProps)for(ct in st=W.defaultProps,st)ht[ct]===void 0&&(ht[ct]=st[ct]);return{$$typeof:e,type:W,key:gt,ref:Je,props:ht,_owner:Z.current}}function ye(W,he){return{$$typeof:e,type:W.type,key:he,ref:W.ref,props:W.props,_owner:W._owner}}function ge(W){return typeof W=="object"&&W!==null&&W.$$typeof===e}function Pe(W){var he={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Fe){return he[Fe]})}var Me=/\/+/g;function De(W,he){return typeof W=="object"&&W!==null&&W.key!=null?Pe(""+W.key):he.toString(36)}function Ae(W,he,Fe,ct,ht){var gt=typeof W;(gt==="undefined"||gt==="boolean")&&(W=null);var Je=!1;if(W===null)Je=!0;else switch(gt){case"string":case"number":Je=!0;break;case"object":switch(W.$$typeof){case e:case t:Je=!0}}if(Je)return Je=W,ht=ht(Je),W=ct===""?"."+De(Je,0):ct,U(ht)?(Fe="",W!=null&&(Fe=W.replace(Me,"$&/")+"/"),Ae(ht,he,Fe,"",function(Jt){return Jt})):ht!=null&&(ge(ht)&&(ht=ye(ht,Fe+(!ht.key||Je&&Je.key===ht.key?"":(""+ht.key).replace(Me,"$&/")+"/")+W)),he.push(ht)),1;if(Je=0,ct=ct===""?".":ct+":",U(W))for(var st=0;st<W.length;st++){gt=W[st];var lt=ct+De(gt,st);Je+=Ae(gt,he,Fe,lt,ht)}else if(lt=w(W),typeof lt=="function")for(W=lt.call(W),st=0;!(gt=W.next()).done;)gt=gt.value,lt=ct+De(gt,st++),Je+=Ae(gt,he,Fe,lt,ht);else if(gt==="object")throw he=String(W),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.");return Je}function $t(W,he,Fe){if(W==null)return W;var ct=[],ht=0;return Ae(W,ct,"","",function(gt){return he.call(Fe,gt,ht++)}),ct}function kt(W){if(W._status===-1){var he=W._result;he=he(),he.then(function(Fe){(W._status===0||W._status===-1)&&(W._status=1,W._result=Fe)},function(Fe){(W._status===0||W._status===-1)&&(W._status=2,W._result=Fe)}),W._status===-1&&(W._status=0,W._result=he)}if(W._status===1)return W._result.default;throw W._result}var it={current:null},de={transition:null},$e={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:de,ReactCurrentOwner:Z};function Ce(){throw Error("act(...) is not supported in production builds of React.")}return Rt.Children={map:$t,forEach:function(W,he,Fe){$t(W,function(){he.apply(this,arguments)},Fe)},count:function(W){var he=0;return $t(W,function(){he++}),he},toArray:function(W){return $t(W,function(he){return he})||[]},only:function(W){if(!ge(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Rt.Component=M,Rt.Fragment=r,Rt.Profiler=i,Rt.PureComponent=F,Rt.StrictMode=n,Rt.Suspense=c,Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$e,Rt.act=Ce,Rt.cloneElement=function(W,he,Fe){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var ct=$({},W.props),ht=W.key,gt=W.ref,Je=W._owner;if(he!=null){if(he.ref!==void 0&&(gt=he.ref,Je=Z.current),he.key!==void 0&&(ht=""+he.key),W.type&&W.type.defaultProps)var st=W.type.defaultProps;for(lt in he)z.call(he,lt)&&!Q.hasOwnProperty(lt)&&(ct[lt]=he[lt]===void 0&&st!==void 0?st[lt]:he[lt])}var lt=arguments.length-2;if(lt===1)ct.children=Fe;else if(1<lt){st=Array(lt);for(var Jt=0;Jt<lt;Jt++)st[Jt]=arguments[Jt+2];ct.children=st}return{$$typeof:e,type:W.type,key:ht,ref:gt,props:ct,_owner:Je}},Rt.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:s,_context:W},W.Consumer=W},Rt.createElement=pe,Rt.createFactory=function(W){var he=pe.bind(null,W);return he.type=W,he},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(W){return{$$typeof:l,render:W}},Rt.isValidElement=ge,Rt.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:kt}},Rt.memo=function(W,he){return{$$typeof:d,type:W,compare:he===void 0?null:he}},Rt.startTransition=function(W){var he=de.transition;de.transition={};try{W()}finally{de.transition=he}},Rt.unstable_act=Ce,Rt.useCallback=function(W,he){return it.current.useCallback(W,he)},Rt.useContext=function(W){return it.current.useContext(W)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(W){return it.current.useDeferredValue(W)},Rt.useEffect=function(W,he){return it.current.useEffect(W,he)},Rt.useId=function(){return it.current.useId()},Rt.useImperativeHandle=function(W,he,Fe){return it.current.useImperativeHandle(W,he,Fe)},Rt.useInsertionEffect=function(W,he){return it.current.useInsertionEffect(W,he)},Rt.useLayoutEffect=function(W,he){return it.current.useLayoutEffect(W,he)},Rt.useMemo=function(W,he){return it.current.useMemo(W,he)},Rt.useReducer=function(W,he,Fe){return it.current.useReducer(W,he,Fe)},Rt.useRef=function(W){return it.current.useRef(W)},Rt.useState=function(W){return it.current.useState(W)},Rt.useSyncExternalStore=function(W,he,Fe){return it.current.useSyncExternalStore(W,he,Fe)},Rt.useTransition=function(){return it.current.useTransition()},Rt.version="18.3.1",Rt}var cR;function L0(){return cR||(cR=1,mb.exports=xG()),mb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dR;function MG(){if(dR)return hm;dR=1;var e=L0(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var m,g={},w=null,S=null;d!==void 0&&(w=""+d),c.key!==void 0&&(w=""+c.key),c.ref!==void 0&&(S=c.ref);for(m in c)n.call(c,m)&&!s.hasOwnProperty(m)&&(g[m]=c[m]);if(l&&l.defaultProps)for(m in c=l.defaultProps,c)g[m]===void 0&&(g[m]=c[m]);return{$$typeof:t,type:l,key:w,ref:S,props:g,_owner:i.current}}return hm.Fragment=r,hm.jsx=o,hm.jsxs=o,hm}var hR;function kG(){return hR||(hR=1,fb.exports=MG()),fb.exports}var qe=kG(),oe=L0();const Et=P3(oe),pR=$G({__proto__:null,default:Et},[oe]);var f1={},yb={exports:{}},Ti={},gb={exports:{}},vb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fR;function AG(){return fR||(fR=1,function(e){function t(de,$e){var Ce=de.length;de.push($e);e:for(;0<Ce;){var W=Ce-1>>>1,he=de[W];if(0<i(he,$e))de[W]=$e,de[Ce]=he,Ce=W;else break e}}function r(de){return de.length===0?null:de[0]}function n(de){if(de.length===0)return null;var $e=de[0],Ce=de.pop();if(Ce!==$e){de[0]=Ce;e:for(var W=0,he=de.length,Fe=he>>>1;W<Fe;){var ct=2*(W+1)-1,ht=de[ct],gt=ct+1,Je=de[gt];if(0>i(ht,Ce))gt<he&&0>i(Je,ht)?(de[W]=Je,de[gt]=Ce,W=gt):(de[W]=ht,de[ct]=Ce,W=ct);else if(gt<he&&0>i(Je,Ce))de[W]=Je,de[gt]=Ce,W=gt;else break e}}return $e}function i(de,$e){var Ce=de.sortIndex-$e.sortIndex;return Ce!==0?Ce:de.id-$e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],m=1,g=null,w=3,S=!1,$=!1,x=!1,M=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(de){for(var $e=r(d);$e!==null;){if($e.callback===null)n(d);else if($e.startTime<=de)n(d),$e.sortIndex=$e.expirationTime,t(c,$e);else break;$e=r(d)}}function U(de){if(x=!1,V(de),!$)if(r(c)!==null)$=!0,kt(z);else{var $e=r(d);$e!==null&&it(U,$e.startTime-de)}}function z(de,$e){$=!1,x&&(x=!1,P(pe),pe=-1),S=!0;var Ce=w;try{for(V($e),g=r(c);g!==null&&(!(g.expirationTime>$e)||de&&!Pe());){var W=g.callback;if(typeof W=="function"){g.callback=null,w=g.priorityLevel;var he=W(g.expirationTime<=$e);$e=e.unstable_now(),typeof he=="function"?g.callback=he:g===r(c)&&n(c),V($e)}else n(c);g=r(c)}if(g!==null)var Fe=!0;else{var ct=r(d);ct!==null&&it(U,ct.startTime-$e),Fe=!1}return Fe}finally{g=null,w=Ce,S=!1}}var Z=!1,Q=null,pe=-1,ye=5,ge=-1;function Pe(){return!(e.unstable_now()-ge<ye)}function Me(){if(Q!==null){var de=e.unstable_now();ge=de;var $e=!0;try{$e=Q(!0,de)}finally{$e?De():(Z=!1,Q=null)}}else Z=!1}var De;if(typeof F=="function")De=function(){F(Me)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,$t=Ae.port2;Ae.port1.onmessage=Me,De=function(){$t.postMessage(null)}}else De=function(){M(Me,0)};function kt(de){Q=de,Z||(Z=!0,De())}function it(de,$e){pe=M(function(){de(e.unstable_now())},$e)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(de){de.callback=null},e.unstable_continueExecution=function(){$||S||($=!0,kt(z))},e.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<de?Math.floor(1e3/de):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(de){switch(w){case 1:case 2:case 3:var $e=3;break;default:$e=w}var Ce=w;w=$e;try{return de()}finally{w=Ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(de,$e){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var Ce=w;w=de;try{return $e()}finally{w=Ce}},e.unstable_scheduleCallback=function(de,$e,Ce){var W=e.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?W+Ce:W):Ce=W,de){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Ce+he,de={id:m++,callback:$e,priorityLevel:de,startTime:Ce,expirationTime:he,sortIndex:-1},Ce>W?(de.sortIndex=Ce,t(d,de),r(c)===null&&de===r(d)&&(x?(P(pe),pe=-1):x=!0,it(U,Ce-W))):(de.sortIndex=he,t(c,de),$||S||($=!0,kt(z))),de},e.unstable_shouldYield=Pe,e.unstable_wrapCallback=function(de){var $e=w;return function(){var Ce=w;w=$e;try{return de.apply(this,arguments)}finally{w=Ce}}}}(vb)),vb}var mR;function CG(){return mR||(mR=1,gb.exports=AG()),gb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yR;function RG(){if(yR)return Ti;yR=1;var e=L0(),t=CG();function r(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,f=1;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(a,u){o(a,u),o(a+"Capture",u)}function o(a,u){for(i[a]=u,a=0;a<u.length;a++)n.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function w(a){return c.call(g,a)?!0:c.call(m,a)?!1:d.test(a)?g[a]=!0:(m[a]=!0,!1)}function S(a,u,f,v){if(f!==null&&f.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return v?!1:f!==null?!f.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function $(a,u,f,v){if(u===null||typeof u>"u"||S(a,u,f,v))return!0;if(v)return!1;if(f!==null)switch(f.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function x(a,u,f,v,_,T,R){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=v,this.attributeNamespace=_,this.mustUseProperty=f,this.propertyName=a,this.type=u,this.sanitizeURL=T,this.removeEmptyString=R}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){M[a]=new x(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];M[u]=new x(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){M[a]=new x(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){M[a]=new x(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){M[a]=new x(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){M[a]=new x(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){M[a]=new x(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){M[a]=new x(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){M[a]=new x(a,5,!1,a.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function F(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(P,F);M[u]=new x(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(P,F);M[u]=new x(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(P,F);M[u]=new x(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){M[a]=new x(a,1,!1,a.toLowerCase(),null,!1,!1)}),M.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){M[a]=new x(a,1,!1,a.toLowerCase(),null,!0,!0)});function V(a,u,f,v){var _=M.hasOwnProperty(u)?M[u]:null;(_!==null?_.type!==0:v||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&($(u,f,_,v)&&(f=null),v||_===null?w(u)&&(f===null?a.removeAttribute(u):a.setAttribute(u,""+f)):_.mustUseProperty?a[_.propertyName]=f===null?_.type===3?!1:"":f:(u=_.attributeName,v=_.attributeNamespace,f===null?a.removeAttribute(u):(_=_.type,f=_===3||_===4&&f===!0?"":""+f,v?a.setAttributeNS(v,u,f):a.setAttribute(u,f))))}var U=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),Z=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),pe=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),Pe=Symbol.for("react.context"),Me=Symbol.for("react.forward_ref"),De=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),$t=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),it=Symbol.for("react.offscreen"),de=Symbol.iterator;function $e(a){return a===null||typeof a!="object"?null:(a=de&&a[de]||a["@@iterator"],typeof a=="function"?a:null)}var Ce=Object.assign,W;function he(a){if(W===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+a}var Fe=!1;function ct(a,u){if(!a||Fe)return"";Fe=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(se){var v=se}Reflect.construct(a,[],u)}else{try{u.call()}catch(se){v=se}a.call(u.prototype)}else{try{throw Error()}catch(se){v=se}a()}}catch(se){if(se&&v&&typeof se.stack=="string"){for(var _=se.stack.split(`
`),T=v.stack.split(`
`),R=_.length-1,j=T.length-1;1<=R&&0<=j&&_[R]!==T[j];)j--;for(;1<=R&&0<=j;R--,j--)if(_[R]!==T[j]){if(R!==1||j!==1)do if(R--,j--,0>j||_[R]!==T[j]){var B=`
`+_[R].replace(" at new "," at ");return a.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",a.displayName)),B}while(1<=R&&0<=j);break}}}finally{Fe=!1,Error.prepareStackTrace=f}return(a=a?a.displayName||a.name:"")?he(a):""}function ht(a){switch(a.tag){case 5:return he(a.type);case 16:return he("Lazy");case 13:return he("Suspense");case 19:return he("SuspenseList");case 0:case 2:case 15:return a=ct(a.type,!1),a;case 11:return a=ct(a.type.render,!1),a;case 1:return a=ct(a.type,!0),a;default:return""}}function gt(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case Q:return"Fragment";case Z:return"Portal";case ye:return"Profiler";case pe:return"StrictMode";case De:return"Suspense";case Ae:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Pe:return(a.displayName||"Context")+".Consumer";case ge:return(a._context.displayName||"Context")+".Provider";case Me:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case $t:return u=a.displayName||null,u!==null?u:gt(a.type)||"Memo";case kt:u=a._payload,a=a._init;try{return gt(a(u))}catch{}}return null}function Je(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gt(u);case 8:return u===pe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function st(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function lt(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Jt(a){var u=lt(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),v=""+a[u];if(!a.hasOwnProperty(u)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var _=f.get,T=f.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return _.call(this)},set:function(R){v=""+R,T.call(this,R)}}),Object.defineProperty(a,u,{enumerable:f.enumerable}),{getValue:function(){return v},setValue:function(R){v=""+R},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function mn(a){a._valueTracker||(a._valueTracker=Jt(a))}function Vo(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var f=u.getValue(),v="";return a&&(v=lt(a)?a.checked?"true":"false":a.value),a=v,a!==f?(u.setValue(a),!0):!1}function Er(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Tn(a,u){var f=u.checked;return Ce({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??a._wrapperState.initialChecked})}function ja(a,u){var f=u.defaultValue==null?"":u.defaultValue,v=u.checked!=null?u.checked:u.defaultChecked;f=st(u.value!=null?u.value:f),a._wrapperState={initialChecked:v,initialValue:f,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Ws(a,u){u=u.checked,u!=null&&V(a,"checked",u,!1)}function za(a,u){Ws(a,u);var f=st(u.value),v=u.type;if(f!=null)v==="number"?(f===0&&a.value===""||a.value!=f)&&(a.value=""+f):a.value!==""+f&&(a.value=""+f);else if(v==="submit"||v==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?Fi(a,u.type,f):u.hasOwnProperty("defaultValue")&&Fi(a,u.type,st(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function qs(a,u,f){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var v=u.type;if(!(v!=="submit"&&v!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,f||u===a.value||(a.value=u),a.defaultValue=u}f=a.name,f!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,f!==""&&(a.name=f)}function Fi(a,u,f){(u!=="number"||Er(a.ownerDocument)!==a)&&(f==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+f&&(a.defaultValue=""+f))}var ui=Array.isArray;function ci(a,u,f,v){if(a=a.options,u){u={};for(var _=0;_<f.length;_++)u["$"+f[_]]=!0;for(f=0;f<a.length;f++)_=u.hasOwnProperty("$"+a[f].value),a[f].selected!==_&&(a[f].selected=_),_&&v&&(a[f].defaultSelected=!0)}else{for(f=""+st(f),u=null,_=0;_<a.length;_++){if(a[_].value===f){a[_].selected=!0,v&&(a[_].defaultSelected=!0);return}u!==null||a[_].disabled||(u=a[_])}u!==null&&(u.selected=!0)}}function yn(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return Ce({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function rr(a,u){var f=u.value;if(f==null){if(f=u.children,u=u.defaultValue,f!=null){if(u!=null)throw Error(r(92));if(ui(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),f=u}a._wrapperState={initialValue:st(f)}}function Ga(a,u){var f=st(u.value),v=st(u.defaultValue);f!=null&&(f=""+f,f!==a.value&&(a.value=f),u.defaultValue==null&&a.defaultValue!==f&&(a.defaultValue=f)),v!=null&&(a.defaultValue=""+v)}function Va(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function Ba(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bo(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?Ba(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ui,Ha=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,f,v,_){MSApp.execUnsafeLocalFunction(function(){return a(u,f,v,_)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(Ui=Ui||document.createElement("div"),Ui.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Ui.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function ds(a,u){if(u){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=u;return}}a.textContent=u}var Zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wa=["Webkit","ms","Moz","O"];Object.keys(Zs).forEach(function(a){Wa.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),Zs[u]=Zs[a]})});function Ys(a,u,f){return u==null||typeof u=="boolean"||u===""?"":f||typeof u!="number"||u===0||Zs.hasOwnProperty(a)&&Zs[a]?(""+u).trim():u+"px"}function Zl(a,u){a=a.style;for(var f in u)if(u.hasOwnProperty(f)){var v=f.indexOf("--")===0,_=Ys(f,u[f],v);f==="float"&&(f="cssFloat"),v?a.setProperty(f,_):a[f]=_}}var Oc=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qa(a,u){if(u){if(Oc[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function Za(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ya=null;function rn(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Js=null,qn=null,Pt=null;function hs(a){if(a=Kf(a)){if(typeof Js!="function")throw Error(r(280));var u=a.stateNode;u&&(u=kg(u),Js(a.stateNode,a.type,u))}}function Ks(a){qn?Pt?Pt.push(a):Pt=[a]:qn=a}function ps(){if(qn){var a=qn,u=Pt;if(Pt=qn=null,hs(a),u)for(a=0;a<u.length;a++)hs(u[a])}}function Zn(a,u){return a(u)}function Xs(){}var Yn=!1;function ne(a,u,f){if(Yn)return a(u,f);Yn=!0;try{return Zn(a,u,f)}finally{Yn=!1,(qn!==null||Pt!==null)&&(Xs(),ps())}}function It(a,u){var f=a.stateNode;if(f===null)return null;var v=kg(f);if(v===null)return null;f=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(r(231,u,typeof f));return f}var $n=!1;if(l)try{var Ir={};Object.defineProperty(Ir,"passive",{get:function(){$n=!0}}),window.addEventListener("test",Ir,Ir),window.removeEventListener("test",Ir,Ir)}catch{$n=!1}function Qs(a,u,f,v,_,T,R,j,B){var se=Array.prototype.slice.call(arguments,3);try{u.apply(f,se)}catch(_e){this.onError(_e)}}var Ie=!1,ji=null,nr=!1,xn=null,Yl={onError:function(a){Ie=!0,ji=a}};function nn(a,u,f,v,_,T,R,j,B){Ie=!1,ji=null,Qs.apply(Yl,arguments)}function Ho(a,u,f,v,_,T,R,j,B){if(nn.apply(this,arguments),Ie){if(Ie){var se=ji;Ie=!1,ji=null}else throw Error(r(198));nr||(nr=!0,xn=se)}}function di(a){var u=a,f=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,u.flags&4098&&(f=u.return),a=u.return;while(a)}return u.tag===3?f:null}function Qe(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function Jl(a){if(di(a)!==a)throw Error(r(188))}function Wo(a){var u=a.alternate;if(!u){if(u=di(a),u===null)throw Error(r(188));return u!==a?null:a}for(var f=a,v=u;;){var _=f.return;if(_===null)break;var T=_.alternate;if(T===null){if(v=_.return,v!==null){f=v;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===f)return Jl(_),a;if(T===v)return Jl(_),u;T=T.sibling}throw Error(r(188))}if(f.return!==v.return)f=_,v=T;else{for(var R=!1,j=_.child;j;){if(j===f){R=!0,f=_,v=T;break}if(j===v){R=!0,v=_,f=T;break}j=j.sibling}if(!R){for(j=T.child;j;){if(j===f){R=!0,f=T,v=_;break}if(j===v){R=!0,v=T,f=_;break}j=j.sibling}if(!R)throw Error(r(189))}}if(f.alternate!==v)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?a:u}function eo(a){return a=Wo(a),a!==null?fs(a):null}function fs(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=fs(a);if(u!==null)return u;a=a.sibling}return null}var zi=t.unstable_scheduleCallback,Ja=t.unstable_cancelCallback,qo=t.unstable_shouldYield,dr=t.unstable_requestPaint,Yt=t.unstable_now,Vr=t.unstable_getCurrentPriorityLevel,Zo=t.unstable_ImmediatePriority,Yo=t.unstable_UserBlockingPriority,ms=t.unstable_NormalPriority,Kl=t.unstable_LowPriority,Gi=t.unstable_IdlePriority,ar=null,gn=null;function to(a){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(ar,a,void 0,(a.current.flags&128)===128)}catch{}}var L=Math.clz32?Math.clz32:Ke,le=Math.log,we=Math.LN2;function Ke(a){return a>>>=0,a===0?32:31-(le(a)/we|0)|0}var Ct=64,Ft=4194304;function Wt(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function hr(a,u){var f=a.pendingLanes;if(f===0)return 0;var v=0,_=a.suspendedLanes,T=a.pingedLanes,R=f&268435455;if(R!==0){var j=R&~_;j!==0?v=Wt(j):(T&=R,T!==0&&(v=Wt(T)))}else R=f&~_,R!==0?v=Wt(R):T!==0&&(v=Wt(T));if(v===0)return 0;if(u!==0&&u!==v&&!(u&_)&&(_=v&-v,T=u&-u,_>=T||_===16&&(T&4194240)!==0))return u;if(v&4&&(v|=f&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=v;0<u;)f=31-L(u),_=1<<f,v|=a[f],u&=~_;return v}function b(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A(a,u){for(var f=a.suspendedLanes,v=a.pingedLanes,_=a.expirationTimes,T=a.pendingLanes;0<T;){var R=31-L(T),j=1<<R,B=_[R];B===-1?(!(j&f)||j&v)&&(_[R]=b(j,u)):B<=u&&(a.expiredLanes|=j),T&=~j}}function I(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function D(){var a=Ct;return Ct<<=1,!(Ct&4194240)&&(Ct=64),a}function ee(a){for(var u=[],f=0;31>f;f++)u.push(a);return u}function J(a,u,f){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-L(u),a[u]=f}function ue(a,u){var f=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var v=a.eventTimes;for(a=a.expirationTimes;0<f;){var _=31-L(f),T=1<<_;u[_]=0,v[_]=-1,a[_]=-1,f&=~T}}function xe(a,u){var f=a.entangledLanes|=u;for(a=a.entanglements;f;){var v=31-L(f),_=1<<v;_&u|a[v]&u&&(a[v]|=u),f&=~_}}var Re=0;function ut(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var St,Kt,hi,pi,Mn,ro=!1,fi=[],mi=null,kn=null,Vi=null,yi=new Map,Jo=new Map,Ko=[],WS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pg(a,u){switch(a){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":yi.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(u.pointerId)}}function Ic(a,u,f,v,_,T){return a===null||a.nativeEvent!==T?(a={blockedOn:u,domEventName:f,eventSystemFlags:v,nativeEvent:T,targetContainers:[_]},u!==null&&(u=Kf(u),u!==null&&Kt(u)),a):(a.eventSystemFlags|=v,u=a.targetContainers,_!==null&&u.indexOf(_)===-1&&u.push(_),a)}function qS(a,u,f,v,_){switch(u){case"focusin":return mi=Ic(mi,a,u,f,v,_),!0;case"dragenter":return kn=Ic(kn,a,u,f,v,_),!0;case"mouseover":return Vi=Ic(Vi,a,u,f,v,_),!0;case"pointerover":var T=_.pointerId;return yi.set(T,Ic(yi.get(T)||null,a,u,f,v,_)),!0;case"gotpointercapture":return T=_.pointerId,Jo.set(T,Ic(Jo.get(T)||null,a,u,f,v,_)),!0}return!1}function ys(a){var u=Gc(a.target);if(u!==null){var f=di(u);if(f!==null){if(u=f.tag,u===13){if(u=Qe(f),u!==null){a.blockedOn=u,Mn(a.priority,function(){hi(f)});return}}else if(u===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xl(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var f=Lc(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(f===null){f=a.nativeEvent;var v=new f.constructor(f.type,f);Ya=v,f.target.dispatchEvent(v),Ya=null}else return u=Kf(f),u!==null&&Kt(u),a.blockedOn=f,!1;u.shift()}return!0}function Nc(a,u,f){Xl(a)&&f.delete(u)}function Xt(){ro=!1,mi!==null&&Xl(mi)&&(mi=null),kn!==null&&Xl(kn)&&(kn=null),Vi!==null&&Xl(Vi)&&(Vi=null),yi.forEach(Nc),Jo.forEach(Nc)}function no(a,u){a.blockedOn===u&&(a.blockedOn=null,ro||(ro=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Xt)))}function Xo(a){function u(_){return no(_,a)}if(0<fi.length){no(fi[0],a);for(var f=1;f<fi.length;f++){var v=fi[f];v.blockedOn===a&&(v.blockedOn=null)}}for(mi!==null&&no(mi,a),kn!==null&&no(kn,a),Vi!==null&&no(Vi,a),yi.forEach(u),Jo.forEach(u),f=0;f<Ko.length;f++)v=Ko[f],v.blockedOn===a&&(v.blockedOn=null);for(;0<Ko.length&&(f=Ko[0],f.blockedOn===null);)ys(f),f.blockedOn===null&&Ko.shift()}var gs=U.ReactCurrentBatchConfig,Bi=!0;function Mh(a,u,f,v){var _=Re,T=gs.transition;gs.transition=null;try{Re=1,kh(a,u,f,v)}finally{Re=_,gs.transition=T}}function Ka(a,u,f,v){var _=Re,T=gs.transition;gs.transition=null;try{Re=4,kh(a,u,f,v)}finally{Re=_,gs.transition=T}}function kh(a,u,f,v){if(Bi){var _=Lc(a,u,f,v);if(_===null)i2(a,u,v,Ql,f),pg(a,v);else if(qS(_,a,u,f,v))v.stopPropagation();else if(pg(a,v),u&4&&-1<WS.indexOf(a)){for(;_!==null;){var T=Kf(_);if(T!==null&&St(T),T=Lc(a,u,f,v),T===null&&i2(a,u,v,Ql,f),T===_)break;_=T}_!==null&&v.stopPropagation()}else i2(a,u,v,null,f)}}var Ql=null;function Lc(a,u,f,v){if(Ql=null,a=rn(v),a=Gc(a),a!==null)if(u=di(a),u===null)a=null;else if(f=u.tag,f===13){if(a=Qe(u),a!==null)return a;a=null}else if(f===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return Ql=a,null}function Nf(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vr()){case Zo:return 1;case Yo:return 4;case ms:case Kl:return 16;case Gi:return 536870912;default:return 16}default:return 16}}var io=null,Ah=null,Ch=null;function fg(){if(Ch)return Ch;var a,u=Ah,f=u.length,v,_="value"in io?io.value:io.textContent,T=_.length;for(a=0;a<f&&u[a]===_[a];a++);var R=f-a;for(v=1;v<=R&&u[f-v]===_[T-v];v++);return Ch=_.slice(a,1<v?1-v:void 0)}function Xa(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function Dc(){return!0}function Fc(){return!1}function vn(a){function u(f,v,_,T,R){this._reactName=f,this._targetInst=_,this.type=v,this.nativeEvent=T,this.target=R,this.currentTarget=null;for(var j in a)a.hasOwnProperty(j)&&(f=a[j],this[j]=f?f(T):T[j]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Dc:Fc,this.isPropagationStopped=Fc,this}return Ce(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),u}var eu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=vn(eu),Uc=Ce({},eu,{view:0,detail:0}),Lf=vn(Uc),tu,el,Qo,jc=Ce({},Uc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Qo&&(Qo&&a.type==="mousemove"?(tu=a.screenX-Qo.screenX,el=a.screenY-Qo.screenY):el=tu=0,Qo=a),tu)},movementY:function(a){return"movementY"in a?a.movementY:el}}),Df=vn(jc),mg=Ce({},jc,{dataTransfer:0}),Ff=vn(mg),Jn=Ce({},Uc,{relatedTarget:0}),Rh=vn(Jn),Uf=Ce({},eu,{animationName:0,elapsedTime:0,pseudoElement:0}),ZS=vn(Uf),yg=Ce({},eu,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ph=vn(yg),gg=Ce({},eu,{data:0}),jf=vn(gg),Oh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ih={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wg(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=vg[a])?!!u[a]:!1}function Nh(){return wg}var zf=Ce({},Uc,{key:function(a){if(a.key){var u=Oh[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Xa(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ih[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nh,charCode:function(a){return a.type==="keypress"?Xa(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Xa(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),_g=vn(zf),E=Ce({},jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k=vn(E),O=Ce({},Uc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nh}),N=vn(O),re=Ce({},eu,{propertyName:0,elapsedTime:0,pseudoElement:0}),X=vn(re),ce=Ce({},jc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ee=vn(ce),ot=[9,13,27,32],Tt=l&&"CompositionEvent"in window,pt=null;l&&"documentMode"in document&&(pt=document.documentMode);var ir=l&&"TextEvent"in window&&!pt,An=l&&(!Tt||pt&&8<pt&&11>=pt),gi=" ",vi=!1;function zc(a,u){switch(a){case"keyup":return ot.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gf(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ea=!1;function bz(a,u){switch(a){case"compositionend":return Gf(u);case"keypress":return u.which!==32?null:(vi=!0,gi);case"textInput":return a=u.data,a===gi&&vi?null:a;default:return null}}function Ez(a,u){if(ea)return a==="compositionend"||!Tt&&zc(a,u)?(a=fg(),Ch=Ah=io=null,ea=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return An&&u.locale!=="ko"?null:u.data;default:return null}}var Tz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oA(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!Tz[a.type]:u==="textarea"}function aA(a,u,f,v){Ks(v),u=$g(u,"onChange"),0<u.length&&(f=new Qa("onChange","change",null,f,v),a.push({event:f,listeners:u}))}var Vf=null,Bf=null;function $z(a){$A(a,0)}function Sg(a){var u=jh(a);if(Vo(u))return a}function xz(a,u){if(a==="change")return u}var lA=!1;if(l){var YS;if(l){var JS="oninput"in document;if(!JS){var uA=document.createElement("div");uA.setAttribute("oninput","return;"),JS=typeof uA.oninput=="function"}YS=JS}else YS=!1;lA=YS&&(!document.documentMode||9<document.documentMode)}function cA(){Vf&&(Vf.detachEvent("onpropertychange",dA),Bf=Vf=null)}function dA(a){if(a.propertyName==="value"&&Sg(Bf)){var u=[];aA(u,Bf,a,rn(a)),ne($z,u)}}function Mz(a,u,f){a==="focusin"?(cA(),Vf=u,Bf=f,Vf.attachEvent("onpropertychange",dA)):a==="focusout"&&cA()}function kz(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Sg(Bf)}function Az(a,u){if(a==="click")return Sg(u)}function Cz(a,u){if(a==="input"||a==="change")return Sg(u)}function Rz(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var so=typeof Object.is=="function"?Object.is:Rz;function Hf(a,u){if(so(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var f=Object.keys(a),v=Object.keys(u);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var _=f[v];if(!c.call(u,_)||!so(a[_],u[_]))return!1}return!0}function hA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function pA(a,u){var f=hA(a);a=0;for(var v;f;){if(f.nodeType===3){if(v=a+f.textContent.length,a<=u&&v>=u)return{node:f,offset:u-a};a=v}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=hA(f)}}function fA(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?fA(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function mA(){for(var a=window,u=Er();u instanceof a.HTMLIFrameElement;){try{var f=typeof u.contentWindow.location.href=="string"}catch{f=!1}if(f)a=u.contentWindow;else break;u=Er(a.document)}return u}function KS(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function Pz(a){var u=mA(),f=a.focusedElem,v=a.selectionRange;if(u!==f&&f&&f.ownerDocument&&fA(f.ownerDocument.documentElement,f)){if(v!==null&&KS(f)){if(u=v.start,a=v.end,a===void 0&&(a=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(a,f.value.length);else if(a=(u=f.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var _=f.textContent.length,T=Math.min(v.start,_);v=v.end===void 0?T:Math.min(v.end,_),!a.extend&&T>v&&(_=v,v=T,T=_),_=pA(f,T);var R=pA(f,v);_&&R&&(a.rangeCount!==1||a.anchorNode!==_.node||a.anchorOffset!==_.offset||a.focusNode!==R.node||a.focusOffset!==R.offset)&&(u=u.createRange(),u.setStart(_.node,_.offset),a.removeAllRanges(),T>v?(a.addRange(u),a.extend(R.node,R.offset)):(u.setEnd(R.node,R.offset),a.addRange(u)))}}for(u=[],a=f;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)a=u[f],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Oz=l&&"documentMode"in document&&11>=document.documentMode,Lh=null,XS=null,Wf=null,QS=!1;function yA(a,u,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;QS||Lh==null||Lh!==Er(v)||(v=Lh,"selectionStart"in v&&KS(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Wf&&Hf(Wf,v)||(Wf=v,v=$g(XS,"onSelect"),0<v.length&&(u=new Qa("onSelect","select",null,u,f),a.push({event:u,listeners:v}),u.target=Lh)))}function bg(a,u){var f={};return f[a.toLowerCase()]=u.toLowerCase(),f["Webkit"+a]="webkit"+u,f["Moz"+a]="moz"+u,f}var Dh={animationend:bg("Animation","AnimationEnd"),animationiteration:bg("Animation","AnimationIteration"),animationstart:bg("Animation","AnimationStart"),transitionend:bg("Transition","TransitionEnd")},e2={},gA={};l&&(gA=document.createElement("div").style,"AnimationEvent"in window||(delete Dh.animationend.animation,delete Dh.animationiteration.animation,delete Dh.animationstart.animation),"TransitionEvent"in window||delete Dh.transitionend.transition);function Eg(a){if(e2[a])return e2[a];if(!Dh[a])return a;var u=Dh[a],f;for(f in u)if(u.hasOwnProperty(f)&&f in gA)return e2[a]=u[f];return a}var vA=Eg("animationend"),wA=Eg("animationiteration"),_A=Eg("animationstart"),SA=Eg("transitionend"),bA=new Map,EA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ru(a,u){bA.set(a,u),s(u,[a])}for(var t2=0;t2<EA.length;t2++){var r2=EA[t2],Iz=r2.toLowerCase(),Nz=r2[0].toUpperCase()+r2.slice(1);ru(Iz,"on"+Nz)}ru(vA,"onAnimationEnd"),ru(wA,"onAnimationIteration"),ru(_A,"onAnimationStart"),ru("dblclick","onDoubleClick"),ru("focusin","onFocus"),ru("focusout","onBlur"),ru(SA,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lz=new Set("cancel close invalid load scroll toggle".split(" ").concat(qf));function TA(a,u,f){var v=a.type||"unknown-event";a.currentTarget=f,Ho(v,u,void 0,a),a.currentTarget=null}function $A(a,u){u=(u&4)!==0;for(var f=0;f<a.length;f++){var v=a[f],_=v.event;v=v.listeners;e:{var T=void 0;if(u)for(var R=v.length-1;0<=R;R--){var j=v[R],B=j.instance,se=j.currentTarget;if(j=j.listener,B!==T&&_.isPropagationStopped())break e;TA(_,j,se),T=B}else for(R=0;R<v.length;R++){if(j=v[R],B=j.instance,se=j.currentTarget,j=j.listener,B!==T&&_.isPropagationStopped())break e;TA(_,j,se),T=B}}}if(nr)throw a=xn,nr=!1,xn=null,a}function pr(a,u){var f=u[c2];f===void 0&&(f=u[c2]=new Set);var v=a+"__bubble";f.has(v)||(xA(u,a,2,!1),f.add(v))}function n2(a,u,f){var v=0;u&&(v|=4),xA(f,a,v,u)}var Tg="_reactListening"+Math.random().toString(36).slice(2);function Zf(a){if(!a[Tg]){a[Tg]=!0,n.forEach(function(f){f!=="selectionchange"&&(Lz.has(f)||n2(f,!1,a),n2(f,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[Tg]||(u[Tg]=!0,n2("selectionchange",!1,u))}}function xA(a,u,f,v){switch(Nf(u)){case 1:var _=Mh;break;case 4:_=Ka;break;default:_=kh}f=_.bind(null,u,f,a),_=void 0,!$n||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(_=!0),v?_!==void 0?a.addEventListener(u,f,{capture:!0,passive:_}):a.addEventListener(u,f,!0):_!==void 0?a.addEventListener(u,f,{passive:_}):a.addEventListener(u,f,!1)}function i2(a,u,f,v,_){var T=v;if(!(u&1)&&!(u&2)&&v!==null)e:for(;;){if(v===null)return;var R=v.tag;if(R===3||R===4){var j=v.stateNode.containerInfo;if(j===_||j.nodeType===8&&j.parentNode===_)break;if(R===4)for(R=v.return;R!==null;){var B=R.tag;if((B===3||B===4)&&(B=R.stateNode.containerInfo,B===_||B.nodeType===8&&B.parentNode===_))return;R=R.return}for(;j!==null;){if(R=Gc(j),R===null)return;if(B=R.tag,B===5||B===6){v=T=R;continue e}j=j.parentNode}}v=v.return}ne(function(){var se=T,_e=rn(f),Se=[];e:{var ve=bA.get(a);if(ve!==void 0){var Le=Qa,Ge=a;switch(a){case"keypress":if(Xa(f)===0)break e;case"keydown":case"keyup":Le=_g;break;case"focusin":Ge="focus",Le=Rh;break;case"focusout":Ge="blur",Le=Rh;break;case"beforeblur":case"afterblur":Le=Rh;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=Df;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=Ff;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=N;break;case vA:case wA:case _A:Le=ZS;break;case SA:Le=X;break;case"scroll":Le=Lf;break;case"wheel":Le=Ee;break;case"copy":case"cut":case"paste":Le=Ph;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=k}var Be=(u&4)!==0,zr=!Be&&a==="scroll",K=Be?ve!==null?ve+"Capture":null:ve;Be=[];for(var q=se,te;q!==null;){te=q;var Te=te.stateNode;if(te.tag===5&&Te!==null&&(te=Te,K!==null&&(Te=It(q,K),Te!=null&&Be.push(Yf(q,Te,te)))),zr)break;q=q.return}0<Be.length&&(ve=new Le(ve,Ge,null,f,_e),Se.push({event:ve,listeners:Be}))}}if(!(u&7)){e:{if(ve=a==="mouseover"||a==="pointerover",Le=a==="mouseout"||a==="pointerout",ve&&f!==Ya&&(Ge=f.relatedTarget||f.fromElement)&&(Gc(Ge)||Ge[tl]))break e;if((Le||ve)&&(ve=_e.window===_e?_e:(ve=_e.ownerDocument)?ve.defaultView||ve.parentWindow:window,Le?(Ge=f.relatedTarget||f.toElement,Le=se,Ge=Ge?Gc(Ge):null,Ge!==null&&(zr=di(Ge),Ge!==zr||Ge.tag!==5&&Ge.tag!==6)&&(Ge=null)):(Le=null,Ge=se),Le!==Ge)){if(Be=Df,Te="onMouseLeave",K="onMouseEnter",q="mouse",(a==="pointerout"||a==="pointerover")&&(Be=k,Te="onPointerLeave",K="onPointerEnter",q="pointer"),zr=Le==null?ve:jh(Le),te=Ge==null?ve:jh(Ge),ve=new Be(Te,q+"leave",Le,f,_e),ve.target=zr,ve.relatedTarget=te,Te=null,Gc(_e)===se&&(Be=new Be(K,q+"enter",Ge,f,_e),Be.target=te,Be.relatedTarget=zr,Te=Be),zr=Te,Le&&Ge)t:{for(Be=Le,K=Ge,q=0,te=Be;te;te=Fh(te))q++;for(te=0,Te=K;Te;Te=Fh(Te))te++;for(;0<q-te;)Be=Fh(Be),q--;for(;0<te-q;)K=Fh(K),te--;for(;q--;){if(Be===K||K!==null&&Be===K.alternate)break t;Be=Fh(Be),K=Fh(K)}Be=null}else Be=null;Le!==null&&MA(Se,ve,Le,Be,!1),Ge!==null&&zr!==null&&MA(Se,zr,Ge,Be,!0)}}e:{if(ve=se?jh(se):window,Le=ve.nodeName&&ve.nodeName.toLowerCase(),Le==="select"||Le==="input"&&ve.type==="file")var We=xz;else if(oA(ve))if(lA)We=Cz;else{We=kz;var tt=Mz}else(Le=ve.nodeName)&&Le.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(We=Az);if(We&&(We=We(a,se))){aA(Se,We,f,_e);break e}tt&&tt(a,ve,se),a==="focusout"&&(tt=ve._wrapperState)&&tt.controlled&&ve.type==="number"&&Fi(ve,"number",ve.value)}switch(tt=se?jh(se):window,a){case"focusin":(oA(tt)||tt.contentEditable==="true")&&(Lh=tt,XS=se,Wf=null);break;case"focusout":Wf=XS=Lh=null;break;case"mousedown":QS=!0;break;case"contextmenu":case"mouseup":case"dragend":QS=!1,yA(Se,f,_e);break;case"selectionchange":if(Oz)break;case"keydown":case"keyup":yA(Se,f,_e)}var rt;if(Tt)e:{switch(a){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else ea?zc(a,f)&&(ft="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(ft="onCompositionStart");ft&&(An&&f.locale!=="ko"&&(ea||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&ea&&(rt=fg()):(io=_e,Ah="value"in io?io.value:io.textContent,ea=!0)),tt=$g(se,ft),0<tt.length&&(ft=new jf(ft,a,null,f,_e),Se.push({event:ft,listeners:tt}),rt?ft.data=rt:(rt=Gf(f),rt!==null&&(ft.data=rt)))),(rt=ir?bz(a,f):Ez(a,f))&&(se=$g(se,"onBeforeInput"),0<se.length&&(_e=new jf("onBeforeInput","beforeinput",null,f,_e),Se.push({event:_e,listeners:se}),_e.data=rt))}$A(Se,u)})}function Yf(a,u,f){return{instance:a,listener:u,currentTarget:f}}function $g(a,u){for(var f=u+"Capture",v=[];a!==null;){var _=a,T=_.stateNode;_.tag===5&&T!==null&&(_=T,T=It(a,f),T!=null&&v.unshift(Yf(a,T,_)),T=It(a,u),T!=null&&v.push(Yf(a,T,_))),a=a.return}return v}function Fh(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function MA(a,u,f,v,_){for(var T=u._reactName,R=[];f!==null&&f!==v;){var j=f,B=j.alternate,se=j.stateNode;if(B!==null&&B===v)break;j.tag===5&&se!==null&&(j=se,_?(B=It(f,T),B!=null&&R.unshift(Yf(f,B,j))):_||(B=It(f,T),B!=null&&R.push(Yf(f,B,j)))),f=f.return}R.length!==0&&a.push({event:u,listeners:R})}var Dz=/\r\n?/g,Fz=/\u0000|\uFFFD/g;function kA(a){return(typeof a=="string"?a:""+a).replace(Dz,`
`).replace(Fz,"")}function xg(a,u,f){if(u=kA(u),kA(a)!==u&&f)throw Error(r(425))}function Mg(){}var s2=null,o2=null;function a2(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var l2=typeof setTimeout=="function"?setTimeout:void 0,Uz=typeof clearTimeout=="function"?clearTimeout:void 0,AA=typeof Promise=="function"?Promise:void 0,jz=typeof queueMicrotask=="function"?queueMicrotask:typeof AA<"u"?function(a){return AA.resolve(null).then(a).catch(zz)}:l2;function zz(a){setTimeout(function(){throw a})}function u2(a,u){var f=u,v=0;do{var _=f.nextSibling;if(a.removeChild(f),_&&_.nodeType===8)if(f=_.data,f==="/$"){if(v===0){a.removeChild(_),Xo(u);return}v--}else f!=="$"&&f!=="$?"&&f!=="$!"||v++;f=_}while(f);Xo(u)}function nu(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function CA(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(u===0)return a;u--}else f==="/$"&&u++}a=a.previousSibling}return null}var Uh=Math.random().toString(36).slice(2),ta="__reactFiber$"+Uh,Jf="__reactProps$"+Uh,tl="__reactContainer$"+Uh,c2="__reactEvents$"+Uh,Gz="__reactListeners$"+Uh,Vz="__reactHandles$"+Uh;function Gc(a){var u=a[ta];if(u)return u;for(var f=a.parentNode;f;){if(u=f[tl]||f[ta]){if(f=u.alternate,u.child!==null||f!==null&&f.child!==null)for(a=CA(a);a!==null;){if(f=a[ta])return f;a=CA(a)}return u}a=f,f=a.parentNode}return null}function Kf(a){return a=a[ta]||a[tl],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function jh(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function kg(a){return a[Jf]||null}var d2=[],zh=-1;function iu(a){return{current:a}}function fr(a){0>zh||(a.current=d2[zh],d2[zh]=null,zh--)}function lr(a,u){zh++,d2[zh]=a.current,a.current=u}var su={},Cn=iu(su),wi=iu(!1),Vc=su;function Gh(a,u){var f=a.type.contextTypes;if(!f)return su;var v=a.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var _={},T;for(T in f)_[T]=u[T];return v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=_),_}function _i(a){return a=a.childContextTypes,a!=null}function Ag(){fr(wi),fr(Cn)}function RA(a,u,f){if(Cn.current!==su)throw Error(r(168));lr(Cn,u),lr(wi,f)}function PA(a,u,f){var v=a.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return f;v=v.getChildContext();for(var _ in v)if(!(_ in u))throw Error(r(108,Je(a)||"Unknown",_));return Ce({},f,v)}function Cg(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||su,Vc=Cn.current,lr(Cn,a),lr(wi,wi.current),!0}function OA(a,u,f){var v=a.stateNode;if(!v)throw Error(r(169));f?(a=PA(a,u,Vc),v.__reactInternalMemoizedMergedChildContext=a,fr(wi),fr(Cn),lr(Cn,a)):fr(wi),lr(wi,f)}var rl=null,Rg=!1,h2=!1;function IA(a){rl===null?rl=[a]:rl.push(a)}function Bz(a){Rg=!0,IA(a)}function ou(){if(!h2&&rl!==null){h2=!0;var a=0,u=Re;try{var f=rl;for(Re=1;a<f.length;a++){var v=f[a];do v=v(!0);while(v!==null)}rl=null,Rg=!1}catch(_){throw rl!==null&&(rl=rl.slice(a+1)),zi(Zo,ou),_}finally{Re=u,h2=!1}}return null}var Vh=[],Bh=0,Pg=null,Og=0,vs=[],ws=0,Bc=null,nl=1,il="";function Hc(a,u){Vh[Bh++]=Og,Vh[Bh++]=Pg,Pg=a,Og=u}function NA(a,u,f){vs[ws++]=nl,vs[ws++]=il,vs[ws++]=Bc,Bc=a;var v=nl;a=il;var _=32-L(v)-1;v&=~(1<<_),f+=1;var T=32-L(u)+_;if(30<T){var R=_-_%5;T=(v&(1<<R)-1).toString(32),v>>=R,_-=R,nl=1<<32-L(u)+_|f<<_|v,il=T+a}else nl=1<<T|f<<_|v,il=a}function p2(a){a.return!==null&&(Hc(a,1),NA(a,1,0))}function f2(a){for(;a===Pg;)Pg=Vh[--Bh],Vh[Bh]=null,Og=Vh[--Bh],Vh[Bh]=null;for(;a===Bc;)Bc=vs[--ws],vs[ws]=null,il=vs[--ws],vs[ws]=null,nl=vs[--ws],vs[ws]=null}var Hi=null,Wi=null,Tr=!1,oo=null;function LA(a,u){var f=Es(5,null,null,0);f.elementType="DELETED",f.stateNode=u,f.return=a,u=a.deletions,u===null?(a.deletions=[f],a.flags|=16):u.push(f)}function DA(a,u){switch(a.tag){case 5:var f=a.type;return u=u.nodeType!==1||f.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,Hi=a,Wi=nu(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,Hi=a,Wi=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(f=Bc!==null?{id:nl,overflow:il}:null,a.memoizedState={dehydrated:u,treeContext:f,retryLane:1073741824},f=Es(18,null,null,0),f.stateNode=u,f.return=a,a.child=f,Hi=a,Wi=null,!0):!1;default:return!1}}function m2(a){return(a.mode&1)!==0&&(a.flags&128)===0}function y2(a){if(Tr){var u=Wi;if(u){var f=u;if(!DA(a,u)){if(m2(a))throw Error(r(418));u=nu(f.nextSibling);var v=Hi;u&&DA(a,u)?LA(v,f):(a.flags=a.flags&-4097|2,Tr=!1,Hi=a)}}else{if(m2(a))throw Error(r(418));a.flags=a.flags&-4097|2,Tr=!1,Hi=a}}}function FA(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Hi=a}function Ig(a){if(a!==Hi)return!1;if(!Tr)return FA(a),Tr=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!a2(a.type,a.memoizedProps)),u&&(u=Wi)){if(m2(a))throw UA(),Error(r(418));for(;u;)LA(a,u),u=nu(u.nextSibling)}if(FA(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"){if(u===0){Wi=nu(a.nextSibling);break e}u--}else f!=="$"&&f!=="$!"&&f!=="$?"||u++}a=a.nextSibling}Wi=null}}else Wi=Hi?nu(a.stateNode.nextSibling):null;return!0}function UA(){for(var a=Wi;a;)a=nu(a.nextSibling)}function Hh(){Wi=Hi=null,Tr=!1}function g2(a){oo===null?oo=[a]:oo.push(a)}var Hz=U.ReactCurrentBatchConfig;function Xf(a,u,f){if(a=f.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var v=f.stateNode}if(!v)throw Error(r(147,a));var _=v,T=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function(R){var j=_.refs;R===null?delete j[T]:j[T]=R},u._stringRef=T,u)}if(typeof a!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,a))}return a}function Ng(a,u){throw a=Object.prototype.toString.call(u),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function jA(a){var u=a._init;return u(a._payload)}function zA(a){function u(K,q){if(a){var te=K.deletions;te===null?(K.deletions=[q],K.flags|=16):te.push(q)}}function f(K,q){if(!a)return null;for(;q!==null;)u(K,q),q=q.sibling;return null}function v(K,q){for(K=new Map;q!==null;)q.key!==null?K.set(q.key,q):K.set(q.index,q),q=q.sibling;return K}function _(K,q){return K=fu(K,q),K.index=0,K.sibling=null,K}function T(K,q,te){return K.index=te,a?(te=K.alternate,te!==null?(te=te.index,te<q?(K.flags|=2,q):te):(K.flags|=2,q)):(K.flags|=1048576,q)}function R(K){return a&&K.alternate===null&&(K.flags|=2),K}function j(K,q,te,Te){return q===null||q.tag!==6?(q=lb(te,K.mode,Te),q.return=K,q):(q=_(q,te),q.return=K,q)}function B(K,q,te,Te){var We=te.type;return We===Q?_e(K,q,te.props.children,Te,te.key):q!==null&&(q.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===kt&&jA(We)===q.type)?(Te=_(q,te.props),Te.ref=Xf(K,q,te),Te.return=K,Te):(Te=s1(te.type,te.key,te.props,null,K.mode,Te),Te.ref=Xf(K,q,te),Te.return=K,Te)}function se(K,q,te,Te){return q===null||q.tag!==4||q.stateNode.containerInfo!==te.containerInfo||q.stateNode.implementation!==te.implementation?(q=ub(te,K.mode,Te),q.return=K,q):(q=_(q,te.children||[]),q.return=K,q)}function _e(K,q,te,Te,We){return q===null||q.tag!==7?(q=Qc(te,K.mode,Te,We),q.return=K,q):(q=_(q,te),q.return=K,q)}function Se(K,q,te){if(typeof q=="string"&&q!==""||typeof q=="number")return q=lb(""+q,K.mode,te),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case z:return te=s1(q.type,q.key,q.props,null,K.mode,te),te.ref=Xf(K,null,q),te.return=K,te;case Z:return q=ub(q,K.mode,te),q.return=K,q;case kt:var Te=q._init;return Se(K,Te(q._payload),te)}if(ui(q)||$e(q))return q=Qc(q,K.mode,te,null),q.return=K,q;Ng(K,q)}return null}function ve(K,q,te,Te){var We=q!==null?q.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return We!==null?null:j(K,q,""+te,Te);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case z:return te.key===We?B(K,q,te,Te):null;case Z:return te.key===We?se(K,q,te,Te):null;case kt:return We=te._init,ve(K,q,We(te._payload),Te)}if(ui(te)||$e(te))return We!==null?null:_e(K,q,te,Te,null);Ng(K,te)}return null}function Le(K,q,te,Te,We){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return K=K.get(te)||null,j(q,K,""+Te,We);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case z:return K=K.get(Te.key===null?te:Te.key)||null,B(q,K,Te,We);case Z:return K=K.get(Te.key===null?te:Te.key)||null,se(q,K,Te,We);case kt:var tt=Te._init;return Le(K,q,te,tt(Te._payload),We)}if(ui(Te)||$e(Te))return K=K.get(te)||null,_e(q,K,Te,We,null);Ng(q,Te)}return null}function Ge(K,q,te,Te){for(var We=null,tt=null,rt=q,ft=q=0,an=null;rt!==null&&ft<te.length;ft++){rt.index>ft?(an=rt,rt=null):an=rt.sibling;var Ut=ve(K,rt,te[ft],Te);if(Ut===null){rt===null&&(rt=an);break}a&&rt&&Ut.alternate===null&&u(K,rt),q=T(Ut,q,ft),tt===null?We=Ut:tt.sibling=Ut,tt=Ut,rt=an}if(ft===te.length)return f(K,rt),Tr&&Hc(K,ft),We;if(rt===null){for(;ft<te.length;ft++)rt=Se(K,te[ft],Te),rt!==null&&(q=T(rt,q,ft),tt===null?We=rt:tt.sibling=rt,tt=rt);return Tr&&Hc(K,ft),We}for(rt=v(K,rt);ft<te.length;ft++)an=Le(rt,K,ft,te[ft],Te),an!==null&&(a&&an.alternate!==null&&rt.delete(an.key===null?ft:an.key),q=T(an,q,ft),tt===null?We=an:tt.sibling=an,tt=an);return a&&rt.forEach(function(mu){return u(K,mu)}),Tr&&Hc(K,ft),We}function Be(K,q,te,Te){var We=$e(te);if(typeof We!="function")throw Error(r(150));if(te=We.call(te),te==null)throw Error(r(151));for(var tt=We=null,rt=q,ft=q=0,an=null,Ut=te.next();rt!==null&&!Ut.done;ft++,Ut=te.next()){rt.index>ft?(an=rt,rt=null):an=rt.sibling;var mu=ve(K,rt,Ut.value,Te);if(mu===null){rt===null&&(rt=an);break}a&&rt&&mu.alternate===null&&u(K,rt),q=T(mu,q,ft),tt===null?We=mu:tt.sibling=mu,tt=mu,rt=an}if(Ut.done)return f(K,rt),Tr&&Hc(K,ft),We;if(rt===null){for(;!Ut.done;ft++,Ut=te.next())Ut=Se(K,Ut.value,Te),Ut!==null&&(q=T(Ut,q,ft),tt===null?We=Ut:tt.sibling=Ut,tt=Ut);return Tr&&Hc(K,ft),We}for(rt=v(K,rt);!Ut.done;ft++,Ut=te.next())Ut=Le(rt,K,ft,Ut.value,Te),Ut!==null&&(a&&Ut.alternate!==null&&rt.delete(Ut.key===null?ft:Ut.key),q=T(Ut,q,ft),tt===null?We=Ut:tt.sibling=Ut,tt=Ut);return a&&rt.forEach(function(TG){return u(K,TG)}),Tr&&Hc(K,ft),We}function zr(K,q,te,Te){if(typeof te=="object"&&te!==null&&te.type===Q&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case z:e:{for(var We=te.key,tt=q;tt!==null;){if(tt.key===We){if(We=te.type,We===Q){if(tt.tag===7){f(K,tt.sibling),q=_(tt,te.props.children),q.return=K,K=q;break e}}else if(tt.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===kt&&jA(We)===tt.type){f(K,tt.sibling),q=_(tt,te.props),q.ref=Xf(K,tt,te),q.return=K,K=q;break e}f(K,tt);break}else u(K,tt);tt=tt.sibling}te.type===Q?(q=Qc(te.props.children,K.mode,Te,te.key),q.return=K,K=q):(Te=s1(te.type,te.key,te.props,null,K.mode,Te),Te.ref=Xf(K,q,te),Te.return=K,K=Te)}return R(K);case Z:e:{for(tt=te.key;q!==null;){if(q.key===tt)if(q.tag===4&&q.stateNode.containerInfo===te.containerInfo&&q.stateNode.implementation===te.implementation){f(K,q.sibling),q=_(q,te.children||[]),q.return=K,K=q;break e}else{f(K,q);break}else u(K,q);q=q.sibling}q=ub(te,K.mode,Te),q.return=K,K=q}return R(K);case kt:return tt=te._init,zr(K,q,tt(te._payload),Te)}if(ui(te))return Ge(K,q,te,Te);if($e(te))return Be(K,q,te,Te);Ng(K,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,q!==null&&q.tag===6?(f(K,q.sibling),q=_(q,te),q.return=K,K=q):(f(K,q),q=lb(te,K.mode,Te),q.return=K,K=q),R(K)):f(K,q)}return zr}var Wh=zA(!0),GA=zA(!1),Lg=iu(null),Dg=null,qh=null,v2=null;function w2(){v2=qh=Dg=null}function _2(a){var u=Lg.current;fr(Lg),a._currentValue=u}function S2(a,u,f){for(;a!==null;){var v=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),a===f)break;a=a.return}}function Zh(a,u){Dg=a,v2=qh=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&u&&(Si=!0),a.firstContext=null)}function _s(a){var u=a._currentValue;if(v2!==a)if(a={context:a,memoizedValue:u,next:null},qh===null){if(Dg===null)throw Error(r(308));qh=a,Dg.dependencies={lanes:0,firstContext:a}}else qh=qh.next=a;return u}var Wc=null;function b2(a){Wc===null?Wc=[a]:Wc.push(a)}function VA(a,u,f,v){var _=u.interleaved;return _===null?(f.next=f,b2(u)):(f.next=_.next,_.next=f),u.interleaved=f,sl(a,v)}function sl(a,u){a.lanes|=u;var f=a.alternate;for(f!==null&&(f.lanes|=u),f=a,a=a.return;a!==null;)a.childLanes|=u,f=a.alternate,f!==null&&(f.childLanes|=u),f=a,a=a.return;return f.tag===3?f.stateNode:null}var au=!1;function E2(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BA(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ol(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function lu(a,u,f){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,Nt&2){var _=v.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),v.pending=u,sl(a,f)}return _=v.interleaved,_===null?(u.next=u,b2(v)):(u.next=_.next,_.next=u),v.interleaved=u,sl(a,f)}function Fg(a,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194240)!==0)){var v=u.lanes;v&=a.pendingLanes,f|=v,u.lanes=f,xe(a,f)}}function HA(a,u){var f=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var _=null,T=null;if(f=f.firstBaseUpdate,f!==null){do{var R={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};T===null?_=T=R:T=T.next=R,f=f.next}while(f!==null);T===null?_=T=u:T=T.next=u}else _=T=u;f={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:v.shared,effects:v.effects},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=u}function Ug(a,u,f,v){var _=a.updateQueue;au=!1;var T=_.firstBaseUpdate,R=_.lastBaseUpdate,j=_.shared.pending;if(j!==null){_.shared.pending=null;var B=j,se=B.next;B.next=null,R===null?T=se:R.next=se,R=B;var _e=a.alternate;_e!==null&&(_e=_e.updateQueue,j=_e.lastBaseUpdate,j!==R&&(j===null?_e.firstBaseUpdate=se:j.next=se,_e.lastBaseUpdate=B))}if(T!==null){var Se=_.baseState;R=0,_e=se=B=null,j=T;do{var ve=j.lane,Le=j.eventTime;if((v&ve)===ve){_e!==null&&(_e=_e.next={eventTime:Le,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var Ge=a,Be=j;switch(ve=u,Le=f,Be.tag){case 1:if(Ge=Be.payload,typeof Ge=="function"){Se=Ge.call(Le,Se,ve);break e}Se=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Be.payload,ve=typeof Ge=="function"?Ge.call(Le,Se,ve):Ge,ve==null)break e;Se=Ce({},Se,ve);break e;case 2:au=!0}}j.callback!==null&&j.lane!==0&&(a.flags|=64,ve=_.effects,ve===null?_.effects=[j]:ve.push(j))}else Le={eventTime:Le,lane:ve,tag:j.tag,payload:j.payload,callback:j.callback,next:null},_e===null?(se=_e=Le,B=Se):_e=_e.next=Le,R|=ve;if(j=j.next,j===null){if(j=_.shared.pending,j===null)break;ve=j,j=ve.next,ve.next=null,_.lastBaseUpdate=ve,_.shared.pending=null}}while(!0);if(_e===null&&(B=Se),_.baseState=B,_.firstBaseUpdate=se,_.lastBaseUpdate=_e,u=_.shared.interleaved,u!==null){_=u;do R|=_.lane,_=_.next;while(_!==u)}else T===null&&(_.shared.lanes=0);Yc|=R,a.lanes=R,a.memoizedState=Se}}function WA(a,u,f){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var v=a[u],_=v.callback;if(_!==null){if(v.callback=null,v=f,typeof _!="function")throw Error(r(191,_));_.call(v)}}}var Qf={},ra=iu(Qf),em=iu(Qf),tm=iu(Qf);function qc(a){if(a===Qf)throw Error(r(174));return a}function T2(a,u){switch(lr(tm,u),lr(em,a),lr(ra,Qf),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Bo(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Bo(u,a)}fr(ra),lr(ra,u)}function Yh(){fr(ra),fr(em),fr(tm)}function qA(a){qc(tm.current);var u=qc(ra.current),f=Bo(u,a.type);u!==f&&(lr(em,a),lr(ra,f))}function $2(a){em.current===a&&(fr(ra),fr(em))}var xr=iu(0);function jg(a){for(var u=a;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var x2=[];function M2(){for(var a=0;a<x2.length;a++)x2[a]._workInProgressVersionPrimary=null;x2.length=0}var zg=U.ReactCurrentDispatcher,k2=U.ReactCurrentBatchConfig,Zc=0,Mr=null,Yr=null,sn=null,Gg=!1,rm=!1,nm=0,Wz=0;function Rn(){throw Error(r(321))}function A2(a,u){if(u===null)return!1;for(var f=0;f<u.length&&f<a.length;f++)if(!so(a[f],u[f]))return!1;return!0}function C2(a,u,f,v,_,T){if(Zc=T,Mr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,zg.current=a===null||a.memoizedState===null?Jz:Kz,a=f(v,_),rm){T=0;do{if(rm=!1,nm=0,25<=T)throw Error(r(301));T+=1,sn=Yr=null,u.updateQueue=null,zg.current=Xz,a=f(v,_)}while(rm)}if(zg.current=Hg,u=Yr!==null&&Yr.next!==null,Zc=0,sn=Yr=Mr=null,Gg=!1,u)throw Error(r(300));return a}function R2(){var a=nm!==0;return nm=0,a}function na(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Mr.memoizedState=sn=a:sn=sn.next=a,sn}function Ss(){if(Yr===null){var a=Mr.alternate;a=a!==null?a.memoizedState:null}else a=Yr.next;var u=sn===null?Mr.memoizedState:sn.next;if(u!==null)sn=u,Yr=a;else{if(a===null)throw Error(r(310));Yr=a,a={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},sn===null?Mr.memoizedState=sn=a:sn=sn.next=a}return sn}function im(a,u){return typeof u=="function"?u(a):u}function P2(a){var u=Ss(),f=u.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var v=Yr,_=v.baseQueue,T=f.pending;if(T!==null){if(_!==null){var R=_.next;_.next=T.next,T.next=R}v.baseQueue=_=T,f.pending=null}if(_!==null){T=_.next,v=v.baseState;var j=R=null,B=null,se=T;do{var _e=se.lane;if((Zc&_e)===_e)B!==null&&(B=B.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),v=se.hasEagerState?se.eagerState:a(v,se.action);else{var Se={lane:_e,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};B===null?(j=B=Se,R=v):B=B.next=Se,Mr.lanes|=_e,Yc|=_e}se=se.next}while(se!==null&&se!==T);B===null?R=v:B.next=j,so(v,u.memoizedState)||(Si=!0),u.memoizedState=v,u.baseState=R,u.baseQueue=B,f.lastRenderedState=v}if(a=f.interleaved,a!==null){_=a;do T=_.lane,Mr.lanes|=T,Yc|=T,_=_.next;while(_!==a)}else _===null&&(f.lanes=0);return[u.memoizedState,f.dispatch]}function O2(a){var u=Ss(),f=u.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var v=f.dispatch,_=f.pending,T=u.memoizedState;if(_!==null){f.pending=null;var R=_=_.next;do T=a(T,R.action),R=R.next;while(R!==_);so(T,u.memoizedState)||(Si=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),f.lastRenderedState=T}return[T,v]}function ZA(){}function YA(a,u){var f=Mr,v=Ss(),_=u(),T=!so(v.memoizedState,_);if(T&&(v.memoizedState=_,Si=!0),v=v.queue,I2(XA.bind(null,f,v,a),[a]),v.getSnapshot!==u||T||sn!==null&&sn.memoizedState.tag&1){if(f.flags|=2048,sm(9,KA.bind(null,f,v,_,u),void 0,null),on===null)throw Error(r(349));Zc&30||JA(f,u,_)}return _}function JA(a,u,f){a.flags|=16384,a={getSnapshot:u,value:f},u=Mr.updateQueue,u===null?(u={lastEffect:null,stores:null},Mr.updateQueue=u,u.stores=[a]):(f=u.stores,f===null?u.stores=[a]:f.push(a))}function KA(a,u,f,v){u.value=f,u.getSnapshot=v,QA(u)&&eC(a)}function XA(a,u,f){return f(function(){QA(u)&&eC(a)})}function QA(a){var u=a.getSnapshot;a=a.value;try{var f=u();return!so(a,f)}catch{return!0}}function eC(a){var u=sl(a,1);u!==null&&co(u,a,1,-1)}function tC(a){var u=na();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:im,lastRenderedState:a},u.queue=a,a=a.dispatch=Yz.bind(null,Mr,a),[u.memoizedState,a]}function sm(a,u,f,v){return a={tag:a,create:u,destroy:f,deps:v,next:null},u=Mr.updateQueue,u===null?(u={lastEffect:null,stores:null},Mr.updateQueue=u,u.lastEffect=a.next=a):(f=u.lastEffect,f===null?u.lastEffect=a.next=a:(v=f.next,f.next=a,a.next=v,u.lastEffect=a)),a}function rC(){return Ss().memoizedState}function Vg(a,u,f,v){var _=na();Mr.flags|=a,_.memoizedState=sm(1|u,f,void 0,v===void 0?null:v)}function Bg(a,u,f,v){var _=Ss();v=v===void 0?null:v;var T=void 0;if(Yr!==null){var R=Yr.memoizedState;if(T=R.destroy,v!==null&&A2(v,R.deps)){_.memoizedState=sm(u,f,T,v);return}}Mr.flags|=a,_.memoizedState=sm(1|u,f,T,v)}function nC(a,u){return Vg(8390656,8,a,u)}function I2(a,u){return Bg(2048,8,a,u)}function iC(a,u){return Bg(4,2,a,u)}function sC(a,u){return Bg(4,4,a,u)}function oC(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function aC(a,u,f){return f=f!=null?f.concat([a]):null,Bg(4,4,oC.bind(null,u,a),f)}function N2(){}function lC(a,u){var f=Ss();u=u===void 0?null:u;var v=f.memoizedState;return v!==null&&u!==null&&A2(u,v[1])?v[0]:(f.memoizedState=[a,u],a)}function uC(a,u){var f=Ss();u=u===void 0?null:u;var v=f.memoizedState;return v!==null&&u!==null&&A2(u,v[1])?v[0]:(a=a(),f.memoizedState=[a,u],a)}function cC(a,u,f){return Zc&21?(so(f,u)||(f=D(),Mr.lanes|=f,Yc|=f,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,Si=!0),a.memoizedState=f)}function qz(a,u){var f=Re;Re=f!==0&&4>f?f:4,a(!0);var v=k2.transition;k2.transition={};try{a(!1),u()}finally{Re=f,k2.transition=v}}function dC(){return Ss().memoizedState}function Zz(a,u,f){var v=hu(a);if(f={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null},hC(a))pC(u,f);else if(f=VA(a,u,f,v),f!==null){var _=Xn();co(f,a,v,_),fC(f,u,v)}}function Yz(a,u,f){var v=hu(a),_={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null};if(hC(a))pC(u,_);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var R=u.lastRenderedState,j=T(R,f);if(_.hasEagerState=!0,_.eagerState=j,so(j,R)){var B=u.interleaved;B===null?(_.next=_,b2(u)):(_.next=B.next,B.next=_),u.interleaved=_;return}}catch{}finally{}f=VA(a,u,_,v),f!==null&&(_=Xn(),co(f,a,v,_),fC(f,u,v))}}function hC(a){var u=a.alternate;return a===Mr||u!==null&&u===Mr}function pC(a,u){rm=Gg=!0;var f=a.pending;f===null?u.next=u:(u.next=f.next,f.next=u),a.pending=u}function fC(a,u,f){if(f&4194240){var v=u.lanes;v&=a.pendingLanes,f|=v,u.lanes=f,xe(a,f)}}var Hg={readContext:_s,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},Jz={readContext:_s,useCallback:function(a,u){return na().memoizedState=[a,u===void 0?null:u],a},useContext:_s,useEffect:nC,useImperativeHandle:function(a,u,f){return f=f!=null?f.concat([a]):null,Vg(4194308,4,oC.bind(null,u,a),f)},useLayoutEffect:function(a,u){return Vg(4194308,4,a,u)},useInsertionEffect:function(a,u){return Vg(4,2,a,u)},useMemo:function(a,u){var f=na();return u=u===void 0?null:u,a=a(),f.memoizedState=[a,u],a},useReducer:function(a,u,f){var v=na();return u=f!==void 0?f(u):u,v.memoizedState=v.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},v.queue=a,a=a.dispatch=Zz.bind(null,Mr,a),[v.memoizedState,a]},useRef:function(a){var u=na();return a={current:a},u.memoizedState=a},useState:tC,useDebugValue:N2,useDeferredValue:function(a){return na().memoizedState=a},useTransition:function(){var a=tC(!1),u=a[0];return a=qz.bind(null,a[1]),na().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,f){var v=Mr,_=na();if(Tr){if(f===void 0)throw Error(r(407));f=f()}else{if(f=u(),on===null)throw Error(r(349));Zc&30||JA(v,u,f)}_.memoizedState=f;var T={value:f,getSnapshot:u};return _.queue=T,nC(XA.bind(null,v,T,a),[a]),v.flags|=2048,sm(9,KA.bind(null,v,T,f,u),void 0,null),f},useId:function(){var a=na(),u=on.identifierPrefix;if(Tr){var f=il,v=nl;f=(v&~(1<<32-L(v)-1)).toString(32)+f,u=":"+u+"R"+f,f=nm++,0<f&&(u+="H"+f.toString(32)),u+=":"}else f=Wz++,u=":"+u+"r"+f.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},Kz={readContext:_s,useCallback:lC,useContext:_s,useEffect:I2,useImperativeHandle:aC,useInsertionEffect:iC,useLayoutEffect:sC,useMemo:uC,useReducer:P2,useRef:rC,useState:function(){return P2(im)},useDebugValue:N2,useDeferredValue:function(a){var u=Ss();return cC(u,Yr.memoizedState,a)},useTransition:function(){var a=P2(im)[0],u=Ss().memoizedState;return[a,u]},useMutableSource:ZA,useSyncExternalStore:YA,useId:dC,unstable_isNewReconciler:!1},Xz={readContext:_s,useCallback:lC,useContext:_s,useEffect:I2,useImperativeHandle:aC,useInsertionEffect:iC,useLayoutEffect:sC,useMemo:uC,useReducer:O2,useRef:rC,useState:function(){return O2(im)},useDebugValue:N2,useDeferredValue:function(a){var u=Ss();return Yr===null?u.memoizedState=a:cC(u,Yr.memoizedState,a)},useTransition:function(){var a=O2(im)[0],u=Ss().memoizedState;return[a,u]},useMutableSource:ZA,useSyncExternalStore:YA,useId:dC,unstable_isNewReconciler:!1};function ao(a,u){if(a&&a.defaultProps){u=Ce({},u),a=a.defaultProps;for(var f in a)u[f]===void 0&&(u[f]=a[f]);return u}return u}function L2(a,u,f,v){u=a.memoizedState,f=f(v,u),f=f==null?u:Ce({},u,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var Wg={isMounted:function(a){return(a=a._reactInternals)?di(a)===a:!1},enqueueSetState:function(a,u,f){a=a._reactInternals;var v=Xn(),_=hu(a),T=ol(v,_);T.payload=u,f!=null&&(T.callback=f),u=lu(a,T,_),u!==null&&(co(u,a,_,v),Fg(u,a,_))},enqueueReplaceState:function(a,u,f){a=a._reactInternals;var v=Xn(),_=hu(a),T=ol(v,_);T.tag=1,T.payload=u,f!=null&&(T.callback=f),u=lu(a,T,_),u!==null&&(co(u,a,_,v),Fg(u,a,_))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var f=Xn(),v=hu(a),_=ol(f,v);_.tag=2,u!=null&&(_.callback=u),u=lu(a,_,v),u!==null&&(co(u,a,v,f),Fg(u,a,v))}};function mC(a,u,f,v,_,T,R){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,T,R):u.prototype&&u.prototype.isPureReactComponent?!Hf(f,v)||!Hf(_,T):!0}function yC(a,u,f){var v=!1,_=su,T=u.contextType;return typeof T=="object"&&T!==null?T=_s(T):(_=_i(u)?Vc:Cn.current,v=u.contextTypes,T=(v=v!=null)?Gh(a,_):su),u=new u(f,T),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Wg,a.stateNode=u,u._reactInternals=a,v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=_,a.__reactInternalMemoizedMaskedChildContext=T),u}function gC(a,u,f,v){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,v),u.state!==a&&Wg.enqueueReplaceState(u,u.state,null)}function D2(a,u,f,v){var _=a.stateNode;_.props=f,_.state=a.memoizedState,_.refs={},E2(a);var T=u.contextType;typeof T=="object"&&T!==null?_.context=_s(T):(T=_i(u)?Vc:Cn.current,_.context=Gh(a,T)),_.state=a.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(L2(a,u,T,f),_.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(u=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),u!==_.state&&Wg.enqueueReplaceState(_,_.state,null),Ug(a,f,_,v),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308)}function Jh(a,u){try{var f="",v=u;do f+=ht(v),v=v.return;while(v);var _=f}catch(T){_=`
Error generating stack: `+T.message+`
`+T.stack}return{value:a,source:u,stack:_,digest:null}}function F2(a,u,f){return{value:a,source:null,stack:f??null,digest:u??null}}function U2(a,u){try{console.error(u.value)}catch(f){setTimeout(function(){throw f})}}var Qz=typeof WeakMap=="function"?WeakMap:Map;function vC(a,u,f){f=ol(-1,f),f.tag=3,f.payload={element:null};var v=u.value;return f.callback=function(){Qg||(Qg=!0,eb=v),U2(a,u)},f}function wC(a,u,f){f=ol(-1,f),f.tag=3;var v=a.type.getDerivedStateFromError;if(typeof v=="function"){var _=u.value;f.payload=function(){return v(_)},f.callback=function(){U2(a,u)}}var T=a.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(f.callback=function(){U2(a,u),typeof v!="function"&&(cu===null?cu=new Set([this]):cu.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})}),f}function _C(a,u,f){var v=a.pingCache;if(v===null){v=a.pingCache=new Qz;var _=new Set;v.set(u,_)}else _=v.get(u),_===void 0&&(_=new Set,v.set(u,_));_.has(f)||(_.add(f),a=pG.bind(null,a,u,f),u.then(a,a))}function SC(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function bC(a,u,f,v,_){return a.mode&1?(a.flags|=65536,a.lanes=_,a):(a===u?a.flags|=65536:(a.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(u=ol(-1,1),u.tag=2,lu(f,u,1))),f.lanes|=1),a)}var eG=U.ReactCurrentOwner,Si=!1;function Kn(a,u,f,v){u.child=a===null?GA(u,null,f,v):Wh(u,a.child,f,v)}function EC(a,u,f,v,_){f=f.render;var T=u.ref;return Zh(u,_),v=C2(a,u,f,v,T,_),f=R2(),a!==null&&!Si?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~_,al(a,u,_)):(Tr&&f&&p2(u),u.flags|=1,Kn(a,u,v,_),u.child)}function TC(a,u,f,v,_){if(a===null){var T=f.type;return typeof T=="function"&&!ab(T)&&T.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(u.tag=15,u.type=T,$C(a,u,T,v,_)):(a=s1(f.type,null,v,u,u.mode,_),a.ref=u.ref,a.return=u,u.child=a)}if(T=a.child,!(a.lanes&_)){var R=T.memoizedProps;if(f=f.compare,f=f!==null?f:Hf,f(R,v)&&a.ref===u.ref)return al(a,u,_)}return u.flags|=1,a=fu(T,v),a.ref=u.ref,a.return=u,u.child=a}function $C(a,u,f,v,_){if(a!==null){var T=a.memoizedProps;if(Hf(T,v)&&a.ref===u.ref)if(Si=!1,u.pendingProps=v=T,(a.lanes&_)!==0)a.flags&131072&&(Si=!0);else return u.lanes=a.lanes,al(a,u,_)}return j2(a,u,f,v,_)}function xC(a,u,f){var v=u.pendingProps,_=v.children,T=a!==null?a.memoizedState:null;if(v.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},lr(Xh,qi),qi|=f;else{if(!(f&1073741824))return a=T!==null?T.baseLanes|f:f,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,lr(Xh,qi),qi|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=T!==null?T.baseLanes:f,lr(Xh,qi),qi|=v}else T!==null?(v=T.baseLanes|f,u.memoizedState=null):v=f,lr(Xh,qi),qi|=v;return Kn(a,u,_,f),u.child}function MC(a,u){var f=u.ref;(a===null&&f!==null||a!==null&&a.ref!==f)&&(u.flags|=512,u.flags|=2097152)}function j2(a,u,f,v,_){var T=_i(f)?Vc:Cn.current;return T=Gh(u,T),Zh(u,_),f=C2(a,u,f,v,T,_),v=R2(),a!==null&&!Si?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~_,al(a,u,_)):(Tr&&v&&p2(u),u.flags|=1,Kn(a,u,f,_),u.child)}function kC(a,u,f,v,_){if(_i(f)){var T=!0;Cg(u)}else T=!1;if(Zh(u,_),u.stateNode===null)Zg(a,u),yC(u,f,v),D2(u,f,v,_),v=!0;else if(a===null){var R=u.stateNode,j=u.memoizedProps;R.props=j;var B=R.context,se=f.contextType;typeof se=="object"&&se!==null?se=_s(se):(se=_i(f)?Vc:Cn.current,se=Gh(u,se));var _e=f.getDerivedStateFromProps,Se=typeof _e=="function"||typeof R.getSnapshotBeforeUpdate=="function";Se||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(j!==v||B!==se)&&gC(u,R,v,se),au=!1;var ve=u.memoizedState;R.state=ve,Ug(u,v,R,_),B=u.memoizedState,j!==v||ve!==B||wi.current||au?(typeof _e=="function"&&(L2(u,f,_e,v),B=u.memoizedState),(j=au||mC(u,f,j,v,ve,B,se))?(Se||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(u.flags|=4194308)):(typeof R.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=B),R.props=v,R.state=B,R.context=se,v=j):(typeof R.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{R=u.stateNode,BA(a,u),j=u.memoizedProps,se=u.type===u.elementType?j:ao(u.type,j),R.props=se,Se=u.pendingProps,ve=R.context,B=f.contextType,typeof B=="object"&&B!==null?B=_s(B):(B=_i(f)?Vc:Cn.current,B=Gh(u,B));var Le=f.getDerivedStateFromProps;(_e=typeof Le=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(j!==Se||ve!==B)&&gC(u,R,v,B),au=!1,ve=u.memoizedState,R.state=ve,Ug(u,v,R,_);var Ge=u.memoizedState;j!==Se||ve!==Ge||wi.current||au?(typeof Le=="function"&&(L2(u,f,Le,v),Ge=u.memoizedState),(se=au||mC(u,f,se,v,ve,Ge,B)||!1)?(_e||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(v,Ge,B),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(v,Ge,B)),typeof R.componentDidUpdate=="function"&&(u.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof R.componentDidUpdate!="function"||j===a.memoizedProps&&ve===a.memoizedState||(u.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&ve===a.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Ge),R.props=v,R.state=Ge,R.context=B,v=se):(typeof R.componentDidUpdate!="function"||j===a.memoizedProps&&ve===a.memoizedState||(u.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&ve===a.memoizedState||(u.flags|=1024),v=!1)}return z2(a,u,f,v,T,_)}function z2(a,u,f,v,_,T){MC(a,u);var R=(u.flags&128)!==0;if(!v&&!R)return _&&OA(u,f,!1),al(a,u,T);v=u.stateNode,eG.current=u;var j=R&&typeof f.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,a!==null&&R?(u.child=Wh(u,a.child,null,T),u.child=Wh(u,null,j,T)):Kn(a,u,j,T),u.memoizedState=v.state,_&&OA(u,f,!0),u.child}function AC(a){var u=a.stateNode;u.pendingContext?RA(a,u.pendingContext,u.pendingContext!==u.context):u.context&&RA(a,u.context,!1),T2(a,u.containerInfo)}function CC(a,u,f,v,_){return Hh(),g2(_),u.flags|=256,Kn(a,u,f,v),u.child}var G2={dehydrated:null,treeContext:null,retryLane:0};function V2(a){return{baseLanes:a,cachePool:null,transitions:null}}function RC(a,u,f){var v=u.pendingProps,_=xr.current,T=!1,R=(u.flags&128)!==0,j;if((j=R)||(j=a!==null&&a.memoizedState===null?!1:(_&2)!==0),j?(T=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(_|=1),lr(xr,_&1),a===null)return y2(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(u.mode&1?a.data==="$!"?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(R=v.children,a=v.fallback,T?(v=u.mode,T=u.child,R={mode:"hidden",children:R},!(v&1)&&T!==null?(T.childLanes=0,T.pendingProps=R):T=o1(R,v,0,null),a=Qc(a,v,f,null),T.return=u,a.return=u,T.sibling=a,u.child=T,u.child.memoizedState=V2(f),u.memoizedState=G2,a):B2(u,R));if(_=a.memoizedState,_!==null&&(j=_.dehydrated,j!==null))return tG(a,u,R,v,j,_,f);if(T){T=v.fallback,R=u.mode,_=a.child,j=_.sibling;var B={mode:"hidden",children:v.children};return!(R&1)&&u.child!==_?(v=u.child,v.childLanes=0,v.pendingProps=B,u.deletions=null):(v=fu(_,B),v.subtreeFlags=_.subtreeFlags&14680064),j!==null?T=fu(j,T):(T=Qc(T,R,f,null),T.flags|=2),T.return=u,v.return=u,v.sibling=T,u.child=v,v=T,T=u.child,R=a.child.memoizedState,R=R===null?V2(f):{baseLanes:R.baseLanes|f,cachePool:null,transitions:R.transitions},T.memoizedState=R,T.childLanes=a.childLanes&~f,u.memoizedState=G2,v}return T=a.child,a=T.sibling,v=fu(T,{mode:"visible",children:v.children}),!(u.mode&1)&&(v.lanes=f),v.return=u,v.sibling=null,a!==null&&(f=u.deletions,f===null?(u.deletions=[a],u.flags|=16):f.push(a)),u.child=v,u.memoizedState=null,v}function B2(a,u){return u=o1({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function qg(a,u,f,v){return v!==null&&g2(v),Wh(u,a.child,null,f),a=B2(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function tG(a,u,f,v,_,T,R){if(f)return u.flags&256?(u.flags&=-257,v=F2(Error(r(422))),qg(a,u,R,v)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(T=v.fallback,_=u.mode,v=o1({mode:"visible",children:v.children},_,0,null),T=Qc(T,_,R,null),T.flags|=2,v.return=u,T.return=u,v.sibling=T,u.child=v,u.mode&1&&Wh(u,a.child,null,R),u.child.memoizedState=V2(R),u.memoizedState=G2,T);if(!(u.mode&1))return qg(a,u,R,null);if(_.data==="$!"){if(v=_.nextSibling&&_.nextSibling.dataset,v)var j=v.dgst;return v=j,T=Error(r(419)),v=F2(T,v,void 0),qg(a,u,R,v)}if(j=(R&a.childLanes)!==0,Si||j){if(v=on,v!==null){switch(R&-R){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(v.suspendedLanes|R)?0:_,_!==0&&_!==T.retryLane&&(T.retryLane=_,sl(a,_),co(v,a,_,-1))}return ob(),v=F2(Error(r(421))),qg(a,u,R,v)}return _.data==="$?"?(u.flags|=128,u.child=a.child,u=fG.bind(null,a),_._reactRetry=u,null):(a=T.treeContext,Wi=nu(_.nextSibling),Hi=u,Tr=!0,oo=null,a!==null&&(vs[ws++]=nl,vs[ws++]=il,vs[ws++]=Bc,nl=a.id,il=a.overflow,Bc=u),u=B2(u,v.children),u.flags|=4096,u)}function PC(a,u,f){a.lanes|=u;var v=a.alternate;v!==null&&(v.lanes|=u),S2(a.return,u,f)}function H2(a,u,f,v,_){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:_}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=f,T.tailMode=_)}function OC(a,u,f){var v=u.pendingProps,_=v.revealOrder,T=v.tail;if(Kn(a,u,v.children,f),v=xr.current,v&2)v=v&1|2,u.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&PC(a,f,u);else if(a.tag===19)PC(a,f,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}v&=1}if(lr(xr,v),!(u.mode&1))u.memoizedState=null;else switch(_){case"forwards":for(f=u.child,_=null;f!==null;)a=f.alternate,a!==null&&jg(a)===null&&(_=f),f=f.sibling;f=_,f===null?(_=u.child,u.child=null):(_=f.sibling,f.sibling=null),H2(u,!1,_,f,T);break;case"backwards":for(f=null,_=u.child,u.child=null;_!==null;){if(a=_.alternate,a!==null&&jg(a)===null){u.child=_;break}a=_.sibling,_.sibling=f,f=_,_=a}H2(u,!0,f,null,T);break;case"together":H2(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Zg(a,u){!(u.mode&1)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function al(a,u,f){if(a!==null&&(u.dependencies=a.dependencies),Yc|=u.lanes,!(f&u.childLanes))return null;if(a!==null&&u.child!==a.child)throw Error(r(153));if(u.child!==null){for(a=u.child,f=fu(a,a.pendingProps),u.child=f,f.return=u;a.sibling!==null;)a=a.sibling,f=f.sibling=fu(a,a.pendingProps),f.return=u;f.sibling=null}return u.child}function rG(a,u,f){switch(u.tag){case 3:AC(u),Hh();break;case 5:qA(u);break;case 1:_i(u.type)&&Cg(u);break;case 4:T2(u,u.stateNode.containerInfo);break;case 10:var v=u.type._context,_=u.memoizedProps.value;lr(Lg,v._currentValue),v._currentValue=_;break;case 13:if(v=u.memoizedState,v!==null)return v.dehydrated!==null?(lr(xr,xr.current&1),u.flags|=128,null):f&u.child.childLanes?RC(a,u,f):(lr(xr,xr.current&1),a=al(a,u,f),a!==null?a.sibling:null);lr(xr,xr.current&1);break;case 19:if(v=(f&u.childLanes)!==0,a.flags&128){if(v)return OC(a,u,f);u.flags|=128}if(_=u.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),lr(xr,xr.current),v)break;return null;case 22:case 23:return u.lanes=0,xC(a,u,f)}return al(a,u,f)}var IC,W2,NC,LC;IC=function(a,u){for(var f=u.child;f!==null;){if(f.tag===5||f.tag===6)a.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},W2=function(){},NC=function(a,u,f,v){var _=a.memoizedProps;if(_!==v){a=u.stateNode,qc(ra.current);var T=null;switch(f){case"input":_=Tn(a,_),v=Tn(a,v),T=[];break;case"select":_=Ce({},_,{value:void 0}),v=Ce({},v,{value:void 0}),T=[];break;case"textarea":_=yn(a,_),v=yn(a,v),T=[];break;default:typeof _.onClick!="function"&&typeof v.onClick=="function"&&(a.onclick=Mg)}qa(f,v);var R;f=null;for(se in _)if(!v.hasOwnProperty(se)&&_.hasOwnProperty(se)&&_[se]!=null)if(se==="style"){var j=_[se];for(R in j)j.hasOwnProperty(R)&&(f||(f={}),f[R]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?T||(T=[]):(T=T||[]).push(se,null));for(se in v){var B=v[se];if(j=_?.[se],v.hasOwnProperty(se)&&B!==j&&(B!=null||j!=null))if(se==="style")if(j){for(R in j)!j.hasOwnProperty(R)||B&&B.hasOwnProperty(R)||(f||(f={}),f[R]="");for(R in B)B.hasOwnProperty(R)&&j[R]!==B[R]&&(f||(f={}),f[R]=B[R])}else f||(T||(T=[]),T.push(se,f)),f=B;else se==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,j=j?j.__html:void 0,B!=null&&j!==B&&(T=T||[]).push(se,B)):se==="children"?typeof B!="string"&&typeof B!="number"||(T=T||[]).push(se,""+B):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(i.hasOwnProperty(se)?(B!=null&&se==="onScroll"&&pr("scroll",a),T||j===B||(T=[])):(T=T||[]).push(se,B))}f&&(T=T||[]).push("style",f);var se=T;(u.updateQueue=se)&&(u.flags|=4)}},LC=function(a,u,f,v){f!==v&&(u.flags|=4)};function om(a,u){if(!Tr)switch(a.tailMode){case"hidden":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function Pn(a){var u=a.alternate!==null&&a.alternate.child===a.child,f=0,v=0;if(u)for(var _=a.child;_!==null;)f|=_.lanes|_.childLanes,v|=_.subtreeFlags&14680064,v|=_.flags&14680064,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)f|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=v,a.childLanes=f,u}function nG(a,u,f){var v=u.pendingProps;switch(f2(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(u),null;case 1:return _i(u.type)&&Ag(),Pn(u),null;case 3:return v=u.stateNode,Yh(),fr(wi),fr(Cn),M2(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(a===null||a.child===null)&&(Ig(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,oo!==null&&(nb(oo),oo=null))),W2(a,u),Pn(u),null;case 5:$2(u);var _=qc(tm.current);if(f=u.type,a!==null&&u.stateNode!=null)NC(a,u,f,v,_),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Pn(u),null}if(a=qc(ra.current),Ig(u)){v=u.stateNode,f=u.type;var T=u.memoizedProps;switch(v[ta]=u,v[Jf]=T,a=(u.mode&1)!==0,f){case"dialog":pr("cancel",v),pr("close",v);break;case"iframe":case"object":case"embed":pr("load",v);break;case"video":case"audio":for(_=0;_<qf.length;_++)pr(qf[_],v);break;case"source":pr("error",v);break;case"img":case"image":case"link":pr("error",v),pr("load",v);break;case"details":pr("toggle",v);break;case"input":ja(v,T),pr("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!T.multiple},pr("invalid",v);break;case"textarea":rr(v,T),pr("invalid",v)}qa(f,T),_=null;for(var R in T)if(T.hasOwnProperty(R)){var j=T[R];R==="children"?typeof j=="string"?v.textContent!==j&&(T.suppressHydrationWarning!==!0&&xg(v.textContent,j,a),_=["children",j]):typeof j=="number"&&v.textContent!==""+j&&(T.suppressHydrationWarning!==!0&&xg(v.textContent,j,a),_=["children",""+j]):i.hasOwnProperty(R)&&j!=null&&R==="onScroll"&&pr("scroll",v)}switch(f){case"input":mn(v),qs(v,T,!0);break;case"textarea":mn(v),Va(v);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(v.onclick=Mg)}v=_,u.updateQueue=v,v!==null&&(u.flags|=4)}else{R=_.nodeType===9?_:_.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ba(f)),a==="http://www.w3.org/1999/xhtml"?f==="script"?(a=R.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof v.is=="string"?a=R.createElement(f,{is:v.is}):(a=R.createElement(f),f==="select"&&(R=a,v.multiple?R.multiple=!0:v.size&&(R.size=v.size))):a=R.createElementNS(a,f),a[ta]=u,a[Jf]=v,IC(a,u,!1,!1),u.stateNode=a;e:{switch(R=Za(f,v),f){case"dialog":pr("cancel",a),pr("close",a),_=v;break;case"iframe":case"object":case"embed":pr("load",a),_=v;break;case"video":case"audio":for(_=0;_<qf.length;_++)pr(qf[_],a);_=v;break;case"source":pr("error",a),_=v;break;case"img":case"image":case"link":pr("error",a),pr("load",a),_=v;break;case"details":pr("toggle",a),_=v;break;case"input":ja(a,v),_=Tn(a,v),pr("invalid",a);break;case"option":_=v;break;case"select":a._wrapperState={wasMultiple:!!v.multiple},_=Ce({},v,{value:void 0}),pr("invalid",a);break;case"textarea":rr(a,v),_=yn(a,v),pr("invalid",a);break;default:_=v}qa(f,_),j=_;for(T in j)if(j.hasOwnProperty(T)){var B=j[T];T==="style"?Zl(a,B):T==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Ha(a,B)):T==="children"?typeof B=="string"?(f!=="textarea"||B!=="")&&ds(a,B):typeof B=="number"&&ds(a,""+B):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?B!=null&&T==="onScroll"&&pr("scroll",a):B!=null&&V(a,T,B,R))}switch(f){case"input":mn(a),qs(a,v,!1);break;case"textarea":mn(a),Va(a);break;case"option":v.value!=null&&a.setAttribute("value",""+st(v.value));break;case"select":a.multiple=!!v.multiple,T=v.value,T!=null?ci(a,!!v.multiple,T,!1):v.defaultValue!=null&&ci(a,!!v.multiple,v.defaultValue,!0);break;default:typeof _.onClick=="function"&&(a.onclick=Mg)}switch(f){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Pn(u),null;case 6:if(a&&u.stateNode!=null)LC(a,u,a.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(r(166));if(f=qc(tm.current),qc(ra.current),Ig(u)){if(v=u.stateNode,f=u.memoizedProps,v[ta]=u,(T=v.nodeValue!==f)&&(a=Hi,a!==null))switch(a.tag){case 3:xg(v.nodeValue,f,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&xg(v.nodeValue,f,(a.mode&1)!==0)}T&&(u.flags|=4)}else v=(f.nodeType===9?f:f.ownerDocument).createTextNode(v),v[ta]=u,u.stateNode=v}return Pn(u),null;case 13:if(fr(xr),v=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Tr&&Wi!==null&&u.mode&1&&!(u.flags&128))UA(),Hh(),u.flags|=98560,T=!1;else if(T=Ig(u),v!==null&&v.dehydrated!==null){if(a===null){if(!T)throw Error(r(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[ta]=u}else Hh(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;Pn(u),T=!1}else oo!==null&&(nb(oo),oo=null),T=!0;if(!T)return u.flags&65536?u:null}return u.flags&128?(u.lanes=f,u):(v=v!==null,v!==(a!==null&&a.memoizedState!==null)&&v&&(u.child.flags|=8192,u.mode&1&&(a===null||xr.current&1?Jr===0&&(Jr=3):ob())),u.updateQueue!==null&&(u.flags|=4),Pn(u),null);case 4:return Yh(),W2(a,u),a===null&&Zf(u.stateNode.containerInfo),Pn(u),null;case 10:return _2(u.type._context),Pn(u),null;case 17:return _i(u.type)&&Ag(),Pn(u),null;case 19:if(fr(xr),T=u.memoizedState,T===null)return Pn(u),null;if(v=(u.flags&128)!==0,R=T.rendering,R===null)if(v)om(T,!1);else{if(Jr!==0||a!==null&&a.flags&128)for(a=u.child;a!==null;){if(R=jg(a),R!==null){for(u.flags|=128,om(T,!1),v=R.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),u.subtreeFlags=0,v=f,f=u.child;f!==null;)T=f,a=v,T.flags&=14680066,R=T.alternate,R===null?(T.childLanes=0,T.lanes=a,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=R.childLanes,T.lanes=R.lanes,T.child=R.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=R.memoizedProps,T.memoizedState=R.memoizedState,T.updateQueue=R.updateQueue,T.type=R.type,a=R.dependencies,T.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),f=f.sibling;return lr(xr,xr.current&1|2),u.child}a=a.sibling}T.tail!==null&&Yt()>Qh&&(u.flags|=128,v=!0,om(T,!1),u.lanes=4194304)}else{if(!v)if(a=jg(R),a!==null){if(u.flags|=128,v=!0,f=a.updateQueue,f!==null&&(u.updateQueue=f,u.flags|=4),om(T,!0),T.tail===null&&T.tailMode==="hidden"&&!R.alternate&&!Tr)return Pn(u),null}else 2*Yt()-T.renderingStartTime>Qh&&f!==1073741824&&(u.flags|=128,v=!0,om(T,!1),u.lanes=4194304);T.isBackwards?(R.sibling=u.child,u.child=R):(f=T.last,f!==null?f.sibling=R:u.child=R,T.last=R)}return T.tail!==null?(u=T.tail,T.rendering=u,T.tail=u.sibling,T.renderingStartTime=Yt(),u.sibling=null,f=xr.current,lr(xr,v?f&1|2:f&1),u):(Pn(u),null);case 22:case 23:return sb(),v=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==v&&(u.flags|=8192),v&&u.mode&1?qi&1073741824&&(Pn(u),u.subtreeFlags&6&&(u.flags|=8192)):Pn(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function iG(a,u){switch(f2(u),u.tag){case 1:return _i(u.type)&&Ag(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return Yh(),fr(wi),fr(Cn),M2(),a=u.flags,a&65536&&!(a&128)?(u.flags=a&-65537|128,u):null;case 5:return $2(u),null;case 13:if(fr(xr),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Hh()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return fr(xr),null;case 4:return Yh(),null;case 10:return _2(u.type._context),null;case 22:case 23:return sb(),null;case 24:return null;default:return null}}var Yg=!1,On=!1,sG=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Kh(a,u){var f=a.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(v){Nr(a,u,v)}else f.current=null}function q2(a,u,f){try{f()}catch(v){Nr(a,u,v)}}var DC=!1;function oG(a,u){if(s2=Bi,a=mA(),KS(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var _=v.anchorOffset,T=v.focusNode;v=v.focusOffset;try{f.nodeType,T.nodeType}catch{f=null;break e}var R=0,j=-1,B=-1,se=0,_e=0,Se=a,ve=null;t:for(;;){for(var Le;Se!==f||_!==0&&Se.nodeType!==3||(j=R+_),Se!==T||v!==0&&Se.nodeType!==3||(B=R+v),Se.nodeType===3&&(R+=Se.nodeValue.length),(Le=Se.firstChild)!==null;)ve=Se,Se=Le;for(;;){if(Se===a)break t;if(ve===f&&++se===_&&(j=R),ve===T&&++_e===v&&(B=R),(Le=Se.nextSibling)!==null)break;Se=ve,ve=Se.parentNode}Se=Le}f=j===-1||B===-1?null:{start:j,end:B}}else f=null}f=f||{start:0,end:0}}else f=null;for(o2={focusedElem:a,selectionRange:f},Bi=!1,Ue=u;Ue!==null;)if(u=Ue,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Ue=a;else for(;Ue!==null;){u=Ue;try{var Ge=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ge!==null){var Be=Ge.memoizedProps,zr=Ge.memoizedState,K=u.stateNode,q=K.getSnapshotBeforeUpdate(u.elementType===u.type?Be:ao(u.type,Be),zr);K.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var te=u.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Te){Nr(u,u.return,Te)}if(a=u.sibling,a!==null){a.return=u.return,Ue=a;break}Ue=u.return}return Ge=DC,DC=!1,Ge}function am(a,u,f){var v=u.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var _=v=v.next;do{if((_.tag&a)===a){var T=_.destroy;_.destroy=void 0,T!==void 0&&q2(u,f,T)}_=_.next}while(_!==v)}}function Jg(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&a)===a){var v=f.create;f.destroy=v()}f=f.next}while(f!==u)}}function Z2(a){var u=a.ref;if(u!==null){var f=a.stateNode;switch(a.tag){case 5:a=f;break;default:a=f}typeof u=="function"?u(a):u.current=a}}function FC(a){var u=a.alternate;u!==null&&(a.alternate=null,FC(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[ta],delete u[Jf],delete u[c2],delete u[Gz],delete u[Vz])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function UC(a){return a.tag===5||a.tag===3||a.tag===4}function jC(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||UC(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Y2(a,u,f){var v=a.tag;if(v===5||v===6)a=a.stateNode,u?f.nodeType===8?f.parentNode.insertBefore(a,u):f.insertBefore(a,u):(f.nodeType===8?(u=f.parentNode,u.insertBefore(a,f)):(u=f,u.appendChild(a)),f=f._reactRootContainer,f!=null||u.onclick!==null||(u.onclick=Mg));else if(v!==4&&(a=a.child,a!==null))for(Y2(a,u,f),a=a.sibling;a!==null;)Y2(a,u,f),a=a.sibling}function J2(a,u,f){var v=a.tag;if(v===5||v===6)a=a.stateNode,u?f.insertBefore(a,u):f.appendChild(a);else if(v!==4&&(a=a.child,a!==null))for(J2(a,u,f),a=a.sibling;a!==null;)J2(a,u,f),a=a.sibling}var wn=null,lo=!1;function uu(a,u,f){for(f=f.child;f!==null;)zC(a,u,f),f=f.sibling}function zC(a,u,f){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(ar,f)}catch{}switch(f.tag){case 5:On||Kh(f,u);case 6:var v=wn,_=lo;wn=null,uu(a,u,f),wn=v,lo=_,wn!==null&&(lo?(a=wn,f=f.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)):wn.removeChild(f.stateNode));break;case 18:wn!==null&&(lo?(a=wn,f=f.stateNode,a.nodeType===8?u2(a.parentNode,f):a.nodeType===1&&u2(a,f),Xo(a)):u2(wn,f.stateNode));break;case 4:v=wn,_=lo,wn=f.stateNode.containerInfo,lo=!0,uu(a,u,f),wn=v,lo=_;break;case 0:case 11:case 14:case 15:if(!On&&(v=f.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){_=v=v.next;do{var T=_,R=T.destroy;T=T.tag,R!==void 0&&(T&2||T&4)&&q2(f,u,R),_=_.next}while(_!==v)}uu(a,u,f);break;case 1:if(!On&&(Kh(f,u),v=f.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=f.memoizedProps,v.state=f.memoizedState,v.componentWillUnmount()}catch(j){Nr(f,u,j)}uu(a,u,f);break;case 21:uu(a,u,f);break;case 22:f.mode&1?(On=(v=On)||f.memoizedState!==null,uu(a,u,f),On=v):uu(a,u,f);break;default:uu(a,u,f)}}function GC(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var f=a.stateNode;f===null&&(f=a.stateNode=new sG),u.forEach(function(v){var _=mG.bind(null,a,v);f.has(v)||(f.add(v),v.then(_,_))})}}function uo(a,u){var f=u.deletions;if(f!==null)for(var v=0;v<f.length;v++){var _=f[v];try{var T=a,R=u,j=R;e:for(;j!==null;){switch(j.tag){case 5:wn=j.stateNode,lo=!1;break e;case 3:wn=j.stateNode.containerInfo,lo=!0;break e;case 4:wn=j.stateNode.containerInfo,lo=!0;break e}j=j.return}if(wn===null)throw Error(r(160));zC(T,R,_),wn=null,lo=!1;var B=_.alternate;B!==null&&(B.return=null),_.return=null}catch(se){Nr(_,u,se)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)VC(u,a),u=u.sibling}function VC(a,u){var f=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(uo(u,a),ia(a),v&4){try{am(3,a,a.return),Jg(3,a)}catch(Be){Nr(a,a.return,Be)}try{am(5,a,a.return)}catch(Be){Nr(a,a.return,Be)}}break;case 1:uo(u,a),ia(a),v&512&&f!==null&&Kh(f,f.return);break;case 5:if(uo(u,a),ia(a),v&512&&f!==null&&Kh(f,f.return),a.flags&32){var _=a.stateNode;try{ds(_,"")}catch(Be){Nr(a,a.return,Be)}}if(v&4&&(_=a.stateNode,_!=null)){var T=a.memoizedProps,R=f!==null?f.memoizedProps:T,j=a.type,B=a.updateQueue;if(a.updateQueue=null,B!==null)try{j==="input"&&T.type==="radio"&&T.name!=null&&Ws(_,T),Za(j,R);var se=Za(j,T);for(R=0;R<B.length;R+=2){var _e=B[R],Se=B[R+1];_e==="style"?Zl(_,Se):_e==="dangerouslySetInnerHTML"?Ha(_,Se):_e==="children"?ds(_,Se):V(_,_e,Se,se)}switch(j){case"input":za(_,T);break;case"textarea":Ga(_,T);break;case"select":var ve=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!T.multiple;var Le=T.value;Le!=null?ci(_,!!T.multiple,Le,!1):ve!==!!T.multiple&&(T.defaultValue!=null?ci(_,!!T.multiple,T.defaultValue,!0):ci(_,!!T.multiple,T.multiple?[]:"",!1))}_[Jf]=T}catch(Be){Nr(a,a.return,Be)}}break;case 6:if(uo(u,a),ia(a),v&4){if(a.stateNode===null)throw Error(r(162));_=a.stateNode,T=a.memoizedProps;try{_.nodeValue=T}catch(Be){Nr(a,a.return,Be)}}break;case 3:if(uo(u,a),ia(a),v&4&&f!==null&&f.memoizedState.isDehydrated)try{Xo(u.containerInfo)}catch(Be){Nr(a,a.return,Be)}break;case 4:uo(u,a),ia(a);break;case 13:uo(u,a),ia(a),_=a.child,_.flags&8192&&(T=_.memoizedState!==null,_.stateNode.isHidden=T,!T||_.alternate!==null&&_.alternate.memoizedState!==null||(Q2=Yt())),v&4&&GC(a);break;case 22:if(_e=f!==null&&f.memoizedState!==null,a.mode&1?(On=(se=On)||_e,uo(u,a),On=se):uo(u,a),ia(a),v&8192){if(se=a.memoizedState!==null,(a.stateNode.isHidden=se)&&!_e&&a.mode&1)for(Ue=a,_e=a.child;_e!==null;){for(Se=Ue=_e;Ue!==null;){switch(ve=Ue,Le=ve.child,ve.tag){case 0:case 11:case 14:case 15:am(4,ve,ve.return);break;case 1:Kh(ve,ve.return);var Ge=ve.stateNode;if(typeof Ge.componentWillUnmount=="function"){v=ve,f=ve.return;try{u=v,Ge.props=u.memoizedProps,Ge.state=u.memoizedState,Ge.componentWillUnmount()}catch(Be){Nr(v,f,Be)}}break;case 5:Kh(ve,ve.return);break;case 22:if(ve.memoizedState!==null){WC(Se);continue}}Le!==null?(Le.return=ve,Ue=Le):WC(Se)}_e=_e.sibling}e:for(_e=null,Se=a;;){if(Se.tag===5){if(_e===null){_e=Se;try{_=Se.stateNode,se?(T=_.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(j=Se.stateNode,B=Se.memoizedProps.style,R=B!=null&&B.hasOwnProperty("display")?B.display:null,j.style.display=Ys("display",R))}catch(Be){Nr(a,a.return,Be)}}}else if(Se.tag===6){if(_e===null)try{Se.stateNode.nodeValue=se?"":Se.memoizedProps}catch(Be){Nr(a,a.return,Be)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===a)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===a)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===a)break e;_e===Se&&(_e=null),Se=Se.return}_e===Se&&(_e=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:uo(u,a),ia(a),v&4&&GC(a);break;case 21:break;default:uo(u,a),ia(a)}}function ia(a){var u=a.flags;if(u&2){try{e:{for(var f=a.return;f!==null;){if(UC(f)){var v=f;break e}f=f.return}throw Error(r(160))}switch(v.tag){case 5:var _=v.stateNode;v.flags&32&&(ds(_,""),v.flags&=-33);var T=jC(a);J2(a,T,_);break;case 3:case 4:var R=v.stateNode.containerInfo,j=jC(a);Y2(a,j,R);break;default:throw Error(r(161))}}catch(B){Nr(a,a.return,B)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function aG(a,u,f){Ue=a,BC(a)}function BC(a,u,f){for(var v=(a.mode&1)!==0;Ue!==null;){var _=Ue,T=_.child;if(_.tag===22&&v){var R=_.memoizedState!==null||Yg;if(!R){var j=_.alternate,B=j!==null&&j.memoizedState!==null||On;j=Yg;var se=On;if(Yg=R,(On=B)&&!se)for(Ue=_;Ue!==null;)R=Ue,B=R.child,R.tag===22&&R.memoizedState!==null?qC(_):B!==null?(B.return=R,Ue=B):qC(_);for(;T!==null;)Ue=T,BC(T),T=T.sibling;Ue=_,Yg=j,On=se}HC(a)}else _.subtreeFlags&8772&&T!==null?(T.return=_,Ue=T):HC(a)}}function HC(a){for(;Ue!==null;){var u=Ue;if(u.flags&8772){var f=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:On||Jg(5,u);break;case 1:var v=u.stateNode;if(u.flags&4&&!On)if(f===null)v.componentDidMount();else{var _=u.elementType===u.type?f.memoizedProps:ao(u.type,f.memoizedProps);v.componentDidUpdate(_,f.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&WA(u,T,v);break;case 3:var R=u.updateQueue;if(R!==null){if(f=null,u.child!==null)switch(u.child.tag){case 5:f=u.child.stateNode;break;case 1:f=u.child.stateNode}WA(u,R,f)}break;case 5:var j=u.stateNode;if(f===null&&u.flags&4){f=j;var B=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&f.focus();break;case"img":B.src&&(f.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var se=u.alternate;if(se!==null){var _e=se.memoizedState;if(_e!==null){var Se=_e.dehydrated;Se!==null&&Xo(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}On||u.flags&512&&Z2(u)}catch(ve){Nr(u,u.return,ve)}}if(u===a){Ue=null;break}if(f=u.sibling,f!==null){f.return=u.return,Ue=f;break}Ue=u.return}}function WC(a){for(;Ue!==null;){var u=Ue;if(u===a){Ue=null;break}var f=u.sibling;if(f!==null){f.return=u.return,Ue=f;break}Ue=u.return}}function qC(a){for(;Ue!==null;){var u=Ue;try{switch(u.tag){case 0:case 11:case 15:var f=u.return;try{Jg(4,u)}catch(B){Nr(u,f,B)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var _=u.return;try{v.componentDidMount()}catch(B){Nr(u,_,B)}}var T=u.return;try{Z2(u)}catch(B){Nr(u,T,B)}break;case 5:var R=u.return;try{Z2(u)}catch(B){Nr(u,R,B)}}}catch(B){Nr(u,u.return,B)}if(u===a){Ue=null;break}var j=u.sibling;if(j!==null){j.return=u.return,Ue=j;break}Ue=u.return}}var lG=Math.ceil,Kg=U.ReactCurrentDispatcher,K2=U.ReactCurrentOwner,bs=U.ReactCurrentBatchConfig,Nt=0,on=null,Br=null,_n=0,qi=0,Xh=iu(0),Jr=0,lm=null,Yc=0,Xg=0,X2=0,um=null,bi=null,Q2=0,Qh=1/0,ll=null,Qg=!1,eb=null,cu=null,e1=!1,du=null,t1=0,cm=0,tb=null,r1=-1,n1=0;function Xn(){return Nt&6?Yt():r1!==-1?r1:r1=Yt()}function hu(a){return a.mode&1?Nt&2&&_n!==0?_n&-_n:Hz.transition!==null?(n1===0&&(n1=D()),n1):(a=Re,a!==0||(a=window.event,a=a===void 0?16:Nf(a.type)),a):1}function co(a,u,f,v){if(50<cm)throw cm=0,tb=null,Error(r(185));J(a,f,v),(!(Nt&2)||a!==on)&&(a===on&&(!(Nt&2)&&(Xg|=f),Jr===4&&pu(a,_n)),Ei(a,v),f===1&&Nt===0&&!(u.mode&1)&&(Qh=Yt()+500,Rg&&ou()))}function Ei(a,u){var f=a.callbackNode;A(a,u);var v=hr(a,a===on?_n:0);if(v===0)f!==null&&Ja(f),a.callbackNode=null,a.callbackPriority=0;else if(u=v&-v,a.callbackPriority!==u){if(f!=null&&Ja(f),u===1)a.tag===0?Bz(YC.bind(null,a)):IA(YC.bind(null,a)),jz(function(){!(Nt&6)&&ou()}),f=null;else{switch(ut(v)){case 1:f=Zo;break;case 4:f=Yo;break;case 16:f=ms;break;case 536870912:f=Gi;break;default:f=ms}f=nR(f,ZC.bind(null,a))}a.callbackPriority=u,a.callbackNode=f}}function ZC(a,u){if(r1=-1,n1=0,Nt&6)throw Error(r(327));var f=a.callbackNode;if(ep()&&a.callbackNode!==f)return null;var v=hr(a,a===on?_n:0);if(v===0)return null;if(v&30||v&a.expiredLanes||u)u=i1(a,v);else{u=v;var _=Nt;Nt|=2;var T=KC();(on!==a||_n!==u)&&(ll=null,Qh=Yt()+500,Kc(a,u));do try{dG();break}catch(j){JC(a,j)}while(!0);w2(),Kg.current=T,Nt=_,Br!==null?u=0:(on=null,_n=0,u=Jr)}if(u!==0){if(u===2&&(_=I(a),_!==0&&(v=_,u=rb(a,_))),u===1)throw f=lm,Kc(a,0),pu(a,v),Ei(a,Yt()),f;if(u===6)pu(a,v);else{if(_=a.current.alternate,!(v&30)&&!uG(_)&&(u=i1(a,v),u===2&&(T=I(a),T!==0&&(v=T,u=rb(a,T))),u===1))throw f=lm,Kc(a,0),pu(a,v),Ei(a,Yt()),f;switch(a.finishedWork=_,a.finishedLanes=v,u){case 0:case 1:throw Error(r(345));case 2:Xc(a,bi,ll);break;case 3:if(pu(a,v),(v&130023424)===v&&(u=Q2+500-Yt(),10<u)){if(hr(a,0)!==0)break;if(_=a.suspendedLanes,(_&v)!==v){Xn(),a.pingedLanes|=a.suspendedLanes&_;break}a.timeoutHandle=l2(Xc.bind(null,a,bi,ll),u);break}Xc(a,bi,ll);break;case 4:if(pu(a,v),(v&4194240)===v)break;for(u=a.eventTimes,_=-1;0<v;){var R=31-L(v);T=1<<R,R=u[R],R>_&&(_=R),v&=~T}if(v=_,v=Yt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*lG(v/1960))-v,10<v){a.timeoutHandle=l2(Xc.bind(null,a,bi,ll),v);break}Xc(a,bi,ll);break;case 5:Xc(a,bi,ll);break;default:throw Error(r(329))}}}return Ei(a,Yt()),a.callbackNode===f?ZC.bind(null,a):null}function rb(a,u){var f=um;return a.current.memoizedState.isDehydrated&&(Kc(a,u).flags|=256),a=i1(a,u),a!==2&&(u=bi,bi=f,u!==null&&nb(u)),a}function nb(a){bi===null?bi=a:bi.push.apply(bi,a)}function uG(a){for(var u=a;;){if(u.flags&16384){var f=u.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var v=0;v<f.length;v++){var _=f[v],T=_.getSnapshot;_=_.value;try{if(!so(T(),_))return!1}catch{return!1}}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function pu(a,u){for(u&=~X2,u&=~Xg,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var f=31-L(u),v=1<<f;a[f]=-1,u&=~v}}function YC(a){if(Nt&6)throw Error(r(327));ep();var u=hr(a,0);if(!(u&1))return Ei(a,Yt()),null;var f=i1(a,u);if(a.tag!==0&&f===2){var v=I(a);v!==0&&(u=v,f=rb(a,v))}if(f===1)throw f=lm,Kc(a,0),pu(a,u),Ei(a,Yt()),f;if(f===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Xc(a,bi,ll),Ei(a,Yt()),null}function ib(a,u){var f=Nt;Nt|=1;try{return a(u)}finally{Nt=f,Nt===0&&(Qh=Yt()+500,Rg&&ou())}}function Jc(a){du!==null&&du.tag===0&&!(Nt&6)&&ep();var u=Nt;Nt|=1;var f=bs.transition,v=Re;try{if(bs.transition=null,Re=1,a)return a()}finally{Re=v,bs.transition=f,Nt=u,!(Nt&6)&&ou()}}function sb(){qi=Xh.current,fr(Xh)}function Kc(a,u){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;if(f!==-1&&(a.timeoutHandle=-1,Uz(f)),Br!==null)for(f=Br.return;f!==null;){var v=f;switch(f2(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Ag();break;case 3:Yh(),fr(wi),fr(Cn),M2();break;case 5:$2(v);break;case 4:Yh();break;case 13:fr(xr);break;case 19:fr(xr);break;case 10:_2(v.type._context);break;case 22:case 23:sb()}f=f.return}if(on=a,Br=a=fu(a.current,null),_n=qi=u,Jr=0,lm=null,X2=Xg=Yc=0,bi=um=null,Wc!==null){for(u=0;u<Wc.length;u++)if(f=Wc[u],v=f.interleaved,v!==null){f.interleaved=null;var _=v.next,T=f.pending;if(T!==null){var R=T.next;T.next=_,v.next=R}f.pending=v}Wc=null}return a}function JC(a,u){do{var f=Br;try{if(w2(),zg.current=Hg,Gg){for(var v=Mr.memoizedState;v!==null;){var _=v.queue;_!==null&&(_.pending=null),v=v.next}Gg=!1}if(Zc=0,sn=Yr=Mr=null,rm=!1,nm=0,K2.current=null,f===null||f.return===null){Jr=1,lm=u,Br=null;break}e:{var T=a,R=f.return,j=f,B=u;if(u=_n,j.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var se=B,_e=j,Se=_e.tag;if(!(_e.mode&1)&&(Se===0||Se===11||Se===15)){var ve=_e.alternate;ve?(_e.updateQueue=ve.updateQueue,_e.memoizedState=ve.memoizedState,_e.lanes=ve.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var Le=SC(R);if(Le!==null){Le.flags&=-257,bC(Le,R,j,T,u),Le.mode&1&&_C(T,se,u),u=Le,B=se;var Ge=u.updateQueue;if(Ge===null){var Be=new Set;Be.add(B),u.updateQueue=Be}else Ge.add(B);break e}else{if(!(u&1)){_C(T,se,u),ob();break e}B=Error(r(426))}}else if(Tr&&j.mode&1){var zr=SC(R);if(zr!==null){!(zr.flags&65536)&&(zr.flags|=256),bC(zr,R,j,T,u),g2(Jh(B,j));break e}}T=B=Jh(B,j),Jr!==4&&(Jr=2),um===null?um=[T]:um.push(T),T=R;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u;var K=vC(T,B,u);HA(T,K);break e;case 1:j=B;var q=T.type,te=T.stateNode;if(!(T.flags&128)&&(typeof q.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(cu===null||!cu.has(te)))){T.flags|=65536,u&=-u,T.lanes|=u;var Te=wC(T,j,u);HA(T,Te);break e}}T=T.return}while(T!==null)}QC(f)}catch(We){u=We,Br===f&&f!==null&&(Br=f=f.return);continue}break}while(!0)}function KC(){var a=Kg.current;return Kg.current=Hg,a===null?Hg:a}function ob(){(Jr===0||Jr===3||Jr===2)&&(Jr=4),on===null||!(Yc&268435455)&&!(Xg&268435455)||pu(on,_n)}function i1(a,u){var f=Nt;Nt|=2;var v=KC();(on!==a||_n!==u)&&(ll=null,Kc(a,u));do try{cG();break}catch(_){JC(a,_)}while(!0);if(w2(),Nt=f,Kg.current=v,Br!==null)throw Error(r(261));return on=null,_n=0,Jr}function cG(){for(;Br!==null;)XC(Br)}function dG(){for(;Br!==null&&!qo();)XC(Br)}function XC(a){var u=rR(a.alternate,a,qi);a.memoizedProps=a.pendingProps,u===null?QC(a):Br=u,K2.current=null}function QC(a){var u=a;do{var f=u.alternate;if(a=u.return,u.flags&32768){if(f=iG(f,u),f!==null){f.flags&=32767,Br=f;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Jr=6,Br=null;return}}else if(f=nG(f,u,qi),f!==null){Br=f;return}if(u=u.sibling,u!==null){Br=u;return}Br=u=a}while(u!==null);Jr===0&&(Jr=5)}function Xc(a,u,f){var v=Re,_=bs.transition;try{bs.transition=null,Re=1,hG(a,u,f,v)}finally{bs.transition=_,Re=v}return null}function hG(a,u,f,v){do ep();while(du!==null);if(Nt&6)throw Error(r(327));f=a.finishedWork;var _=a.finishedLanes;if(f===null)return null;if(a.finishedWork=null,a.finishedLanes=0,f===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var T=f.lanes|f.childLanes;if(ue(a,T),a===on&&(Br=on=null,_n=0),!(f.subtreeFlags&2064)&&!(f.flags&2064)||e1||(e1=!0,nR(ms,function(){return ep(),null})),T=(f.flags&15990)!==0,f.subtreeFlags&15990||T){T=bs.transition,bs.transition=null;var R=Re;Re=1;var j=Nt;Nt|=4,K2.current=null,oG(a,f),VC(f,a),Pz(o2),Bi=!!s2,o2=s2=null,a.current=f,aG(f),dr(),Nt=j,Re=R,bs.transition=T}else a.current=f;if(e1&&(e1=!1,du=a,t1=_),T=a.pendingLanes,T===0&&(cu=null),to(f.stateNode),Ei(a,Yt()),u!==null)for(v=a.onRecoverableError,f=0;f<u.length;f++)_=u[f],v(_.value,{componentStack:_.stack,digest:_.digest});if(Qg)throw Qg=!1,a=eb,eb=null,a;return t1&1&&a.tag!==0&&ep(),T=a.pendingLanes,T&1?a===tb?cm++:(cm=0,tb=a):cm=0,ou(),null}function ep(){if(du!==null){var a=ut(t1),u=bs.transition,f=Re;try{if(bs.transition=null,Re=16>a?16:a,du===null)var v=!1;else{if(a=du,du=null,t1=0,Nt&6)throw Error(r(331));var _=Nt;for(Nt|=4,Ue=a.current;Ue!==null;){var T=Ue,R=T.child;if(Ue.flags&16){var j=T.deletions;if(j!==null){for(var B=0;B<j.length;B++){var se=j[B];for(Ue=se;Ue!==null;){var _e=Ue;switch(_e.tag){case 0:case 11:case 15:am(8,_e,T)}var Se=_e.child;if(Se!==null)Se.return=_e,Ue=Se;else for(;Ue!==null;){_e=Ue;var ve=_e.sibling,Le=_e.return;if(FC(_e),_e===se){Ue=null;break}if(ve!==null){ve.return=Le,Ue=ve;break}Ue=Le}}}var Ge=T.alternate;if(Ge!==null){var Be=Ge.child;if(Be!==null){Ge.child=null;do{var zr=Be.sibling;Be.sibling=null,Be=zr}while(Be!==null)}}Ue=T}}if(T.subtreeFlags&2064&&R!==null)R.return=T,Ue=R;else e:for(;Ue!==null;){if(T=Ue,T.flags&2048)switch(T.tag){case 0:case 11:case 15:am(9,T,T.return)}var K=T.sibling;if(K!==null){K.return=T.return,Ue=K;break e}Ue=T.return}}var q=a.current;for(Ue=q;Ue!==null;){R=Ue;var te=R.child;if(R.subtreeFlags&2064&&te!==null)te.return=R,Ue=te;else e:for(R=q;Ue!==null;){if(j=Ue,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:Jg(9,j)}}catch(We){Nr(j,j.return,We)}if(j===R){Ue=null;break e}var Te=j.sibling;if(Te!==null){Te.return=j.return,Ue=Te;break e}Ue=j.return}}if(Nt=_,ou(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(ar,a)}catch{}v=!0}return v}finally{Re=f,bs.transition=u}}return!1}function eR(a,u,f){u=Jh(f,u),u=vC(a,u,1),a=lu(a,u,1),u=Xn(),a!==null&&(J(a,1,u),Ei(a,u))}function Nr(a,u,f){if(a.tag===3)eR(a,a,f);else for(;u!==null;){if(u.tag===3){eR(u,a,f);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(cu===null||!cu.has(v))){a=Jh(f,a),a=wC(u,a,1),u=lu(u,a,1),a=Xn(),u!==null&&(J(u,1,a),Ei(u,a));break}}u=u.return}}function pG(a,u,f){var v=a.pingCache;v!==null&&v.delete(u),u=Xn(),a.pingedLanes|=a.suspendedLanes&f,on===a&&(_n&f)===f&&(Jr===4||Jr===3&&(_n&130023424)===_n&&500>Yt()-Q2?Kc(a,0):X2|=f),Ei(a,u)}function tR(a,u){u===0&&(a.mode&1?(u=Ft,Ft<<=1,!(Ft&130023424)&&(Ft=4194304)):u=1);var f=Xn();a=sl(a,u),a!==null&&(J(a,u,f),Ei(a,f))}function fG(a){var u=a.memoizedState,f=0;u!==null&&(f=u.retryLane),tR(a,f)}function mG(a,u){var f=0;switch(a.tag){case 13:var v=a.stateNode,_=a.memoizedState;_!==null&&(f=_.retryLane);break;case 19:v=a.stateNode;break;default:throw Error(r(314))}v!==null&&v.delete(u),tR(a,f)}var rR;rR=function(a,u,f){if(a!==null)if(a.memoizedProps!==u.pendingProps||wi.current)Si=!0;else{if(!(a.lanes&f)&&!(u.flags&128))return Si=!1,rG(a,u,f);Si=!!(a.flags&131072)}else Si=!1,Tr&&u.flags&1048576&&NA(u,Og,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;Zg(a,u),a=u.pendingProps;var _=Gh(u,Cn.current);Zh(u,f),_=C2(null,u,v,a,_,f);var T=R2();return u.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,_i(v)?(T=!0,Cg(u)):T=!1,u.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,E2(u),_.updater=Wg,u.stateNode=_,_._reactInternals=u,D2(u,v,a,f),u=z2(null,u,v,!0,T,f)):(u.tag=0,Tr&&T&&p2(u),Kn(null,u,_,f),u=u.child),u;case 16:v=u.elementType;e:{switch(Zg(a,u),a=u.pendingProps,_=v._init,v=_(v._payload),u.type=v,_=u.tag=gG(v),a=ao(v,a),_){case 0:u=j2(null,u,v,a,f);break e;case 1:u=kC(null,u,v,a,f);break e;case 11:u=EC(null,u,v,a,f);break e;case 14:u=TC(null,u,v,ao(v.type,a),f);break e}throw Error(r(306,v,""))}return u;case 0:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:ao(v,_),j2(a,u,v,_,f);case 1:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:ao(v,_),kC(a,u,v,_,f);case 3:e:{if(AC(u),a===null)throw Error(r(387));v=u.pendingProps,T=u.memoizedState,_=T.element,BA(a,u),Ug(u,v,null,f);var R=u.memoizedState;if(v=R.element,T.isDehydrated)if(T={element:v,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){_=Jh(Error(r(423)),u),u=CC(a,u,v,f,_);break e}else if(v!==_){_=Jh(Error(r(424)),u),u=CC(a,u,v,f,_);break e}else for(Wi=nu(u.stateNode.containerInfo.firstChild),Hi=u,Tr=!0,oo=null,f=GA(u,null,v,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Hh(),v===_){u=al(a,u,f);break e}Kn(a,u,v,f)}u=u.child}return u;case 5:return qA(u),a===null&&y2(u),v=u.type,_=u.pendingProps,T=a!==null?a.memoizedProps:null,R=_.children,a2(v,_)?R=null:T!==null&&a2(v,T)&&(u.flags|=32),MC(a,u),Kn(a,u,R,f),u.child;case 6:return a===null&&y2(u),null;case 13:return RC(a,u,f);case 4:return T2(u,u.stateNode.containerInfo),v=u.pendingProps,a===null?u.child=Wh(u,null,v,f):Kn(a,u,v,f),u.child;case 11:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:ao(v,_),EC(a,u,v,_,f);case 7:return Kn(a,u,u.pendingProps,f),u.child;case 8:return Kn(a,u,u.pendingProps.children,f),u.child;case 12:return Kn(a,u,u.pendingProps.children,f),u.child;case 10:e:{if(v=u.type._context,_=u.pendingProps,T=u.memoizedProps,R=_.value,lr(Lg,v._currentValue),v._currentValue=R,T!==null)if(so(T.value,R)){if(T.children===_.children&&!wi.current){u=al(a,u,f);break e}}else for(T=u.child,T!==null&&(T.return=u);T!==null;){var j=T.dependencies;if(j!==null){R=T.child;for(var B=j.firstContext;B!==null;){if(B.context===v){if(T.tag===1){B=ol(-1,f&-f),B.tag=2;var se=T.updateQueue;if(se!==null){se=se.shared;var _e=se.pending;_e===null?B.next=B:(B.next=_e.next,_e.next=B),se.pending=B}}T.lanes|=f,B=T.alternate,B!==null&&(B.lanes|=f),S2(T.return,f,u),j.lanes|=f;break}B=B.next}}else if(T.tag===10)R=T.type===u.type?null:T.child;else if(T.tag===18){if(R=T.return,R===null)throw Error(r(341));R.lanes|=f,j=R.alternate,j!==null&&(j.lanes|=f),S2(R,f,u),R=T.sibling}else R=T.child;if(R!==null)R.return=T;else for(R=T;R!==null;){if(R===u){R=null;break}if(T=R.sibling,T!==null){T.return=R.return,R=T;break}R=R.return}T=R}Kn(a,u,_.children,f),u=u.child}return u;case 9:return _=u.type,v=u.pendingProps.children,Zh(u,f),_=_s(_),v=v(_),u.flags|=1,Kn(a,u,v,f),u.child;case 14:return v=u.type,_=ao(v,u.pendingProps),_=ao(v.type,_),TC(a,u,v,_,f);case 15:return $C(a,u,u.type,u.pendingProps,f);case 17:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:ao(v,_),Zg(a,u),u.tag=1,_i(v)?(a=!0,Cg(u)):a=!1,Zh(u,f),yC(u,v,_),D2(u,v,_,f),z2(null,u,v,!0,a,f);case 19:return OC(a,u,f);case 22:return xC(a,u,f)}throw Error(r(156,u.tag))};function nR(a,u){return zi(a,u)}function yG(a,u,f,v){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(a,u,f,v){return new yG(a,u,f,v)}function ab(a){return a=a.prototype,!(!a||!a.isReactComponent)}function gG(a){if(typeof a=="function")return ab(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Me)return 11;if(a===$t)return 14}return 2}function fu(a,u){var f=a.alternate;return f===null?(f=Es(a.tag,u,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=u,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&14680064,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,u=a.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f}function s1(a,u,f,v,_,T){var R=2;if(v=a,typeof a=="function")ab(a)&&(R=1);else if(typeof a=="string")R=5;else e:switch(a){case Q:return Qc(f.children,_,T,u);case pe:R=8,_|=8;break;case ye:return a=Es(12,f,u,_|2),a.elementType=ye,a.lanes=T,a;case De:return a=Es(13,f,u,_),a.elementType=De,a.lanes=T,a;case Ae:return a=Es(19,f,u,_),a.elementType=Ae,a.lanes=T,a;case it:return o1(f,_,T,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case ge:R=10;break e;case Pe:R=9;break e;case Me:R=11;break e;case $t:R=14;break e;case kt:R=16,v=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return u=Es(R,f,u,_),u.elementType=a,u.type=v,u.lanes=T,u}function Qc(a,u,f,v){return a=Es(7,a,v,u),a.lanes=f,a}function o1(a,u,f,v){return a=Es(22,a,v,u),a.elementType=it,a.lanes=f,a.stateNode={isHidden:!1},a}function lb(a,u,f){return a=Es(6,a,null,u),a.lanes=f,a}function ub(a,u,f){return u=Es(4,a.children!==null?a.children:[],a.key,u),u.lanes=f,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function vG(a,u,f,v,_){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ee(0),this.expirationTimes=ee(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ee(0),this.identifierPrefix=v,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function cb(a,u,f,v,_,T,R,j,B){return a=new vG(a,u,f,j,B),u===1?(u=1,T===!0&&(u|=8)):u=0,T=Es(3,null,null,u),a.current=T,T.stateNode=a,T.memoizedState={element:v,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},E2(T),a}function wG(a,u,f){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:v==null?null:""+v,children:a,containerInfo:u,implementation:f}}function iR(a){if(!a)return su;a=a._reactInternals;e:{if(di(a)!==a||a.tag!==1)throw Error(r(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(_i(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(a.tag===1){var f=a.type;if(_i(f))return PA(a,f,u)}return u}function sR(a,u,f,v,_,T,R,j,B){return a=cb(f,v,!0,a,_,T,R,j,B),a.context=iR(null),f=a.current,v=Xn(),_=hu(f),T=ol(v,_),T.callback=u??null,lu(f,T,_),a.current.lanes=_,J(a,_,v),Ei(a,v),a}function a1(a,u,f,v){var _=u.current,T=Xn(),R=hu(_);return f=iR(f),u.context===null?u.context=f:u.pendingContext=f,u=ol(T,R),u.payload={element:a},v=v===void 0?null:v,v!==null&&(u.callback=v),a=lu(_,u,R),a!==null&&(co(a,_,R,T),Fg(a,_,R)),R}function l1(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function oR(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<u?f:u}}function db(a,u){oR(a,u),(a=a.alternate)&&oR(a,u)}function _G(){return null}var aR=typeof reportError=="function"?reportError:function(a){console.error(a)};function hb(a){this._internalRoot=a}u1.prototype.render=hb.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(r(409));a1(a,u,null,null)},u1.prototype.unmount=hb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;Jc(function(){a1(null,a,null,null)}),u[tl]=null}};function u1(a){this._internalRoot=a}u1.prototype.unstable_scheduleHydration=function(a){if(a){var u=pi();a={blockedOn:null,target:a,priority:u};for(var f=0;f<Ko.length&&u!==0&&u<Ko[f].priority;f++);Ko.splice(f,0,a),f===0&&ys(a)}};function pb(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function c1(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function lR(){}function SG(a,u,f,v,_){if(_){if(typeof v=="function"){var T=v;v=function(){var se=l1(R);T.call(se)}}var R=sR(u,v,a,0,null,!1,!1,"",lR);return a._reactRootContainer=R,a[tl]=R.current,Zf(a.nodeType===8?a.parentNode:a),Jc(),R}for(;_=a.lastChild;)a.removeChild(_);if(typeof v=="function"){var j=v;v=function(){var se=l1(B);j.call(se)}}var B=cb(a,0,!1,null,null,!1,!1,"",lR);return a._reactRootContainer=B,a[tl]=B.current,Zf(a.nodeType===8?a.parentNode:a),Jc(function(){a1(u,B,f,v)}),B}function d1(a,u,f,v,_){var T=f._reactRootContainer;if(T){var R=T;if(typeof _=="function"){var j=_;_=function(){var B=l1(R);j.call(B)}}a1(u,R,a,_)}else R=SG(f,u,a,_,v);return l1(R)}St=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var f=Wt(u.pendingLanes);f!==0&&(xe(u,f|1),Ei(u,Yt()),!(Nt&6)&&(Qh=Yt()+500,ou()))}break;case 13:Jc(function(){var v=sl(a,1);if(v!==null){var _=Xn();co(v,a,1,_)}}),db(a,1)}},Kt=function(a){if(a.tag===13){var u=sl(a,134217728);if(u!==null){var f=Xn();co(u,a,134217728,f)}db(a,134217728)}},hi=function(a){if(a.tag===13){var u=hu(a),f=sl(a,u);if(f!==null){var v=Xn();co(f,a,u,v)}db(a,u)}},pi=function(){return Re},Mn=function(a,u){var f=Re;try{return Re=a,u()}finally{Re=f}},Js=function(a,u,f){switch(u){case"input":if(za(a,f),u=f.name,f.type==="radio"&&u!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<f.length;u++){var v=f[u];if(v!==a&&v.form===a.form){var _=kg(v);if(!_)throw Error(r(90));Vo(v),za(v,_)}}}break;case"textarea":Ga(a,f);break;case"select":u=f.value,u!=null&&ci(a,!!f.multiple,u,!1)}},Zn=ib,Xs=Jc;var bG={usingClientEntryPoint:!1,Events:[Kf,jh,kg,Ks,ps,ib]},dm={findFiberByHostInstance:Gc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EG={bundleType:dm.bundleType,version:dm.version,rendererPackageName:dm.rendererPackageName,rendererConfig:dm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=eo(a),a===null?null:a.stateNode},findFiberByHostInstance:dm.findFiberByHostInstance||_G,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var h1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!h1.isDisabled&&h1.supportsFiber)try{ar=h1.inject(EG),gn=h1}catch{}}return Ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bG,Ti.createPortal=function(a,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pb(u))throw Error(r(200));return wG(a,u,null,f)},Ti.createRoot=function(a,u){if(!pb(a))throw Error(r(299));var f=!1,v="",_=aR;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),u=cb(a,1,!1,null,null,f,!1,v,_),a[tl]=u.current,Zf(a.nodeType===8?a.parentNode:a),new hb(u)},Ti.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=eo(u),a=a===null?null:a.stateNode,a},Ti.flushSync=function(a){return Jc(a)},Ti.hydrate=function(a,u,f){if(!c1(u))throw Error(r(200));return d1(null,a,u,!0,f)},Ti.hydrateRoot=function(a,u,f){if(!pb(a))throw Error(r(405));var v=f!=null&&f.hydratedSources||null,_=!1,T="",R=aR;if(f!=null&&(f.unstable_strictMode===!0&&(_=!0),f.identifierPrefix!==void 0&&(T=f.identifierPrefix),f.onRecoverableError!==void 0&&(R=f.onRecoverableError)),u=sR(u,null,a,1,f??null,_,!1,T,R),a[tl]=u.current,Zf(a),v)for(a=0;a<v.length;a++)f=v[a],_=f._getVersion,_=_(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,_]:u.mutableSourceEagerHydrationData.push(f,_);return new u1(u)},Ti.render=function(a,u,f){if(!c1(u))throw Error(r(200));return d1(null,a,u,!1,f)},Ti.unmountComponentAtNode=function(a){if(!c1(a))throw Error(r(40));return a._reactRootContainer?(Jc(function(){d1(null,null,a,!1,function(){a._reactRootContainer=null,a[tl]=null})}),!0):!1},Ti.unstable_batchedUpdates=ib,Ti.unstable_renderSubtreeIntoContainer=function(a,u,f,v){if(!c1(f))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return d1(a,u,f,!1,v)},Ti.version="18.3.1-next-f1338f8080-20240426",Ti}var gR;function XL(){if(gR)return yb.exports;gR=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yb.exports=RG(),yb.exports}var vR;function PG(){if(vR)return f1;vR=1;var e=XL();return f1.createRoot=e.createRoot,f1.hydrateRoot=e.hydrateRoot,f1}var OG=PG();const IG=({children:e})=>qe.jsx("div",{className:"h-[100vh] w-[100vw] ",children:e});function p(e,t,r,n){var i,s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function Kye(e,t){return function(r,n){t(r,n,e)}}function Xye(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(m){try{d(n.next(m))}catch(g){o(g)}}function c(m){try{d(n.throw(m))}catch(g){o(g)}}function d(m){m.done?s(m.value):i(m.value).then(l,c)}d((n=n.apply(e,[])).next())})}let nc;function ie(e){return typeof nc[e]=="function"?nc[e]=nc[e](globalThis):nc[e]}nc=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},ie.add=(e,t,r,n)=>{(n||nc[e]===void 0)&&(nc[e]=t),r&&ie(e)},ie.cache=nc,ie.add("big-integer-warning-enabled",!0),ie.add("esri-deprecation-warnings",!0),ie.add("esri-tests-disable-screenshots",!1),ie.add("esri-tests-use-full-window",!1),ie.add("esri-tests-post-to-influx",!0),ie.add("esri-cim-animations-enable-status","enabled"),ie.add("esri-cim-animations-spotlight",!1),ie.add("esri-cim-animations-freeze-time",!1),ie.add("enable-feature:multiple-highlights",!1),(()=>{ie.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(ie.add("host-browser",e),ie.add("host-node",typeof globalThis.process=="object"&&globalThis.process.versions?.node&&globalThis.process.versions.v8),ie.add("dom",e),ie("host-browser")){const t=navigator,r=t.userAgent,n=t.appVersion,i=parseFloat(n);if(ie.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),ie.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),ie.add("khtml",n.includes("Konqueror")?i:void 0),ie.add("edge",parseFloat(r.split("Edge/")[1])||void 0),ie.add("opr",parseFloat(r.split("OPR/")[1])||void 0),ie.add("webkit",!ie("wp")&&!ie("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),ie.add("chrome",!ie("edge")&&!ie("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),ie.add("android",!ie("wp")&&parseFloat(r.split("Android ")[1])||void 0),ie.add("safari",!n.includes("Safari")||ie("wp")||ie("chrome")||ie("android")||ie("edge")||ie("opr")?void 0:parseFloat(n.split("Version/")[1])),ie.add("mac",n.includes("Macintosh")),!ie("wp")&&/(iPhone|iPod|iPad)/.test(r)){const s=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",l=parseFloat(o.replace(/_/,".").replaceAll("_",""));ie.add(s,l),ie.add("ios",l)}ie("webkit")||(!r.includes("Gecko")||ie("wp")||ie("khtml")||ie("edge")||ie.add("mozilla",i),ie("mozilla")&&ie.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&ie.add("esri-mobile",t),r&&ie.add("esri-iPhone",r),ie.add("esri-geolocation",!!navigator.geolocation)}ie.add("esri-wasm","WebAssembly"in globalThis),ie.add("esri-performance-mode-frames-between-render",20),ie.add("esri-force-performance-mode",!1),ie.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),ie.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),ie.add("esri-atomics","Atomics"in globalThis),ie.add("esri-workers","Worker"in globalThis),ie.add("web-feat:cache","caches"in globalThis),ie.add("esri-workers-arraybuffer-transfer",!ie("safari")||Number(ie("safari"))>=12),ie.add("workers-pool-size",8),ie.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),ie.add("featurelayer-simplify-payload-size-factors",[1,1,4]),ie.add("featurelayer-fast-triangulation-enabled",!0),ie.add("featurelayer-animation-enabled",!0),ie.add("featurelayer-snapshot-enabled",!0),ie.add("featurelayer-snapshot-point-min-threshold",8e4),ie.add("featurelayer-snapshot-point-max-threshold",4e5),ie.add("featurelayer-snapshot-point-coverage",.1),ie.add("featurelayer-query-max-depth",4),ie.add("featurelayer-query-pausing-enabled",!1),ie.add("featurelayer-advanced-symbols",!1),ie.add("featurelayer-pbf",!0),ie.add("featurelayer-pbf-statistics",!1),ie.add("feature-layers-workers",!0),ie.add("feature-polyline-generalization-factor",1),ie.add("mapview-transitions-duration",200),ie.add("mapview-essential-goto-duration",200),ie.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),ie.add("mapserver-pbf-version-support",10.81),ie.add("mapservice-popup-identify-max-tolerance",20),ie("host-webworker")||ie("host-browser")&&(ie.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),ie.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{ie.add("esri-image-decode",!0,!0,!0)}).catch(()=>{ie.add("esri-image-decode",!1,!0,!0)})}return!1}),ie.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();let lv=class ud{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*ud._m}getInt(){return this._seed=(ud._a*this._seed+ud._c)%ud._m,this._seed}getFloat(){return this.getInt()/(ud._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const n=r-t;return t+this.getInt()/ud._m*n}};lv._m=2147483647,lv._a=48271,lv._c=0;const NG=1.5,Qye=1/NG,e0e=.5;function t0e(e,t){return t?e.filter((r,n,i)=>i.findIndex(t.bind(null,r))===n):Array.from(new Set(e))}function x_(e,t,r){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(r){for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function wR(e,t,r){let n,i;return r?(n=t.filter(s=>!e.some(o=>r(o,s))),i=e.filter(s=>!t.some(o=>r(o,s)))):(n=t.filter(s=>!e.includes(s)),i=e.filter(s=>!t.includes(s))),{added:n,removed:i}}function r0e(e){return e&&typeof e.length=="number"}let QL=class{constructor(){this.last=0}};const e4=new QL;function HE(e,t,r,n){n=n||e4;const i=Math.max(0,n.last-10);for(let o=i;o<r;++o)if(e[o]===t)return n.last=o,o;const s=Math.min(i,r);for(let o=0;o<s;++o)if(e[o]===t)return n.last=o,o;return-1}function LG(e,t,r,n){const i=e.length,s=HE(e,t,i,n);if(s!==-1)return e[s]=e[i-1],e.pop(),t}const ho=new Set;function DG(e,t,r=e.length,n=t.length,i,s){if(n===0||r===0)return r;ho.clear();for(let l=0;l<n;++l)ho.add(t[l]);i=i||e4;const o=Math.max(0,i.last-10);for(let l=o;l<r;++l)if(ho.has(e[l])&&(s?.push(e[l]),ho.delete(e[l]),e[l]=e[r-1],--r,--l,ho.size===0||r===0))return ho.clear(),r;for(let l=0;l<o;++l)if(ho.has(e[l])&&(s?.push(e[l]),ho.delete(e[l]),e[l]=e[r-1],--r,--l,ho.size===0||r===0))return ho.clear(),r;return ho.clear(),r}function i0e(e,t){let r=0;for(let n=0;n<e.length;++n){const i=e[n];t(i,n)&&(e[r]=i,r++)}e.length=r}function FG(e){return e?(_R.seed=e,()=>_R.getFloat()):Math.random}function s0e(e,t){const r=FG(t);for(let n=e.length-1;n>0;n--){const i=Math.floor(r()*(n+1)),s=e[n];e[n]=e[i],e[i]=s}return e}const _R=new lv;function t4(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}function n0(e,t){return e!=null}function r4(e){return 32+e.length}function O3(){return 16}function o0e(e){if(!e)return 0;let t=i4;for(const r in e)if(e.hasOwnProperty(r)){const n=e[r];switch(typeof n){case"string":t+=r4(n);break;case"number":t+=O3();break;case"boolean":t+=4}}return t}function UG(e){if(!e)return 0;if(Array.isArray(e))return jG(e);let t=i4;for(const r in e)e.hasOwnProperty(r)&&(t+=n4(e[r]));return t}function jG(e){const t=e.length;if(t===0||typeof e[0]=="number")return 32+8*t;let r=s4;for(let n=0;n<t;n++)r+=n4(e[n]);return r}function n4(e){switch(typeof e){case"object":return UG(e);case"string":return r4(e);case"number":return O3();case"boolean":return 4;default:return 8}}function zG(e,t){return s4+e.length*t}const i4=32,s4=16;function a0e(e){return e instanceof ArrayBuffer}function I3(e){return e?.constructor?.name==="Int8Array"}function o4(e){return e?.constructor?.name==="Uint8Array"}function a4(e){return e?.constructor?.name==="Uint8ClampedArray"}function N3(e){return e?.constructor?.name==="Int16Array"}function l4(e){return e?.constructor?.name==="Uint16Array"}function L3(e){return e?.constructor?.name==="Int32Array"}function u4(e){return e?.constructor?.name==="Uint32Array"}function M_(e){return e?.constructor?.name==="Float32Array"}function k_(e){return e?.constructor?.name==="Float64Array"}function c4(e){return!("buffer"in e)}function l0e(...e){return e.reduce((t,r)=>t+(r?c4(r)?zG(r,O3()):r.byteLength+GG:0),0)}const GG=145,d4=1024;function u0e(e){return k_(e)||M_(e)||L3(e)||N3(e)||I3(e)}function c0e(e){return k_(e)||M_(e)}function d0e(e){return k_(e)?179769e303:M_(e)?3402823e32:u4(e)?4294967295:l4(e)?65535:o4(e)||a4(e)?255:L3(e)?2147483647:N3(e)?32767:I3(e)?127:256}function VG(e,t){let r;for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function me(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=f4(e);if(t!=null)return t;if(fw(e))return e.clone();if(h4(e))return e.map(me);if(p4(e))return e.clone();const r={};for(const n of Object.getOwnPropertyNames(e))r[n]=me(e[n]);return r}function WE(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=f4(e);if(t!=null)return t;if(h4(e)){let r=!0;const n=e.map(i=>{const s=WE(i);return i!=null&&s==null&&(r=!1),s});return r?n:null}if(fw(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(!p4(e)){const r=new(Object.getPrototypeOf(e)).constructor;for(const n of Object.getOwnPropertyNames(e)){const i=e[n],s=WE(i);if(i!=null&&s==null)return null;r[n]=s}return r}return null}function fw(e){return typeof e.clone=="function"}function h4(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function p4(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function SR(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function f4(e){if(I3(e)||o4(e)||a4(e)||N3(e)||l4(e)||L3(e)||u4(e)||M_(e)||k_(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[r,n]of e)t.set(r,me(n));return t}if(e instanceof Set){const t=new Set;for(const r of e)t.add(me(r));return t}return null}function D3(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof e?.getTime=="function"&&typeof t?.getTime=="function"&&e.getTime()===t.getTime()||!1}function m4(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&x_(e,t):e instanceof Set?t instanceof Set&&HG(e,t):e instanceof Map?t instanceof Map&&WG(e,t):!!SR(e)&&SR(t)&&BG(e,t))}function BG(e,t){if(e===null||t===null)return!1;const r=Object.keys(e);if(t===null||Object.keys(t).length!==r.length)return!1;for(const n of r)if(e[n]!==t[n]||!Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}function HG(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function WG(e,t){if(e.size!==t.size)return!1;for(const[r,n]of e){const i=t.get(r);if(i!==n||i===void 0&&!t.has(r))return!1}return!0}function qG(e,t,r=!1){return g4(e,t,r)}function A_(e,t){if(t!=null)return t[e]||y4(e.split("."),!1,t)}function vh(e,t,r){const n=e.split("."),i=n.pop(),s=y4(n,!0,r);s&&i&&(s[i]=t)}function bR(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const r=t;if(e.length!==r.length)return!0;for(let n=0;n<e.length;n++)if(bR(e[n],r[n]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const r in e)if(bR(e[r],t[r]))return!0;return!1}return e!==t}function y4(e,t,r){let n=r;for(const i of e){if(n==null)return;if(!(i in n)){if(!t)return;n[i]={}}n=n[i]}return n}function g4(e,t,r){return t?Object.keys(t).reduce((n,i)=>{let s=n[i],o=t[i];return s===o?n:s===void 0?(n[i]=me(o),n):(Array.isArray(o)||Array.isArray(n)?(s=s?Array.isArray(s)?n[i]=s.slice():n[i]=[s]:n[i]=[],o&&(Array.isArray(o)||(o=[o]),r?o.forEach(l=>{s.includes(l)||s.push(l)}):n[i]=o.slice())):o&&typeof o=="object"?n[i]=g4(s,o,r):n.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(n[i]=o),n)},e||{}):e}const Vt={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(qG(Vt,globalThis.esriConfig,!0),delete Vt.has),!Vt.assetsPath){{const e="4.31";Vt.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}Vt.defaultAssetsPath=Vt.assetsPath}const ZG=/\{([^}]+)\}/g;function ER(e){return e??""}function F3(e,t){return t?e.replaceAll(ZG,typeof t=="object"?(r,n)=>ER(A_(n,t)):(r,n)=>ER(t(n))):e}function h0e(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,r=>t?.includes(r)?r:`\\${r}`)}function v4(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}let TR;function p0e(e){return TR??=new DOMParser,TR.parseFromString(e||"","text/html").body.innerText||""}function f0e(e,t){return new RegExp(`{${t}}`,"ig").test(e)}const $R={info:0,warn:1,error:2,none:3};let Ne=class Yi{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,Yi._loggers.set(this.module,this);const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=Yi.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,Yi._loggers.get(t)||new Yi({module:t})}_log(t,r,...n){if(this._matchLevel(t)){if(r!=="always"&&!Yi._throttlingDisabled){const i=JG(n),s=this._loggedMessages[t].get(i);if(r==="once"&&s!=null||r==="oncePerTick"&&s&&s>=Yi._tickCounter)return;this._loggedMessages[t].set(i,Yi._tickCounter),Yi._scheduleTickCounterIncrement()}for(const i of Vt.log.interceptors)if(i(t,this.module,...n))return;this._inheritedWriter()(t,this.module,...n)}}_parentWithMember(t,r){let n=this;for(;n!=null;){const i=n[t];if(i!=null)return i;n=n.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",YG)}_matchLevel(t){const r=Vt.log.level||"warn";return $R[this._parentWithMember("level",r)]<=$R[t]}static _scheduleTickCounterIncrement(){Yi._tickCounterScheduled||(Yi._tickCounterScheduled=!0,Promise.resolve().then(()=>{Yi._tickCounter++,Yi._tickCounterScheduled=!1}))}};function YG(e,t,...r){console[e](`[${t}]`,...r)}function JG(...e){return v4(JSON.stringify(e,(r,n)=>typeof n!="object"||Array.isArray(n)?n:"[Object]"))}Ne._loggers=new Map,Ne._tickCounter=0,Ne._tickCounterScheduled=!1,Ne._throttlingDisabled=!1;function KG(e,t){for(const r of e.values())if(t(r))return!0;return!1}function U3(e,t,r){const n=e.get(t);if(n!==void 0)return n;const i=r();return e.set(t,i),i}function m0e(e){const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))}const Bp=()=>Ne.getLogger("esri.core.accessorSupport.ensureTypes");function XG(e){return e==null?e:new Date(e)}function QG(e){return e==null?e:!!e}function eV(e){return e==null?e:e.toString()}function ns(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function j3(e){return e==null?e:Math.round(parseFloat(e))}function tV(e){return null}function rV(e,t){return r=>{let n=e(r);return t.step!=null&&(n=Math.round(n/t.step)*t.step),t.min!=null&&(n=Math.max(t.min,n)),t.max!=null&&(n=Math.min(t.max,n)),n}}function w4(e){return e?.constructor&&e.constructor.__accessorMetadata__!==void 0}function mw(e,t){return t!=null&&e&&!(t instanceof e)}function _4(e){return e&&"isCollection"in e}function xR(e){return e?.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function nV(e,t){if(!t?.constructor||!_4(t.constructor))return qE(e,t)?t:new e(t);const r=xR(e.prototype.itemType),n=xR(t.constructor.prototype.itemType);return r?n?r===n?t:r.prototype.isPrototypeOf(n.prototype)?new e(t):(qE(e,t),t):new e(t):t}function qE(e,t){return!!w4(t)&&(Bp().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+R_(e)+"'"),!0)}function C_(e,t){return t==null?t:_4(e)?nV(e,t):mw(e,t)?qE(e,t)?t:new e(t):t}function R_(e){return e?.prototype?.declaredClass||"unknown"}const iV=new WeakMap;function sV(e){switch(e){case Number:return t=>ns(t);case or:return j3;case Boolean:return QG;case String:return eV;case Date:return XG;case P_:return tV;default:return U3(iV,e,()=>C_.bind(null,e))}}function oi(e,t){const r=sV(e);return arguments.length===1?r:r(t)}function i0(e,t,r){return arguments.length===1?i0.bind(null,e):t&&(Array.isArray(t)?t.map(n=>e(n,r)):[e(t,r)])}function oV(e,t){return arguments.length===1?i0(r=>oi(e,r)):i0(r=>oi(e,r),t)}function S4(e,t,r){return t!==0&&Array.isArray(r)?r.map(n=>S4(e,t-1,n)):e(r)}function yw(e,t,r){if(arguments.length===2)return s=>yw(e,t,s);if(!r)return r;r=S4(e,t,r);let n=t,i=r;for(;n>0&&Array.isArray(i);)n--,i=i[0];if(i!==void 0)for(let s=0;s<n;s++)r=[r];return r}function aV(e,t,r){return arguments.length===2?yw(n=>oi(e,n),t):yw(n=>oi(e,n),t,r)}function b4(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function ZE(e,t){if(arguments.length===2)return ZE(e).call(null,t);const r=new Set,n=e.filter(l=>typeof l!="function"),i=e.filter(l=>typeof l=="function");for(const l of e)typeof l!="string"&&typeof l!="number"||r.add(l);let s=null,o=null;return(l,c)=>{if(l==null)return l;const d=typeof l,m=d==="string"||d==="number";return m&&(r.has(l)||i.some(g=>d==="string"&&g===String||d==="number"&&g===Number))||d==="object"&&i.some(g=>!mw(l,g))?l:(m&&n.length?(s||(s=n.map(g=>typeof g=="string"?`'${g}'`:`${g}`).join(", ")),Bp().error("Accessor#set",`'${l}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof l=="object"&&i.length?(o||(o=i.map(g=>R_(g)).join(", ")),Bp().error("Accessor#set",`'${l}' is not a valid value for this property, value must be one of ${o}`)):Bp().error("Accessor#set",`'${l}' is not a valid value for this property`),c&&(c.valid=!1),null)}}function Aa(e,t){if(arguments.length===2)return Aa(e).call(null,t);const r={},n=[],i=[];for(const c in e.typeMap){const d=e.typeMap[c];r[c]=oi(d),n.push(R_(d)),i.push(c)}const s=()=>`'${n.join("', '")}'`,o=()=>`'${i.join("', '")}'`,l=typeof e.key=="string"?c=>c[e.key]:e.key;return c=>{if(e.base&&!mw(e.base,c)||c==null)return c;const d=l(c)||e.defaultKeyValue,m=r[d];if(!m)return Bp().error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!mw(e.typeMap[d],c))return c;if(typeof e.key=="string"&&!w4(c)){const g={};for(const w in c)w!==e.key&&(g[w]=c[w]);return m(g)}return m(c)}}let or=class{},P_=class{};const v0e={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function lV(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function E4(e){switch(e.type){case"native":return oi(e.value);case"array":return i0(E4(e.value));case"one-of":return uV(e);default:return null}}function uV(e){let t=null;return(r,n)=>JE(r,e)?r:(t==null&&(t=YE(e)),Bp().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),n&&(n.valid=!1),null)}function YE(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case or:return"integer";case Date:return"date";case P_:return"null";default:return R_(e.value)}case"array":return`array of ${YE(e.value)}`;case"one-of":{const t=e.values.map(r=>YE(r));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function JE(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case or:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case P_:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!JE(r,t.value));case"one-of":return t.values.some(r=>JE(e,r))}}const cV={remove:()=>{}};function Dt(e){return e?{remove(){e&&(e(),e=void 0)}}:cV}function dV(e){e.forEach(t=>t?.remove())}function D0(e){return Dt(()=>dV(e))}function w0e(e){return Dt(()=>e?.abort())}function _0e(e){return Dt(e!=null?()=>e.destroy():void 0)}function cs(e){return e.__accessor__??null}function hV(e,t){return e?.metadata?.[t]!=null}function uv(e,t,r){return r?gw(e,t,{policy:r,path:""}):gw(e,t,null)}function gw(e,t,r){return t?Object.keys(t).reduce((n,i)=>{const s=i;let o=null,l="merge";if(r&&(o=r.path?`${r.path}.${i}`:i,l=r.policy(o)),l==="replace"||l==="replace-arrays"&&Array.isArray(n[s]))return n[s]=t[s],n;if(n[s]===void 0)return n[s]=me(t[s]),n;let c=n[s],d=t[s];if(c===d)return n;if(Array.isArray(d)||Array.isArray(n))c=c?Array.isArray(c)?n[s]=c.slice():n[s]=[c]:n[s]=[],d&&(Array.isArray(d)||(d=[d]),d.forEach(m=>{c.includes(m)||c.push(m)}));else if(d&&typeof d=="object")if(r){const m=r.path;r.path=o,n[s]=gw(c,d,r),r.path=m}else n[s]=gw(c,d,null);else n.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(n[s]=d);return n},e||{}):e}function T4(e){return Array.isArray(e)?e:e.split(".")}function MR(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function pV(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...MR(r));return t}return MR(e)}function $4(e,t,r,n){const i=pV(t);if(i.length!==1){const s=i.map(o=>n(e,o,r));return D0(s)}return n(e,i[0],r)}function x4(e,t){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const i=parseInt(r,10);if(!isNaN(i))return Array.isArray(t)?t[i]:t.at(i)}const n=cs(t);return hV(n,r)?n.get(r):t[r]}function M4(e,t,r){if(e==null)return e;const n=x4(t[r],e);return!n&&r<t.length-1?void 0:r===t.length-1?n:M4(n,t,r+1)}function F0(e,t,r=0){return typeof t!="string"||t.includes(".")?M4(e,T4(t),r):x4(t,e)}function Po(e,t){return F0(e,t)}function kR(e,t){return F0(t,e)!==void 0}function U0(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){t=Object.create(t);for(const n in t)t[n]=me(t[n]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function O_(e,t){const r=U0(e);let n=r[t];return n||(n=r[t]={}),n}function fV(e,t){return uv(e,t,yV)}const mV=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function yV(e){return mV.test(e)?"replace":"merge"}function gV(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(r,n)=>n===""?"$":(A_(n,t)??"").toString())}let k4=class{constructor(t,r,n=void 0){this.name=t,this.details=n,this.message=(r&&gV(r,n))??""}toString(){return"["+this.name+"]: "+this.message}},fe=class A4 extends k4{constructor(t,r,n){super(t,r,n)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return me(r)}catch{return"[object]"}}))}}catch(t){throw Ne.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new A4(t.name,t.message,t.details)}};fe.prototype.type="error";function vw(e,t,r){if(e&&t)if(typeof t=="object")for(const n of Object.getOwnPropertyNames(t))vw(e,n,t[n]);else{if(t.includes(".")){const i=t.split("."),s=i.splice(-1,1)[0];return void vw(Po(e,i),s,r)}const n=e.__accessor__;n!=null&&vV(t,n),e[t]=r}}function vV(e,t){if(ie("esri-unknown-property-errors")&&!wV(e,t))throw new fe("set:unknown-property",_V(e,t))}function wV(e,t){return t.metadata[e]!=null}function _V(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}function y(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const n=Object.getOwnPropertyDescriptor(t,r),i=O_(t,r);n&&(n.get||n.set?(i.get=n.get||i.get,i.set=n.set||i.set):"value"in n&&("value"in e&&Ne.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),i.value=e.value=n.value)),e.readOnly!=null&&(i.readOnly=e.readOnly);const s=e.aliasOf;if(s){const c=typeof s=="string"?s:s.source,d=typeof s=="string"?null:s.overridable===!0;let m;i.dependsOn=[c],i.get=function(){let g=Po(this,c);if(typeof g=="function"){m||(m=c.split(".").slice(0,-1).join("."));const w=Po(this,m);w&&(g=g.bind(w))}return g},i.readOnly||(i.set=d?function(g){this._override(r,g)}:function(g){vw(this,c,g)})}const o=e.type,l=e.types;if(!i.cast){let c;o?c=SV(o):l&&(c=Array.isArray(l)?i0(Aa(l[0])):Aa(l)),e.cast=bV(e.cast,c)}fV(i,e),e.range&&(i.cast=rV(i.cast,e.range))}}function C4(e,t,r){const n=O_(e,r);n.json||(n.json={});let i=n.json;return t!==void 0&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function SV(e){let t=0,r=e;if(lV(e))return E4(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const n=r;if(b4(n))return t===0?ZE(n):yw(ZE(n),t);if(t===1)return oV(n);if(t>1)return aV(n,t);const i=e;return i.from?i.from:oi(i)}function bV(e,t){if(e||t)return e?t?(r,n)=>t(e(r,n),n):e:t}const R4=Symbol("Accessor-beforeDestroy");var Ci;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})(Ci||(Ci={}));var Ht;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(Ht||(Ht={}));let I_=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const ww=new I_,jm=[];let Oy=ww;function Ze(e){Oy.onAccessed(e)}let cv=!1,dv=!1;function Vl(e,t,r){if(cv)return z3(e,t,r);let n=null;return P4(e),n=t.call(r),O4(),n}function EV(e,t){return Vl(ww,e,t)}function z3(e,t,r){const n=cv;cv=!0,P4(e);let i=null;try{i=t.call(r)}catch(s){dv&&Ne.getLogger("esri.core.accessorSupport.tracking").error(s)}return O4(),cv=n,i}function P4(e){Oy=e,jm.push(e)}function O4(){const e=jm.length;if(e>1){const t=jm.pop();Oy=jm[e-2],t.onTrackingEnd()}else if(e===1){const t=jm.pop();Oy=ww,t.onTrackingEnd()}else Oy=ww}function I4(e,t){if(t.flags&Ht.DepTrackingInitialized)return;t.flags|=Ht.DepTrackingInitialized;const r=dv;dv=!1,t.flags&Ht.AutoTracked?z3(t.trackingTarget,t.metadata.get,e):N4(e,t),dv=r}const TV=[];function N4(e,t){t.flags&Ht.ExplicitlyTracking||(t.flags|=Ht.ExplicitlyTracking,z3(t.trackingTarget,()=>{const r=t.metadata.dependsOn||TV;for(const n of r)if(typeof n!="string"||n.includes(".")){const i=T4(n);for(let s=0,o=e;s<i.length&&o!=null&&typeof o=="object";++s)o=AR(o,i[s],s!==i.length-1)}else AR(e,n,!1)}),t.flags&=~Ht.ExplicitlyTracking)}function AR(e,t,r){const n=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const s=parseInt(n,10);if(!isNaN(s))return Array.isArray(e)?e[s]:e.at(s)}const i=cs(e);if(i){const s=i.propertiesByName.get(n);s&&(Ze(s),I4(e,s))}return r?e[n]:void 0}function $V(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const n in r)if(t[n]){const i=t[n];r[n].forEach(s=>{t[s]=i}),delete t[n]}}}let Bl=class extends k4{constructor(t,r,n){super(t,r,n)}};Bl.prototype.type="warning";function L4(e){return!!e&&e.prototype?.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const KE=()=>Ne.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function CR(e,t,r){e&&(!r&&!t.read||t.read?.reader||t.read?.enabled===!1||kV(e)&&vh("read.reader",G3(e),t))}function G3(e){const t=e.ndimArray??0;if(t>1)return MV(e);if(t===1)return RR(e);if("type"in e&&F4(e.type)){const r=e.type.prototype?.itemType?.Type,n=RR(typeof r=="function"?{type:r}:{types:r});return(i,s,o)=>{const l=n(i,s,o);return l&&new e.type(l)}}return V3(e)}function V3(e){return"type"in e?xV(e.type):AV(e.types)}function xV(e){return e.prototype.read?(t,r,n)=>{if(t==null)return t;const i=typeof t;if(i!=="object")return void KE().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);const s=new e;return s.read(t,n),s}:e.fromJSON}function D4(e,t,r,n){return n!==0&&Array.isArray(t)?t.map(i=>D4(e,i,r,n-1)):e(t,void 0,r)}function MV(e){const t=V3(e),r=D4.bind(null,t),n=e.ndimArray??0;return(i,s,o)=>{if(i==null)return i;i=r(i,o,n);let l=n,c=i;for(;l>0&&Array.isArray(c);)l--,c=c[0];if(c!==void 0)for(let d=0;d<l;d++)i=[i];return i}}function RR(e){const t=V3(e);return(r,n,i)=>{if(r==null)return r;if(Array.isArray(r)){const o=[];for(const l of r){const c=t(l,void 0,i);c!==void 0&&o.push(c)}return o}const s=t(r,void 0,i);return s!==void 0?[s]:void 0}}function F4(e){if(!L4(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?B3(t.Type):U4(t.Type))}function kV(e){return"types"in e?U4(e.types):B3(e.type)}function B3(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||F4(e))}function U4(e){for(const t in e.typeMap)if(!B3(e.typeMap[t]))return!1;return!0}function AV(e){let t=null;const r=e.errorContext??"type",n=e.validate;return(i,s,o)=>{if(i==null)return i;const l=typeof i;if(l!=="object")return void KE().error(`Expected JSON value of type 'object' to deserialize, but got '${l}'`);t||(t=CV(e));const c=e.key;if(typeof c!="string")return;const d=i[c],m=d?t[d]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!m){const w=`Type '${d||"unknown"}' is not supported`;return o?.messages&&i&&o.messages.push(new Bl(`${r}:unsupported`,w,{definition:i,context:o})),void KE().error(w)}const g=new m;return g.read(i,o),n?n(g):g}}function CV(e){const t={};for(const r in e.typeMap){const n=e.typeMap[r],i=U0(n.prototype);if(typeof e.key=="function")continue;const s=i[e.key];if(!s)continue;if(s.json?.type&&Array.isArray(s.json.type)&&s.json.type.length===1&&typeof s.json.type[0]=="string"){t[s.json.type[0]]=n;continue}const o=s.json?.write;if(!o?.writer){t[r]=n;continue}const l=o.target,c=typeof l=="string"?l:e.key,d={};o.writer(r,d,c),d[c]&&(t[d[c]]=n)}return t}function RV(e){if(e.json||(e.json={}),OR(e.json),IR(e.json),PR(e.json),e.json.origins)for(const t in e.json.origins)OR(e.json.origins[t]),IR(e.json.origins[t]),PR(e.json.origins[t]);return!0}function PR(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function OR(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function IR(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function NR(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const r=e?.ndimArray??0;e&&(r===1||"type"in e&&L4(e.type))?t.write.writer=IV:r>1?t.write.writer=NV(r):t.types?Array.isArray(t.types)?t.write.writer=OV(t.types[0]):t.write.writer=PV(t.types):t.write.writer=s0}function PV(e){return(t,r,n,i)=>t?j4(t,e,i)?s0(t,r,n,i):void 0:s0(t,r,n,i)}function j4(e,t,r){for(const n in t.typeMap)if(e instanceof t.typeMap[n])return!0;if(r?.messages){const n=t.errorContext??"type",i=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new fe(`${n}:unsupported`,i,{definition:e,context:r})),Ne.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(i)}return!1}function OV(e){return(t,r,n,i)=>!t||!Array.isArray(t)?s0(t,r,n,i):s0(t.filter(s=>j4(s,e,i)),r,n,i)}function s0(e,t,r,n){vh(r,_w(e,n),t)}function _w(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?Sw(e):e}function Sw(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function IV(e,t,r,n){let i;e===null?i=null:e&&typeof e.map=="function"?(i=e.map(s=>_w(s,n)),typeof i.toArray=="function"&&(i=i.toArray())):i=[_w(e,n)],vh(r,i,t)}function z4(e,t,r){return r!==0&&Array.isArray(e)?e.map(n=>z4(n,t,r-1)):_w(e,t)}function NV(e){return(t,r,n,i)=>{let s;if(t===null)s=null;else{s=z4(t,i,e);let o=e,l=s;for(;o>0&&Array.isArray(l);)o--,l=l[0];if(l!==void 0)for(let c=0;c<o;c++)s=[s]}vh(n,s,r)}}function LV(e,t){return H3(e,"any",t?.origin)}function XE(e,t){return H3(e,"read",t?.origin)}function G4(e,t){return H3(e,"write",t?.origin)}function H3(e,t,r){let n=e?.json;if(n?.origins&&r){let i;i=r==="link-chart"?n.origins[r]&&(t==="any"||t in n.origins[r])?n.origins[r]:n.origins["web-map"]:n.origins[r],i&&(t==="any"||t in i)&&(n=i)}return n}function DV(e){const t=FV(e);if(e.json.origins)for(const r in e.json.origins){const n=e.json.origins[r],i=n.types?UV(n):t;CR(i,n,!1),n.types&&!n.write&&e.json.write?.enabled&&(n.write={...e.json.write}),NR(i,n)}CR(t,e.json,!0),NR(t,e.json)}function FV(e){return e.json.types?QE(e.json):e.type?V4(e):QE(e)}function UV(e){return e.type?V4(e):QE(e)}function V4(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!b4(r);)r=r[0],t++;return{type:r,ndimArray:t}}function QE(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function jV(e){RV(e)&&($V(e),DV(e))}const wb=new Set,_b=new Set;function G(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,GV(t);const r=[],n=[];let i=t.prototype;for(;i;)i.hasOwnProperty("initialize")&&!wb.has(i.initialize)&&(wb.add(i.initialize),r.push(i.initialize)),i.hasOwnProperty("destroy")&&!_b.has(i.destroy)&&(_b.add(i.destroy),n.push(i.destroy)),i=Object.getPrototypeOf(i);wb.clear(),_b.clear();const s=class extends t{constructor(...l){if(super(...l),this.constructor===s&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let c=r.length-1;c>=0;c--)r[c].call(this)}}),n.length){let c=!1;const d=this[R4];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!c){c=!0,d.call(this);for(let m=0;m<n.length;m++)n[m].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};s.__accessorMetadata__=U0(t.prototype),s.prototype.declaredClass=e;const o=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:o,configurable:!0}),s}}function zV(e,t){return t.get==null?function(){const r=this.__accessor__,n=r.propertiesByName.get(e);if(n===void 0)return;r.mutable&&Ze(n);const i=r.store;return i.has(e)?i.get(e):n.metadata.value}:function(){const r=this.__accessor__,n=r.propertiesByName.get(e);if(n!==void 0)return n.getComputed(r)}}function GV(e){const t=e.prototype,r=U0(t),n={};for(const i of Object.getOwnPropertyNames(r)){const s=r[i];jV(s),n[i]={enumerable:!0,configurable:!0,get:zV(i,s),set(o){const l=this.__accessor__;if(l!==void 0){if(l.mutable)return l.initialized&&s.readOnly?LR("read-only",i):l.lifecycle===Ci.CONSTRUCTED&&s.constructOnly?LR("construct-only",i):void l.set(i,o)}else Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,n)}const LR=(e,t)=>{Ne.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)},VV="modulepreload",BV=function(e){return"/"+e},DR={},ke=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=Promise.allSettled(r.map(c=>{if(c=BV(c),c in DR)return;DR[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":VV,d||(g.as="script"),g.crossOrigin="",g.href=c,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((w,S)=>{g.addEventListener("load",w),g.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},FR=new WeakMap;function HV(e,t,r=!1){const n=`🛑 DEPRECATED - ${t}`;if(!r)return void e.warn(n);let i=FR.get(e);i||(i=new Set,FR.set(e,i)),i.has(t)||(i.add(t),e.warn(n))}function B4(e,t,r={}){if(ie("esri-deprecation-warnings")){const{moduleName:n}=r;o0(e,`Function: ${(n?n+"::":"")+t+"()"}`,r)}}function T0e(e,t,r={}){if(ie("esri-deprecation-warnings")){const{moduleName:n}=r;o0(e,`Property: ${(n?n+"::":"")+t}`,r)}}function WV(e,t,r={}){ie("esri-deprecation-warnings")&&o0(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...r})}function o0(e,t,r={}){if(ie("esri-deprecation-warnings")){const{replacement:n,version:i,see:s,warnOnce:o}=r;let l=t;n&&(l+=`
	🛠️ Replacement: ${n}`),i&&(l+=`
	⚙️ Version: ${i}`),s&&(l+=`
	🔗 See ${s} for more details.`),HV(e,l,o)}}function $0e(e){const t=[];return function*(){yield*t;for(const r of e)t.push(r),yield r}}function qV(e,t){for(const r of e)if(r!=null&&t(r))return r}function bw(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let Sf=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(r=>{t+=r.length}),t}add(t,r){if(bw(t)){const n=this._getOrCreateGroup(r);for(const i of t)jR(i)&&n.push(i)}else jR(t)&&this._getOrCreateGroup(r).push(t);return this}forEach(t,r){if(typeof t=="function")this._groups.forEach(n=>n.forEach(t));else{const n=this._getGroup(t);n&&r&&n.forEach(r)}}has(t){return this._groups.has(m1(t))}remove(t){if(typeof t!="string"&&bw(t)){for(const r of t)this.remove(r);return this}return this.has(t)?(UR(this._getGroup(t)),this._groups.delete(m1(t)),this):this}removeAll(){return this._groups.forEach(UR),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const r=[];return this._groups.set(m1(t),r),r}_getGroup(t){return this._groups.get(m1(t))}};function m1(e){return e||"_default_"}function UR(e){for(const t of e)t instanceof Sf?t.removeAll():t.remove()}function jR(e){return e!=null&&(!!e.remove||e instanceof Sf)}function H4(e,t){if(e==null)throw new Error(t??"value is None")}function wr(e){return e?.destroy(),null}function M0e(e){return e?.dispose(),null}function _r(e){return e?.remove(),null}function a0(e){return e?.abort(),null}function k0e(e){return e?.release(),null}function ZV(e,t,r){return e!=null&&t!=null?r!=null?r(e,t):e.equals(t):e===t}function YV(e,t){let r;return e.some((n,i)=>(r=t(n,i),r!=null)),r??void 0}function JV(e){return e?.release&&typeof e.release=="function"}function KV(e){return e?.acquire&&typeof e.acquire=="function"}let wh=class eT{constructor(t,r,n,i=1,s=0){this._ctor=t,this._acquireFunction=r,this._releaseFunction=n,this.allocationSize=i,this._pool=new Array(s),this._initialSize=s;for(let o=0;o<s;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(i,1)}destroy(){this.prune(0)}acquire(...t){let r;if(eT.test.disabled)r=new this._ctor;else{if(this._pool.length===0){const n=this.allocationSize;for(let i=0;i<n;i++)this._pool[i]=new this._ctor}r=this._pool.pop()}return this._acquireFunction?this._acquireFunction(r,...t):KV(r)&&r.acquire(...t),r}release(t){t&&!eT.test.disabled&&(this._releaseFunction?this._releaseFunction(t):JV(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const n=this._pool[r];this._dispose(n)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};wh.test={disabled:!1};let XV=class{constructor(t,r){this._observers=t,this._observer=r}remove(){t4(this._observers,this._observer)}},W4=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return QV;this._observers==null&&(this._observers=[]);const r=this._observers;let n=!1,i=!1;const s=r.length;for(let o=0;o<s;++o){const l=r[o];if(l.destroyed)i=!0;else if(l===t){n=!0;break}}return n||(r.push(t),i&&this._removeDestroyedObservers()),new XV(r,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const r=t.length;let n=0;for(let i=0;i<r;++i){for(;i+n<r&&t[i+n].destroyed;)++n;if(n>0){if(!(i+n<r))break;t[i]=t[i+n]}}t.length=r-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const r of t)r.onCommitted();this._observers=null}}};const QV=Dt();var Mt;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(Mt||(Mt={}));const tT=Mt.USER+1;function ic(e){switch(e){case"defaults":return Mt.DEFAULTS;case"service":return Mt.SERVICE;case"portal-item":return Mt.PORTAL_ITEM;case"web-scene":return Mt.WEB_SCENE;case"web-map":return Mt.WEB_MAP;case"link-chart":return Mt.LINK_CHART;case"user":return Mt.USER;default:return null}}function Ew(e){switch(e){case Mt.DEFAULTS:return"defaults";case Mt.SERVICE:return"service";case Mt.PORTAL_ITEM:return"portal-item";case Mt.WEB_SCENE:return"web-scene";case Mt.WEB_MAP:return"web-map";case Mt.LINK_CHART:return"link-chart";case Mt.USER:return"user"}}function eB(e){return Ew(e)}let zR=class extends W4{constructor(t,r){super(),this.propertyName=t,this.metadata=r,this.trackingTarget=new I_(this),this.flags=0,this.flags=Ht.Dirty|(r.nonNullable?Ht.NonNullable:0)|(r.hasOwnProperty("value")?Ht.HasDefaultValue:0)|(r.get===void 0?Ht.DepTrackingInitialized:0)|(r.dependsOn===void 0?Ht.AutoTracked:0)}destroy(){this.flags&Ht.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&Ze(this);const r=t.store,n=this.propertyName,i=this.flags,s=r.get(n);if(i&Ht.Computing||~i&Ht.Dirty&&r.has(n))return s;this.flags|=Ht.Computing;const o=t.host;let l;i&Ht.AutoTracked?l=Vl(this.trackingTarget,this.metadata.get,o):(N4(o,this),l=this.metadata.get.call(o)),this.flags|=Ht.DepTrackingInitialized,r.set(n,l,Mt.COMPUTED);const c=r.get(n);return c===s?this.flags&=~Ht.Dirty:EV(this.commit,this),this.flags&=~Ht.Computing,c}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~Ht.Dirty,this.onCommitted()}onInvalidated(){~this.flags&Ht.Overridden&&(this.flags|=Ht.Dirty);const t=this._observers;if(t&&t.length>0)for(const r of t)r.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const n of r)n.onCommitted()}}},tB=class q4{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new q4;return this._values.forEach((n,i)=>{t&&t.has(i)||r.set(i,me(n))}),r}get(t){return this._values.get(t)}originOf(){return Mt.USER}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function y1(e,t,r){return e!==void 0}function GR(e,t,r,n){return e!==void 0&&(!(r==null&&e.flags&Ht.NonNullable)||(n.lifecycle,Ci.INITIALIZING,!1))}let rB=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Ci.INITIALIZING,this.store=new tB,this.mutable=!0,this._origin=Mt.USER;const r=this.host.constructor.__accessorMetadata__;for(const n in r){const i=new zR(n,r[n]);this.propertiesByName.set(n,i)}this.metadata=r}initialize(){this.lifecycle=Ci.CONSTRUCTING}constructed(){this.lifecycle=Ci.CONSTRUCTED}destroy(){this.lifecycle=Ci.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==Ci.INITIALIZING}get(t){const r=this.propertiesByName.get(t);if(r.metadata.get)return r.getComputed(this);this.mutable&&Ze(r);const n=this.store;return n.has(t)?n.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const n=this.propertiesByName.get(t);if(n!==void 0&&n.flags&Ht.HasDefaultValue)return"defaults"}return Ew(r)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const r=this.propertiesByName.get(t);if(y1(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const n=this.propertiesByName.get(t);y1(n)&&this._internalSet(n,r)}getDependsInfo(t,r,n){const i=this.propertiesByName.get(r);if(!y1(i))return"";const s=new I_,o=Vl(s,()=>i.metadata.get?.call(t));let l=`${n}${t.declaredClass.split(".").pop()}.${r}: ${o}
`;const c=s.accessed??new Set;if(c.size===0)return l;n+="  ";for(const d of c)d instanceof zR&&(l+=`${n}${d.propertyName}: undefined
`);return l}setAtOrigin(t,r,n){const i=this.propertiesByName.get(t);if(y1(i))return this._setAtOrigin(i,r,n)}isOverridden(t){const r=this.propertiesByName.get(t);return r!==void 0&&!!(r.flags&Ht.Overridden)}clearOverride(t){const r=this.propertiesByName.get(t);r&&r.flags&Ht.Overridden&&(r.flags&=~Ht.Overridden,r.notifyChange())}override(t,r){const n=this.propertiesByName.get(t);if(!GR(n,t,r,this))return;const i=n.metadata.cast;if(i){const s=this._cast(i,r),{valid:o,value:l}=s;if(Sb.release(s),!o)return;r=l}n.flags|=Ht.Overridden,this._internalSet(n,r)}set(t,r){const n=this.propertiesByName.get(t);if(!GR(n,t,r,this))return;const i=n.metadata.cast;if(i){const o=this._cast(i,r),{valid:l,value:c}=o;if(Sb.release(o),!l)return;r=c}const s=n.metadata.set;s?s.call(this.host,r):this._internalSet(n,r)}setDefaultOrigin(t){this._origin=ic(t)}getDefaultOrigin(){return Ew(this._origin)}notifyChange(t){const r=this.propertiesByName.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.propertiesByName.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.propertiesByName.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const n=this.lifecycle!==Ci.INITIALIZING?this._origin:Mt.DEFAULTS;this._setAtOrigin(t,r,n)}_setAtOrigin(t,r,n){const i=this.store,s=t.propertyName;i.has(s,n)&&D3(r,i.get(s))&&~t.flags&Ht.Overridden&&n===i.originOf(s)||(t.invalidate(),i.set(s,r,n),t.commit(),I4(this.host,t))}_cast(t,r){const n=Sb.acquire();return n.valid=!0,n.value=r,t&&(n.value=t.call(this.host,r,n)),n}},nB=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const Sb=new wh(nB);let iB;function sB(){return iB}var VR;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(VR||(VR={}));function oB(e){e.length=0}let ni=class{constructor(t=50,r=50){this._pool=new wh(Array,void 0,oB,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return bb.acquire()}static release(t){return bb.release(t)}static prune(){bb.prune()}};const bb=new ni(100);let Z4=class extends wh{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const g1=[];function Tw(e){g1.push(e),g1.length===1&&queueMicrotask(()=>{const t=g1.slice();g1.length=0;for(const r of t)r()})}let Iy=class{constructor(t,r=30){this.name=t,this._counter=0,this._samples=new Array(r)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,r)=>t-r)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,r)=>t+r,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var rT;(function(e){const t=(s,o,l,c)=>{let d=o,m=o;const g=l>>>1,w=s[d-1];for(;m<=g;){m=d<<1,m<l&&c(s[m-1],s[m])<0&&++m;const S=s[m-1];if(c(S,w)<=0)break;s[d-1]=S,d=m}s[d-1]=w},r=(s,o)=>s<o?-1:s>o?1:0;function n(s,o,l,c){o===void 0&&(o=0),l===void 0&&(l=s.length),c===void 0&&(c=r);for(let m=l>>>1;m>o;m--)t(s,m,l,c);const d=o+1;for(let m=l-1;m>o;m--){const g=s[o];s[o]=s[m],s[m]=g,t(s,d,m,c)}}function*i(s,o,l,c){o===void 0&&(o=0),l===void 0&&(l=s.length),c===void 0&&(c=r);for(let m=l>>>1;m>o;m--)t(s,m,l,c),yield;const d=o+1;for(let m=l-1;m>o;m--){const g=s[o];s[o]=s[m],s[m]=g,t(s,d,m,c),yield}}e.sort=n,e.iterableSort=i})(rT||(rT={}));const BR=rT,aB=1.5,lB=1.1;let Ny=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new QL,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>HR(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let n=0;n<this._length;n++){const i=this.data[n];t(i)&&r.push(i)}return r}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,r){const n=this.data.indexOf(t,r);return n!==-1&&n<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let n=0;n<r;n++)this.data[this._length++]=t[n]}fill(t,r){for(let n=0;n<r;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,HR(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=HE(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(HE(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,n){this.length=DG(this.data,t,this.length,r,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){if(t>=this.length||r>=this.length||t===r)return;const n=this.data[t];this.data[t]=this.data[r],this.data[r]=n}sort(t){BR.sort(this.data,0,this.length,t)}iterableSort(t){return BR.iterableSort(this.data,0,this.length,t)}some(t,r){for(let n=0;n<this.length;++n)if(t.call(r,this.data[n],n,this.data))return!0;return!1}find(t,r){const{data:n,length:i}=this;for(let s=0;s<i;++s)if(t.call(r,n[s]))return n[s]}filterInPlace(t,r){let n=0;for(let i=0;i<this._length;++i){const s=this.data[i];t.call(r,s,i,this.data)&&(this.data[i]=this.data[n],this.data[n]=s,n++)}if(this._deallocator)for(let i=n;i<this._length;i++)this.data[i]=this._deallocator(this.data[i]);return this._length=n,this._shrink(),this}forAll(t,r){const{data:n,length:i}=this;for(let s=0;s<i;++s)t.call(r,n[s],s,n)}forEach(t,r){this.data.slice(0,this.length).forEach(t,r)}map(t,r){const n=new Array(this.length);for(let i=0;i<this.length;++i)n[i]=t.call(r,this.data[i],i,this.data);return n}reduce(t,r){let n=r;for(let i=0;i<this.length;++i)n=t(n,this.data[i],i,this.data);return n}has(t){const r=this.length,n=this.data;for(let i=0;i<r;++i)if(n[i]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function HR(e){e.data.length>aB*e.length&&(e.data.length=Math.floor(e.length*lB))}function uB(e){return{setTimeout:(t,r)=>{const n=e.setTimeout(t,r);return Dt(()=>e.clearTimeout(n))}}}const bf=uB(globalThis);function N_(e){return cB(e)||Y4(e)}function cB(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function Y4(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function j0(e,t,r){if(!N_(e))throw new TypeError("target is not a Evented or EventTarget object");return Y4(e)?dB(e,t,r):e.on(t,r)}function dB(e,t,r,n){if(Array.isArray(t)){const i=t.slice();for(const s of i)e.addEventListener(s,r,n);return Dt(()=>{for(const s of i)e.removeEventListener(s,r,n)})}return e.addEventListener(t,r,n),Dt(()=>e.removeEventListener(t,r,n))}function J4(e,t,r){if(!N_(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const n=j0(e,t,i=>{n.remove(),r.call(e,i)});return n}function Sr(e="Aborted"){return new fe("AbortError",e)}function br(e,t="Aborted"){if(Do(e))throw Sr(t)}function z0(e){return e instanceof AbortSignal?e:e?.signal??void 0}function Do(e){const t=z0(e);return t!=null&&t.aborted}function Wu(e){if(Li(e))throw e}function WR(e){if(!Li(e))throw e}function zs(e,t){const r=z0(e);if(r!=null){if(!r.aborted)return J4(r,"abort",()=>t());t()}}function W3(e,t){const r=z0(e);if(r!=null)return br(r),J4(r,"abort",()=>t(Sr()))}function hB(e,t){return z0(t)==null?e:new Promise((r,n)=>{let i=zs(t,()=>n(Sr()));const s=()=>{i=_r(i)};e.then(s,s),e.then(r,n)})}function Li(e){return e?.name==="AbortError"}async function nT(e){try{return await e}catch(t){if(!Li(t))throw t;return}}async function q3(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e),n=r.map(o=>e[o]),i=await q3(n),s={};return r.map((o,l)=>s[o]=i[l]),s}const t=e;return Promise.allSettled(t).then(r=>Array.from(t,(n,i)=>{const s=r[i];return s.status==="fulfilled"?{promise:n,value:s.value}:{promise:n,error:s.reason}}))}async function pB(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function F0e(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function K4(e,t=void 0,r){const n=new AbortController;return zs(r,()=>n.abort()),new Promise((i,s)=>{let o=setTimeout(()=>{o=0,i(t)},e);zs(n,()=>{o&&(clearTimeout(o),s(Sr()))})})}function fB(e,t){const r=new AbortController,n=setTimeout(()=>r.abort(),t);return zs(e,()=>{r.abort(),clearTimeout(n)}),{...e,signal:r.signal}}function Da(e){return e&&typeof e.then=="function"}function iT(e){return Da(e)?e:Promise.resolve(e)}function X4(e,t=-1){let r,n,i,s,o=null;const l=(...c)=>{if(r){n=c,s&&s.reject(Sr()),s=Vs();const w=s.promise;if(o){const S=o;o=null,S.abort()}return w}if(i=s||Vs(),s=null,t>0){const w=new AbortController;r=iT(e(...c,w.signal));const S=r;K4(t).then(()=>{r===S&&(s?w.abort():o=w)})}else r=1,r=iT(e(...c));const d=()=>{const w=n;n=i=r=o=null,w!=null&&l(...w)},m=r,g=i;return m.then(d,d),m.then(g.resolve,g.reject),g.promise};return l}function Vs(){let e,t;const r=new Promise((i,s)=>{e=i,t=s}),n=i=>{e(i)};return n.resolve=i=>e(i),n.reject=i=>t(i),n.timeout=(i,s)=>bf.setTimeout(()=>n.reject(s),i),n.promise=r,n}async function qR(e){await Promise.resolve(),br(e)}function U0e(e){return e}function mB(e){return 1e3*e}function j0e(e){return e}let yB=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},gB=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},sT=0;const pm={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},oT=["prepare","preRender","render","postRender","update","finish"],aT=[],oh=new Ny;let vB=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};function wB(){Kd!=null&&(cancelAnimationFrame(Kd),Kd=requestAnimationFrame(Z3))}const $w={frameTasks:oh,willDispatch:!1,clearFrameTasks:_B,dispatch:e5,executeFrameTasks:SB,reschedule:wB};function G0(e){const t=new gB(e);return aT.push(t),$w.willDispatch||($w.willDispatch=!0,Tw(e5)),t}function of(e){const t=new yB(e);return oh.push(t),Kd==null&&(sT=performance.now(),Kd=requestAnimationFrame(Z3)),new vB(t)}let Kd=null;function _B(e=!1){oh.forAll(t=>{t.removed=!0}),e&&Q4()}function Z3(){const e=performance.now();Kd=null,Kd=oh.length>0?requestAnimationFrame(Z3):null,$w.executeFrameTasks(e)}function SB(e){const t=e-sT;sT=e;const r=1e3/60,n=Math.max(0,t-r);pm.time=e,pm.frameDuration=r-n;for(let i=0;i<oT.length;i++){const s=performance.now(),o=oT[i];oh.forAll(l=>{l.paused||l.removed||(i===0&&l.ticks++,l.phases[o]&&(pm.elapsedFrameTime=performance.now()-e,pm.deltaTime=l.ticks===0?0:t,l.phases[o]?.call(l,pm)))}),$B[i].push(performance.now()-s)}Q4(),xB.push(performance.now()-e)}const v1=new Ny;function Q4(){oh.forAll(e=>{e.removed&&v1.push(e)}),oh.removeUnorderedMany(v1.data,v1.length),v1.clear()}function e5(){for(;aT.length;){const e=aT.shift();e.isActive&&e.callback()}$w.willDispatch=!1}function bB(e=1,t){const r=Vs(),n=()=>{Do(t)?r.reject(Sr()):e===0?r():(--e,Tw(()=>n()))};return n(),r.promise}function EB(e){return bB(1,e)}async function TB(e){await EB(e),await new Promise(t=>requestAnimationFrame(()=>{e?.aborted||t()}))}const $B=oT.map(e=>new Iy(e)),xB=new Iy("total");function t5(e,t){for(const r of e.values())if(t(r))return!0;return!1}function ZR(e,t){if(!t)return e;for(const r of t)r!=null&&e.add(r);return e}function B0e(e,t){return t!=null&&e.add(t),e}function r5(e,t){const r=new Set;return ZR(r,e),ZR(r,t),r}function MB(e,t){const r=new Set;for(const n of t)e.has(n)&&r.add(n);return r}function H0e(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const r of e)if(!t.has(r))return!1;return!0}function W0e(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function kB(e,t){const r=new Set(e);for(const n of t)r.delete(n);return r}function AB(e,t){return kB(r5(e,t),MB(e,t))}let CB=0;function hv(){return++CB}let L_=class extends I_{constructor(t){super(new RB(t)),this._observer&&YR.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&YR.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},RB=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=PB}};const YR=new FinalizationRegistry(e=>{e.deref()?.destroy()});function PB(){}let Hp=!1;const xw=[];function n5(e,t){let r=new L_(s),n=null,i=!1;function s(){if(!r||i)return;if(Hp)return void o5(s);const l=n;r.clear(),Hp=!0,i=!0,n=Vl(r,e),i=!1,Hp=!1,t(n,l),a5()}function o(){r&&(r.destroy(),r=null,n=null)}return i=!0,n=Vl(r,e),i=!1,Dt(o)}function i5(e,t){let r=new L_(i),n=null;function i(){t(n,o)}function s(){r&&(r.destroy(),r=null),n=null}function o(){return r?(r.clear(),n=Vl(r,e),n):null}return o(),Dt(s)}function s5(e,t){let r=!1,n=!1;const i=!!t?.sync;let s=new L_(()=>{r||n||(n=!0,i?o():queueMicrotask(o))});function o(){n=!1,s&&!r&&(Hp?o5(o):(s.clear(),Hp=!0,r=!0,Vl(s,e),r=!1,Hp=!1,a5()))}function l(){s&&(s.destroy(),s=null)}return r=!0,Vl(s,e),r=!1,Dt(l)}function o5(e){xw.includes(e)||xw.unshift(e)}function a5(){for(;xw.length;)xw.pop()()}var Ly;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(Ly||(Ly={}));let l0=class{constructor(){this.uid=hv(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,n,i,s){return this.pool.acquire(Ly.Untracked,t,r,n,i,s,D3)}static acquireTracked(t,r,n,i){return this.pool.acquire(Ly.Tracked,t,r,n,null,null,i)}notify(t,r){this.type===Ly.Untracked?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r,void 0,void 0)}acquire(t,r,n,i,s,o,l){this.uid=hv(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=n,this.getValue=i,this.target=s,this.path=o,this.equals=l}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=hv(),this.removed=!0}};l0.pool=new Z4(l0);const pv=new ni,Ul=new Set;let Mw;function kw(e){Ul.delete(e),Ul.add(e),Mw||(Mw=G0(NB))}function OB(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function IB(e){for(const t of Ul.values())t.target===e&&(t.removed=!0)}function NB(){let e=10;for(;Mw&&e--;){Mw=null;const t=LB(),r=pv.acquire();for(const n of t){const i=n.uid;OB(n),i===n.uid&&n.removed&&r.push(n)}for(const n of Ul)n.removed&&(r.push(n),Ul.delete(n));for(const n of r)l0.pool.release(n);pv.release(r),pv.release(t),lT.forEach(n=>n())}}function LB(){const e=pv.acquire();e.length=Ul.size;let t=0;for(const r of Ul)e[t]=r,++t;return Ul.clear(),e}const lT=new Set;function DB(e){return lT.add(e),Dt(()=>lT.delete(e))}function FB(e,t,r){let n=$4(e,t,r,(i,s,o)=>{let l,c,d=i5(()=>F0(i,s),(m,g)=>{i.__accessor__?.lifecycle===Ci.DESTROYED||l&&l.uid!==c?n.remove():(l||(l=l0.acquireUntracked(m,o,g,i,s),c=l.uid),kw(l))});return Dt(()=>{d.remove(),l&&(l.uid!==c||l.removed||(l.removed=!0,kw(l)),l=null),n=d=null})});return n}function UB(e,t,r){const n=$4(e,t,r,(i,s,o)=>{let l=!1;return n5(()=>F0(i,s),(c,d)=>{i.__accessor__.lifecycle!==Ci.DESTROYED?l||(l=!0,D3(d,c)||o.call(i,c,d,s,i),l=!1):n.remove()})});return n}function jB(e,t,r,n=!1){return e.__accessor__&&e.__accessor__.lifecycle!==Ci.DESTROYED?n?UB(e,t,r):FB(e,t,r):Dt()}function zB(e,t,r){let n,i,s=i5(e,(o,l)=>{n&&n.uid!==i?s.remove():(n||(n=l0.acquireTracked(o,t,l,r),i=n.uid),kw(n))});return Dt(()=>{s.remove(),n&&(n.uid!==i||n.removed||(n.removed=!0,kw(n)),n=null),s=null})}function GB(e,t,r){let n=!1;return n5(e,(i,s)=>{n||(n=!0,r(s,i)||t(i,s),n=!1)})}function VB(e,t,r=!1,n=m4){return r?GB(e,t,n):zB(e,t,n)}function JR(e){return t5(Ul,t=>t.oldValue===e)}var l5,u5;function BB(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const xu=Symbol("Accessor-Handles"),uT=Symbol("Accessor-Initialized");let He=class fv{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:n,constructor:i}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const s=this;class o extends s{constructor(...c){super(...c),this.inherited=null,i&&i.apply(this,c)}}U0(o.prototype);for(const l in t){const c=t[l];o.prototype[l]=typeof c=="function"?function(...d){const m=this.inherited;let g;this.inherited=function(...w){if(s.prototype[l])return s.prototype[l].apply(this,w)};try{g=c.apply(this,d)}catch(w){throw this.inherited=m,w}return this.inherited=m,g}:t[l]}for(const l in r){const c=BB(r[l]);y(c)(o.prototype,l)}return G(n)(o)}static freeze(t){return t instanceof fv?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof fv?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){if(this[l5]=null,this[u5]=!1,this.constructor===fv)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const r=new rB(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:r}),t.length>0&&(r.ctorArgs=this.normalizeCtorArgs?.apply(this,t)??t[0])}postscript(){const t=this.__accessor__,r=t.ctorArgs;t.initialize(),r&&(this.set(r),t.ctorArgs=null),t.constructed(),this.initialize(),this[uT]=!0}initialize(){}[R4](){this[xu]=wr(this[xu])}destroy(){this.destroyed||(IB(this),this.__accessor__.destroy(),sB()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[uT]}get destroyed(){return this.__accessor__?.lifecycle===Ci.DESTROYED||!1}commitProperty(t){Po(this,t)}get(t){return B4(Ne.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),Po(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return vw(this,t,r),this}watch(t,r,n){return jB(this,t,r,n)}addHandles(t,r){if(this.destroyed){const n=Array.isArray(t)?t:[t];for(const i of n)i.remove();return}(this[xu]??=new Sf).add(t,r)}removeHandles(t){this[xu]?.remove(t)}removeAllHandles(){this[xu]?.removeAll()}removeHandlesReference(t){this[xu]?.removeReference(t)}hasHandles(t){return this[xu]?.has(t)===!0}_override(t,r){r===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,r){r==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}};l5=xu,u5=uT;let HB=class c5{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new c5;return this._values.forEach((n,i)=>{t&&t.has(i)||r.set(i,me(n.value),n.origin)}),r}get(t,r){r=this._normalizeOrigin(r);const n=this._values.get(t);return r==null||n?.origin===r?n?.value:void 0}originOf(t){return this._values.get(t)?.origin??Mt.USER}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter(n=>this._values.get(n)?.origin===t)}set(t,r,n){if((n=this._normalizeOrigin(n))===Mt.DEFAULTS){const i=this._values.get(t);if(i?.origin!=null&&i.origin>n)return}this._values.set(t,new WB(r,n))}delete(t,r){(r=this._normalizeOrigin(r))!=null&&this._values.get(t)?.origin!==r||this._values.delete(t)}has(t,r){return(r=this._normalizeOrigin(r))!=null?this._values.get(t)?.origin===r:this._values.has(t)}forEach(t){this._values.forEach(({value:r},n)=>t(r,n))}_normalizeOrigin(t){if(t!=null)return t===Mt.DEFAULTS?t:Mt.USER}},WB=class{constructor(t,r){this.value=t,this.origin=r}};function d5(e,t,r){t.keys().forEach(i=>{r.set(i,t.get(i),Mt.DEFAULTS)});const n=e.metadata;Object.keys(n).forEach(i=>{e.internalGet(i)&&r.set(i,e.internalGet(i),Mt.DEFAULTS)})}function qB(e,t,r){if(!e?.read||e.read.enabled===!1||!e.read.source)return!1;const n=e.read.source;if(typeof n=="string"){if(n===t||n.includes(".")&&n.indexOf(t)===0&&kR(n,r))return!0}else for(const i of n)if(i===t||i.includes(".")&&i.indexOf(t)===0&&kR(i,r))return!0;return!1}function ZB(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function YB(e,t,r,n,i){let s=XE(t[r],i);ZB(s)&&(e[r]=!0);for(const o of Object.getOwnPropertyNames(t))s=XE(t[o],i),qB(s,r,n)&&(e[o]=!0)}function JB(e,t,r,n){const i=r.metadata,s=LV(i[t],n),o=s?.default;if(o===void 0)return;const l=typeof o=="function"?o.call(e,t,n):o;l!==void 0&&r.set(t,l)}const h5={origin:"service"};function p5(e,t,r=h5){if(!t||typeof t!="object")return;const n=cs(e),i=n.metadata,s={};for(const o of Object.getOwnPropertyNames(t))YB(s,i,o,t,r);n.setDefaultOrigin(r.origin);for(const o of Object.getOwnPropertyNames(s)){const l=XE(i[o],r).read,c=l?.source;let d;d=c&&typeof c=="string"?F0(t,c):t[o],l?.reader&&(d=l.reader.call(e,d,t,r)),d!==void 0&&n.set(o,d)}if(!r||!r.ignoreDefaults){n.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(i))s[o]||JB(e,o,n,r)}n.setDefaultOrigin("user")}function KB(e,t,r,n=h5){const i={...n,messages:[]};r(i),i.messages?.forEach(s=>{s.type!=="warning"||e.loaded?n?.messages&&n.messages.push(s):e.loadWarnings.push(s)})}function XB(e,t,r,n,i){const s={};return t.write?.writer?.call(e,n,s,r,i),s}function f5(e,t,r,n,i,s){if(!n?.write)return!1;const o=Po(e,r);if(!i&&n.write.overridePolicy){const l=n.write.overridePolicy.call(e,o,r,s??void 0);l!==void 0&&(i=l)}if(i||(i=n.write),!i||i.enabled===!1||i.layerContainerTypes&&s?.layerContainerType&&!i.layerContainerTypes.includes(s.layerContainerType))return!1;if((o===null&&!i.allowNull&&!i.writerEnsuresNonNull||o===void 0)&&i.isRequired){const l=new fe("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return l&&s?.messages?s.messages.push(l):l&&!s&&Ne.getLogger("esri.core.accessorSupport.write").error(l.name,l.message),!1}return!(o===void 0||o===null&&!i.allowNull&&!i.writerEnsuresNonNull||!i.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(r)===Mt.DEFAULTS)&&QB(e,r,s,n,o)||!i.ignoreOrigin&&s?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(r)<ic(s.origin))}function QB(e,t,r,n,i){const s=n.default;if(s===void 0)return!1;if(n.defaultEquals!=null)return n.defaultEquals(i);if(typeof s=="function"){if(Array.isArray(i)){const o=s.call(e,t,r??void 0);return x_(o,i)}return!1}return s===i}function eH(e,t,r,n){const i=cs(e),s=i.metadata,o=G4(s[t],n);return!!o&&f5(e,i,t,o,r,n)}function m5(e,t,r){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return uv(t,e.toJSON(r));const n=cs(e),i=n.metadata;for(const s in i){const o=G4(i[s],r);if(!f5(e,n,s,o,void 0,r))continue;const l=Po(e,s),c=XB(e,o,o.write&&typeof o.write.target=="string"?o.write.target:s,l,r);Object.keys(c).length>0&&(t=uv(t,c),r?.resources?.pendingOperations?.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then(()=>uv(t,c,()=>"replace-arrays"))),r?.writtenProperties&&r.writtenProperties.push({target:e,propName:s,oldOrigin:eB(n.store.originOf(s)),newOrigin:r.origin}))}return t}const V0=e=>{let t=class extends e{constructor(...r){super(...r);const n=cs(this),i=n.store,s=new HB;n.store=s,d5(n,i,s)}read(r,n){p5(this,r,n)}write(r,n){return m5(this,r??{},n)}toJSON(r){return this.write({},r)}static fromJSON(r,n){return tH.call(this,r,n)}};return t=p([G("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function tH(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}function cT(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}let ze=class extends V0(He){};ze=p([G("esri.core.JSONSupport")],ze);function At(e,t,r){let n,i;return t===void 0||Array.isArray(t)?(i=e,r=t,n=[void 0]):(i=t,n=Array.isArray(e)?e:[e]),(s,o)=>{const l=s.constructor.prototype;n.forEach(c=>{const d=C4(s,c,i);d.read&&typeof d.read=="object"||(d.read={}),d.read.reader=l[o],r&&(d.read.source=(d.read.source||[]).concat(r))})}}let en=class{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=rH(t),this.apiValues=KR(this._apiToJSON),this.jsonValues=KR(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,i,s)=>{const o=this.toJSON(n);o!==void 0&&vh(s,o,i)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const r=this._apiToJSON[t];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function rH(e){const t={};for(const r in e)t[e[r]]=r;return t}function KR(e){const t=[];for(const r in e)t.push(r);return t.sort(),t}function li(){return function(e,t){return new en(e,{ignoreUnknown:!0,...t})}}let Y3=class{constructor(t,r,n,i,s,o){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=n,this.atmosphereHeight=i,this.scaleHeight=s;const l=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*l,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Pr=new Y3(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),xa=new Y3(3396190,1/169.8944472236118,23e4,6e4,.111),pc=new Y3(1737400,0,0,0,0),nH=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,iH={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function XR(e){const t=e?.match(nH);if(!t)return null;const[,r,n,i]=t;if(!r)return null;let s=null,o=null,l=null;const{devext:c,qaext:d,www:m}=iH;if(n)if(s=r,i)switch(i.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:l}=c);break;case"qa":({customBaseUrl:o,portalHostname:l}=d);break;default:return null}else({customBaseUrl:o,portalHostname:l}=m);else switch(r.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:l}=c);break;case"qaext":({customBaseUrl:o,portalHostname:l}=d);break;case"www":({customBaseUrl:o,portalHostname:l}=m);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:l,urlKey:s}}function sH(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function y5(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,r=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,n=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):r.test(e)?e=e.replace(r,"https://devext.arcgis.com"):n.test(e)&&(e=e.replace(n,"https://qaext.arcgis.com")),e}function g5(e){const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r.buffer}function oH(e){const t=new Uint8Array(e);let r="";for(let n=0;n<t.length;n++)r+=String.fromCharCode(t[n]);return btoa(r)}const aH=()=>Ne.getLogger("esri.core.urlUtils"),Ef=Vt.request,QR="esri/config: esriConfig.request.proxyUrl is not set.",v5=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,w5=/^\s*http:/i,lH=/^\s*https:/i,uH=/^\s*file:/i,cH=/:\d+$/,dH=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,hH=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),pH=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let jl=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(hH);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(pH),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}};const w1={},fH=new jl(Vt.applicationUrl);let jn=fH;const mH=yH();let J3=mH;const K3=()=>jn,tge=()=>J3;function yH(){const e=jn.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${`${jn.scheme}://${jn.host}${jn.port!=null?`:${jn.port}`:""}`}${t}`}function ai(e){if(!e)return null;const t={path:null,query:null},r=new jl(e),n=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.slice(0,n),t.query=X3(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.slice(0,t.path.length-(r.fragment.length+1)))),t}function X3(e){const t=e.split("&"),r={};for(const n of t){if(!n)continue;const i=n.indexOf("=");let s,o;i<0?(s=decodeURIComponent(n),o=""):(s=decodeURIComponent(n.slice(0,i)),o=decodeURIComponent(n.slice(i+1)));let l=r[s];typeof l=="string"&&(l=r[s]=[l]),Array.isArray(l)?l.push(o):r[s]=o}return r}function u0(e,t){return e?Object.keys(e).map(r=>{const n=e[r];if(n==null)return"";const i=encodeURIComponent(r)+"=",s=t?.[r];return s?i+encodeURIComponent(s(n)):Array.isArray(n)?n.map(o=>cT(o)?i+encodeURIComponent(JSON.stringify(o)):i+encodeURIComponent(o)).join("&"):cT(n)?i+encodeURIComponent(JSON.stringify(n)):i+encodeURIComponent(n)}).filter(r=>r).join("&"):""}function _5(e=!1){let t,r=Ef.proxyUrl;if(typeof e=="string"){t=bH(e);const n=D_(e);n&&(r=n.proxyUrl)}else t=!!e;if(!r)throw aH().warn(QR),new fe("urlUtils:proxy-not-set",QR);return t&&hT()&&(r=nM(r)),ai(r)}function rge(e,t=!1){const r=D_(e);let n,i;if(r){const s=Q3(r.proxyUrl);n=s.path,i=s.query?X3(s.query):null}else if(t){const s=_5(e);n=s.path,i=s.query}if(n){const s=ai(e);e=n+"?"+s.path;const o=u0({...i,...s.query});o&&(e=`${e}?${o}`)}return e}const fm={path:"",query:""};function Q3(e){const t=e.indexOf("?");return t!==-1?(fm.path=e.slice(0,t),fm.query=e.slice(t+1)):(fm.path=e,fm.query=null),fm}function S5(e){return e=(e=Cw(e=T5(e=Q3(e).path),!0)).toLowerCase()}function gH(e){const t={proxyUrl:e.proxyUrl,urlPrefix:S5(e.urlPrefix)},r=Ef.proxyRules,n=t.urlPrefix;let i=r.length;for(let s=0;s<r.length;s++){const o=r[s].urlPrefix;if(n.indexOf(o)===0){if(n.length===o.length)return-1;i=s;break}o.indexOf(n)===0&&(i=s+1)}return r.splice(i,0,t),i}function D_(e){const t=Ef.proxyRules,r=S5(e);for(let n=0;n<t.length;n++)if(r.indexOf(t[n].urlPrefix)===0)return t[n]}function vH(e,t){if(!e||!t)return!1;e=Aw(e),t=Aw(t);const r=XR(e),n=XR(t);return r!=null&&n!=null?r.portalHostname===n.portalHostname:r==null&&n==null&&af(e,t,!0)}function b5(e,t){return e=Aw(e),t=Aw(t),Cw(e)===Cw(t)}function Aw(e){const t=(e=Oo(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function dT(e,t=Ef.interceptors){const r=n=>n==null||n instanceof RegExp&&n.test(e)||typeof n=="string"&&e.startsWith(n);if(t){for(const n of t)if(Array.isArray(n.urls)){if(n.urls.some(r))return n}else if(r(n.urls))return n}return null}function af(e,t,r=!1){if(!e||!t)return!1;const n=fT(e),i=fT(t);return!(!r&&n.scheme!==i.scheme)&&n.host!=null&&i.host!=null&&n.host.toLowerCase()===i.host.toLowerCase()&&n.port===i.port}function eM(e){if(typeof e=="string"){if(!os(e))return!0;e=fT(e)}if(af(e,jn))return!0;const t=Ef.trustedServers||[];for(let r=0;r<t.length;r++){const n=wH(t[r]);for(let i=0;i<n.length;i++)if(af(e,n[i]))return!0}return!1}function wH(e){return w1[e]||(rM(e)||Fo(e)?w1[e]=[new jl(Ls(e))]:w1[e]=[new jl(`http://${e}`),new jl(`https://${e}`)]),w1[e]}function Ls(e,t=J3,r){return Fo(e)?r?.preserveProtocolRelative?e:jn.scheme==="http"&&jn.authority===Gs(e).slice(2)?`http:${e}`:`https:${e}`:rM(e)?e:F_(e[0]==="/"?xH(t):t,e)}function tM(e,t=J3,r){if(e==null||!os(e))return e;const n=Oo(e),i=n.toLowerCase(),s=Oo(t).toLowerCase().replace(/\/+$/,""),o=r?Oo(r).toLowerCase().replace(/\/+$/,""):null;if(o&&s.indexOf(o)!==0)return e;const l=(g,w,S)=>(S=g.indexOf(w,S))===-1?g.length:S;let c=l(i,"/",i.indexOf("//")+2),d=-1;for(;i.slice(0,c+1)===s.slice(0,c)+"/"&&(d=c+1,c!==i.length);)c=l(i,"/",c+1);if(d===-1||o&&d<o.length)return e;e=n.slice(d);const m=s.slice(d-1).replaceAll(/[^/]+/g,"").length;if(m>0)for(let g=0;g<m;g++)e=`../${e}`;else e=`./${e}`;return e}function Oo(e){return e=AH(e=kH(e=MH(e=Ls(e=e.trim()))))}function F_(...e){const t=e.filter(n0);if(!t?.length)return;const r=[];if(os(t[0])){const i=t[0],s=i.indexOf("//");s!==-1&&(r.push(i.slice(0,s+1)),TH(t[0])&&(r[0]+="/"),t[0]=i.slice(s+2))}else t[0][0]==="/"&&r.push("");const n=t.reduce((i,s)=>s?i.concat(s.split("/")):i,[]);for(let i=0;i<n.length;i++){const s=n[i];s===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!s&&i===n.length-1||s&&(s!=="."||r.length===0))&&r.push(s)}return r.join("/")}function Gs(e,t=!1){if(e==null||U_(e)||_h(e))return null;let r=e.indexOf("://");if(r===-1&&Fo(e))r=2;else{if(r===-1)return null;r+=3}const n=e.indexOf("/",r);return n!==-1&&(e=e.slice(0,n)),t&&(e=Cw(e,!0)),e}function os(e){return Fo(e)||rM(e)}function U_(e){return e!=null&&e.slice(0,5)==="blob:"}function _h(e){return e!=null&&e.slice(0,5)==="data:"}function _H(e){const t=lf(e);return t?.isBase64?g5(t.data):null}function nge(e){return oH(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const SH=/^data:(.*?)(;base64)?,(.*)$/;function lf(e){const t=e.match(SH);if(!t)return null;const[,r,n,i]=t;return{mediaType:r,isBase64:!!n,data:i}}function E5(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function ige(e){return(await fetch(e)).blob()}function sge(e){const t=_H(e);if(!t)return null;const r=lf(e);return new Blob([t],{type:r.mediaType})}function Fo(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function rM(e){return e!=null&&v5.test(e)}function bH(e){return e!=null&&lH.test(e)||jn.scheme==="https"&&Fo(e)}function EH(e){return e!=null&&w5.test(e)||jn.scheme==="http"&&Fo(e)}function TH(e){return e!=null&&uH.test(e)}function nM(e){return Fo(e)?`https:${e}`:e.replace(w5,"https:")}function $H(){return jn.scheme==="http"}function hT(){return jn.scheme==="https"}function Cw(e,t=!1){return Fo(e)?e.slice(2):(e=e.replace(v5,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function xH(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function oge(e){let t=0;if(os(e)){const n=e.indexOf("//");n!==-1&&(t=n+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function age(e,t){if(!e)return"";const r=ai(e).path.replace(/\/+$/,""),n=r.slice(r.lastIndexOf("/")+1);if(!t?.length)return n;const i=new RegExp(`\\.(${t.join("|")})$`,"i");return n.replace(i,"")}function T5(e){return e.endsWith("/")?e:`${e}/`}function $5(e){return e.replace(/\/+$/,"")}function MH(e){if(/^https?:\/\//i.test(e)){const t=Q3(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function kH(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function AH(e){const t=Ef.httpsDomains;if(!EH(e))return e;const r=e.indexOf("/",7);let n;if(n=r===-1?e:e.slice(0,r),n=n.toLowerCase().slice(7),cH.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return $H()&&n===jn.authority&&!dH.test(e)||(hT()&&n===jn.authority||t&&t.some(i=>n===i||n.endsWith(`.${i}`))||hT()&&!D_(e))&&(e=nM(e)),e}function pT(e,t,r){if(!(t&&r&&e&&os(e)))return e;const n=e.indexOf("//"),i=e.indexOf("/",n+2),s=e.indexOf(":",n+2),o=Math.min(i<0?e.length:i,s<0?e.length:s);return e.slice(n+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,n+2)}${r}${e.slice(o)}`}function fT(e){return typeof e=="string"?new jl(Ls(e)):(e.scheme||(e.scheme=jn.scheme),e)}function lge(e){return RH.test(e)}function x5(e,t){const r=ai(e),n=Object.keys(r.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),r.path}function CH(e,t,r){const n=ai(e),i=n.query||{};return i[t]=String(r),`${n.path}?${u0(i)}`}function Eb(e,t){if(!t)return e;const r=ai(e),n=r.query||{};for(const[s,o]of Object.entries(t))o!=null&&(n[s]=o);const i=u0(n);return i?`${r.path}?${i}`:r.path}function uge(e){if(e==null)return null;const t=e.match(M5);return t?t[2]:null}function eP(e){if(e==null)return null;const t=e.match(M5);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function cge(e){return typeof e=="string"?lf(e)??{data:e}:new Promise((t,r)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(lf(n.result)),n.onerror=i=>r(i)})}const M5=/([^.]*)\.([^/]*)$/,RH=/(^data:image\/svg|\.svg$)/i,k5="20241122",A5="f6f7099a0e79cf518abdcf87c5aa8b6f24ecdcd8";Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const PH="4.31";let er,iM=PH;iM="4.31.6";function dge(e){er=e}function hge(e){const t=er?.findCredential(e);return t?.token?CH(e,"token",t.token):e}ie("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),ie("host-webworker");const OH=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function IH(e){const t=Gs(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!OH.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function C5(e,t){return!(!Vt.apiKey||!IH(e))}function NH(e,t,r=!1,n){return new Promise((i,s)=>{if(Do(n))return void s(tP());let o=()=>{d(),s(new Error(`Unable to load ${t}`))},l=()=>{const m=e;d(),i(m)},c=()=>{if(!e)return;const m=e;d(),m.src="",s(tP())};const d=()=>{ie("esri-image-decode")||(e.removeEventListener("error",o),e.removeEventListener("load",l)),o=null,l=null,e=null,n?.removeEventListener("abort",c),c=null,r&&URL.revokeObjectURL(t)};n?.addEventListener("abort",c),ie("esri-image-decode")?e.decode().then(l,o):(e.addEventListener("error",o),e.addEventListener("load",l))})}function tP(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const R5="Timeout exceeded";function LH(){return new Error(R5)}function pge(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===R5}function DH(e){Vt.request.crossOriginNoCorsDomains||(Vt.request.crossOriginNoCorsDomains={});const t=Vt.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[Gs(r)??""]=0:(t[Gs("http://"+r)??""]=0,t[Gs("https://"+r)??""]=0)}function FH(e){const t=Vt.request.crossOriginNoCorsDomains;if(t){let r=Gs(e);if(r)return r=r.toLowerCase(),!af(r,K3())&&t[r]<Date.now()-36e5}return!1}async function UH(e){const t=ai(e);e=t.path,t.query?.f==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const r=Vt.request.crossOriginNoCorsDomains,n=Gs(e);r&&n&&(r[n.toLowerCase()]=Date.now())}async function Ar(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=X3(t.query.toString().replaceAll("+"," ")));const r=_h(e),n=U_(e);n||r||(e=Oo(e));const i={url:e,requestOptions:{...t}},s=w=>({data:w,getAllHeaders:uf,getHeader:uf,httpStatus:200,requestOptions:i.requestOptions,url:i.url}),o=dT(e,Ns.internalInterceptors);if(o){const w=await nP(o,i);if(w!=null)return s(w)}let l=dT(e);if(l){const w=await nP(l,i);if(w!=null)return s(w);l.after||l.error||(l=null)}if(e=i.url,(t=i.requestOptions).responseType==="image"&&(ie("host-webworker")||ie("host-node")))throw Ma("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),i);if(t.method==="head"){if(t.body)throw Ma("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),i);if(r||n)throw Ma("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),i)}if(await BH(),Rw)return Rw.execute(e,t);const c=new AbortController,d=zs(t,()=>c.abort()),m={controller:c,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:l,params:i,redoRequest:!1,useIdentity:Ns.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},g=await ZH(m).finally(()=>d?.remove());return l?.after?.(g),g}let Rw;const Ns=Vt.request,P5="FormData"in globalThis,jH=new Set([499,498,403,401]),zH=new Set(["COM_0056","COM_0057","SB_0008"]),GH=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],uf=()=>null,Pw=Symbol();function VH(e){const t=Gs(e);t&&!Ar._corsServers.includes(t)&&Ar._corsServers.push(t)}function rP(e){const t=Gs(e);return!t||t.endsWith(".arcgis.com")||Ar._corsServers.includes(t)||eM(t)}function Ma(e,t,r,n){let i="Error";const s={url:r.url,requestOptions:r.requestOptions,getAllHeaders:uf,getHeader:uf,ssl:!1};if(t instanceof fe)return t.details?(t.details=me(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=s,t;if(t){const o=n&&(()=>Array.from(n.headers)),l=n&&(m=>n.headers.get(m)),c=n?.status,d=t.message;d&&(i=d),o&&l&&(s.getAllHeaders=o,s.getHeader=l),s.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||c||0,s.subCode=t.subcode,s.messageCode=t.messageCode,typeof t.details=="string"?s.messages=[t.details]:s.messages=t.details,s.raw=Pw in t?t[Pw]:t}return Li(t)?Sr():new fe(e,i,s)}async function BH(){ie("host-webworker")&&!Rw&&(Rw=await ke(()=>import("./request-0VPBO0_m.js"),[]))}async function mT(){er||await ke(()=>import("./IdentityManager-HqQLrHqN.js"),__vite__mapDeps([0,1]))}async function HH(e){const t=e.params.url,r=e.params.requestOptions,n=e.controller.signal,i=r.body;let s=null,o=null;if(P5&&"HTMLFormElement"in globalThis&&(i instanceof FormData?s=i:i instanceof HTMLFormElement&&(s=new FormData(i))),typeof i=="string"&&(o=i),e.fetchOptions={cache:r.cacheBust?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:Ns.priority,redirect:"follow",signal:n},(s||o)&&(e.fetchOptions.body=s||o),r.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query?.token||s?.get("token")),!e.hasToken&&C5(t)&&(r.query||(r.query={}),r.query.token=Vt.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!O5(t)&&!Do(n)){let l;r.authMode==="immediate"?(await mT(),l=await er.getCredential(t,{signal:n}),e.credential=l):r.authMode==="no-prompt"?(await mT(),l=await er.getCredential(t,{prompt:!1,signal:n}).catch(()=>{}),e.credential=l):er&&(l=er.findCredential(t)),l&&(e.credentialToken=l.token,e.useSSL=!!l.ssl)}}function O5(e){return GH.some(t=>t.test(e))}async function WH(e){let t=e.params.url;const r=e.params.requestOptions,n=e.fetchOptions??{},i=U_(t)||_h(t),s=r.responseType||"json",o=i?0:r.timeout!=null?r.timeout:Ns.timeout;let l=!1;if(!i){e.useSSL&&(t=nM(t));let w={...r.query};e.credentialToken&&(w.token=e.credentialToken);let S=u0(w);ie("esri-url-encodes-apostrophe")&&(S=S.replaceAll("'","%27"));const $=t.length+1+S.length;let x;l=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||$>Ns.maxUrlLength;const M=r.useProxy||!!D_(t);if(M){const P=_5(t);x=P.path,!l&&x.length+1+$>Ns.maxUrlLength&&(l=!0),P.query&&(w={...P.query,...w})}if(n.method==="HEAD"&&(l||M)){if(l)throw $>Ns.maxUrlLength?Ma("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):Ma("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(M)throw Ma("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}l?(n.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?t=Eb(t,w):(n.body=u0(w),n.headers||(n.headers={}),n.headers["Content-Type"]="application/x-www-form-urlencoded")):t=Eb(t,w),M&&(e.useProxy=!0,t=`${x}?${t}`),w.token&&P5&&n.body instanceof FormData&&!sH(t)&&n.body.set("token",w.token),r.hasOwnProperty("withCredentials")?e.withCredentials=r.withCredentials:af(t,K3())||(eM(t)||er&&er.findServerInfo(t)?.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(n.credentials="include",FH(t)&&await UH(l?Eb(t,w):t))}let c,d,m=0,g=!1;o>0&&(m=setTimeout(()=>{g=!0,e.controller.abort()},o));try{if(r.responseType==="native-request-init")d=n,d.url=t,r.signal?d.signal=r.signal:delete d.signal;else if(r.responseType!=="image"||n.cache!=="default"||n.method!=="GET"||l||qH(r.headers)||!i&&!e.useProxy&&Ns.proxyUrl&&!rP(t)){if(Ar._beforeFetch&&await Ar._beforeFetch(t,n),c=await fetch(t,n),Ar._afterFetch&&await Ar._afterFetch(c),e.useProxy||VH(t),r.responseType==="native")d=c;else if(n.method!=="HEAD")if(c.ok){switch(s){case"array-buffer":d=await c.arrayBuffer();break;case"blob":case"image":d=await c.blob();break;default:d=await c.text()}if(m&&(clearTimeout(m),m=0),s==="json"||s==="xml"||s==="document")if(d)switch(s){case"json":d=JSON.parse(d);break;case"xml":d=iP(d,"application/xml");break;case"document":d=iP(d,"text/html")}else d=null;if(d){if(s==="array-buffer"||s==="blob"){const w=c.headers.get("Content-Type");if(w&&/application\/json|text\/plain/i.test(w)&&d[s==="blob"?"size":"byteLength"]<=750)try{const S=await new Response(d).json();S.error&&(d=S)}catch{}}s==="image"&&d instanceof Blob&&(d=await sP(URL.createObjectURL(d),e,!0))}}else{d=await c.text();try{d=JSON.parse(d)}catch{}}}else d=await sP(t,e)}catch(w){if(w.name==="AbortError")throw g?LH():Sr("Request canceled");if(!(!c&&w instanceof TypeError&&Ns.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||e.useProxy||rP(t))throw w;e.redoRequest=!0,gH({proxyUrl:Ns.proxyUrl,urlPrefix:Gs(t)??""})}finally{m&&clearTimeout(m)}return[c,d]}async function nP(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,n;try{n=await e.before(t)}catch(i){r=Ma("request:interceptor",i,t)}if((n instanceof Error||n instanceof fe)&&(r=Ma("request:interceptor",n,t)),r)throw e.error&&e.error(r),r;return n}}function qH(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function iP(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function ZH(e){let t,r;await HH(e);try{do[t,r]=await WH(e);while(!await YH(e,t,r))}catch(s){const o=Ma("request:server",s,e.params,t);throw o.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(o),o}const n=e.params.url;if(r&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(n)){if(!e.hasToken&&!e.credentialToken&&r.user?.username&&!eM(n)){const s=Gs(n,!0);s&&Ns.trustedServers.push(s)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&DH(r.authorizedCrossOriginNoCorsDomains)}const i=e.credential;if(i&&er){let o=er.findServerInfo(i.server)?.owningSystemUrl;if(o){o=o.replace(/\/?$/,"/sharing");const l=er.findCredential(o,i.userId);l&&er._getIdenticalSvcIdx(o,l)===-1&&l.resources.unshift(o)}}return{data:r,getAllHeaders:t?()=>Array.from(t.headers):uf,getHeader:t?s=>t.headers.get(s):uf,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function YH(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const n=e.params.requestOptions;if(!t||n.responseType==="native"||n.responseType==="native-request-init")return!0;let i,s;if(r&&(r.error&&typeof r.error=="object"?i=r.error:r.status==="error"&&Array.isArray(r.messages)&&(i={...r},i[Pw]=r,i.details=r.messages)),!i&&!t.ok)throw i=new Error(`Unable to load ${t.url} status: ${t.status}`),i[Pw]=r,i;let o,l=null;i&&(s=Number(i.code),l=i.hasOwnProperty("subcode")?Number(i.subcode):null,o=i.messageCode,o=o?.toUpperCase());const c=n.authMode;if(s===403&&(l===4||i.message?.toLowerCase().includes("ssl")&&!i.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(c!=="no-prompt"||s===498)&&s!==void 0&&jH.has(s)&&!O5(e.params.url)&&(s!==403||(!o||!zH.has(o))&&(l==null||l===2&&e.credentialToken))){await mT();try{const d=await er.getCredential(e.params.url,{error:Ma("request:server",i,e.params),prompt:c!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=d,e.credentialToken=d.token,e.useSSL=e.useSSL||d.ssl,!1}catch(d){if(c==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;i=d}}if(i)throw i;return!0}function sP(e,t,r=!1){const n=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.fetchPriority=Ns.priority,i.src=e,NH(i,e,r,n)}Ar._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Ar._beforeFetch=void 0,Ar._afterFetch=void 0;function zt(e){if(!Vt.assetsPath)throw Ne.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new fe("assets:path-not-set","config.assetsPath is not set");return F_(Vt.assetsPath,e)}let Tb,H=null;function sM(){return!!H}function JH(){return!!ie("esri-wasm")}function I5(){return Tb||(Tb=ke(()=>import("./pe-wasm-Br-lxaQb.js"),__vite__mapDeps([2,3])).then(e=>e.p).then(({default:e})=>e({locateFile:t=>zt(`esri/geometry/support/${t}`)})).then(e=>{D5(e)}),Tb)}var yT,vr;(function(e){function t(s,o,l){H.ensureCache.prepare();const c=jd(l),d=l===c,m=H.ensureFloat64(c),g=H._pe_geog_to_proj(H.getPointer(s),o,m);return g&&ec(l,o,m,d),g}function r(s,o,l,c){switch(c){case vr.PE_TRANSFORM_P_TO_G:return n(s,o,l);case vr.PE_TRANSFORM_G_TO_P:return t(s,o,l)}return 0}function n(s,o,l){return i(s,o,l,0)}function i(s,o,l,c){H.ensureCache.prepare();const d=jd(l),m=l===d,g=H.ensureFloat64(d),w=H._pe_proj_to_geog_center(H.getPointer(s),o,g,c);return w&&ec(l,o,g,m),w}e.geogToProj=t,e.projGeog=r,e.projToGeog=n,e.projToGeogCenter=i})(yT||(yT={})),function(e){function t(){e.PE_BUFFER_MAX=H.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=H.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=H.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=H.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=H.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=H.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=H.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=H.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=H.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=H.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=H.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=H.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=H.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=H.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=H.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=H.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=H.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=H.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=H.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=H.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=H.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=H.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=H.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=H.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=H.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=H.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=H.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=H.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=H.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=H.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=H.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=H.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(vr||(vr={}));let N5=null;var gT;(function(e){const t={},r={},n=S=>{const $=S.getType();switch($){case vr.PE_TYPE_GEOGCS:S=H.castObject(S,H.PeGeogcs);break;case vr.PE_TYPE_PROJCS:S=H.castObject(S,H.PeProjcs);break;case vr.PE_TYPE_GEOGTRAN:S=H.castObject(S,H.PeGeogtran);break;default:$&vr.PE_TYPE_UNIT&&(S=H.castObject(S,H.PeUnit))}return S};function i(){H.PeFactory.prototype.initialize(null)}function s(S){return o(vr.PE_TYPE_COORDSYS,S)}function o(S,$){let x=null,M=t[S];if(M||(M={},t[S]=M),M.hasOwnProperty(String($))&&(x=M[$],H.compare(x,H.NULL)&&(x=null)),!x){const P=H.PeFactory.prototype.factoryByType(S,$);H.compare(P,H.NULL)||(x=n(P),M[$]=x)}return x}function l(S,$){let x=null,M=r[S];if(M||(M={},r[S]=M),M.hasOwnProperty($)&&(x=M[$],H.compare(x,H.NULL)&&(x=null)),!x){const P=H.PeFactory.prototype.fromString(S,$);H.compare(P,H.NULL)||(x=n(P),M[$]=x)}return x}function c(S){return o(vr.PE_TYPE_GEOGCS,S)}function d(S){return o(vr.PE_TYPE_GEOGTRAN,S)}function m(S){return H.PeFactory.prototype.getCode(S)}function g(S){return o(vr.PE_TYPE_PROJCS,S)}function w(S){return o(vr.PE_TYPE_UNIT,S)}e.initialize=i,e.coordsys=s,e.factoryByType=o,e.fromString=l,e.geogcs=c,e.geogtran=d,e.getCode=m,e.projcs=g,e.unit=w})(gT||(gT={}));let L5=null;var Ow,vT,wT,_T,ST,bT,Iw,ET,Nw,Lw,TT;function D5(e){function t(s,o,l){s[o]=l(s[o])}H=e,vr.init(),Ow.init(),Iw.init(),Nw.init(),Lw.init(),N5=class extends H.PeDouble{constructor(s=NaN){super(s)}destroy(){H.destroy(this)}[Symbol.dispose](){this.destroy()}},L5=class extends H.PeGCSExtent{destroy(){H.destroy(this)}[Symbol.dispose](){this.destroy()}};const r=[H.PeAngunit,H.PeDatum,H.PeGeogcs,H.PeGeogtran,H.PeObject,H.PeParameter,H.PePrimem,H.PeProjcs,H.PeSpheroid,H.PeUnit];for(const s of r)t(s.prototype,"getName",o=>function(){return o.call(this,new Array(vr.PE_NAME_MAX))});for(const s of[H.PeGeogtran,H.PeProjcs])t(s.prototype,"getParameters",o=>function(){const l=new Array(vr.PE_PARM_MAX);let c=o.call(this);for(let d=0;d<l.length;d++){const m=H.getValue(c,"*");l[d]=m?H.wrapPointer(m,H.PeParameter):null,c+=Int32Array.BYTES_PER_ELEMENT}return l});t(H.PeHorizon.prototype,"getCoord",s=>function(o=!1){const l=this.getSize();if(!l)return null;const c=[];return ec(c,l,s.call(this),o),c}),t(H.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const o=H._pe_getPeGTlistExtendedGTsSize();return function(){let l=null;const c=s.call(this);if(!H.compare(c,H.NULL)){l=[c];const d=this.getSteps();if(d>1){const m=H.getPointer(c);for(let g=1;g<d;g++)l.push(H.wrapPointer(m+o*g,H.PeGTlistExtendedGTs))}}return l}});const n=H._pe_getPeHorizonSize(),i=s=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(s))return o.get(s);let l=null;const c=s.call(this);if(!H.compare(c,H.NULL)){l=[c];const d=c.getNump();if(d>1){const m=H.getPointer(c);for(let g=1;g<d;g++)l.push(H.wrapPointer(m+n*g,H.PeHorizon))}}return o.set(s,l),l};t(H.PeProjcs.prototype,"horizonGcsGenerate",i),t(H.PeProjcs.prototype,"horizonPcsGenerate",i),H.PeObject.prototype.toString=function(s=vr.PE_STR_OPTS_NONE){H.ensureCache.prepare();const o=H.getPointer(this),l=H.ensureInt8(new Array(vr.PE_BUFFER_MAX));return H.UTF8ToString(H._pe_object_to_string_ext(o,s,l))},H.PeGeogcs.prototype.destroy=function(){this.Delete(),xo(this),this.ptr=0},H.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},H.PeProjcs.prototype.destroy=function(){this.Delete(),xo(this),this.ptr=0},H.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function xo(e){if(!e)return;const t=H.getClass(e);if(!t)return;const r=H.getCache(t);if(!r)return;const n=H.getPointer(e);n&&delete r[n]}function _1(e,t){const r=[],n=new Array(t);for(let i=0;i<e;i++)r.push(H.ensureInt8(n));return r}function jd(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function ec(e,t,r,n=!1){if(n)for(let i=0;i<2*t;i++)e[i]=H.getValue(r+i*Float64Array.BYTES_PER_ELEMENT,"double");else{const i=e.length===0;for(let s=0;s<t;s++)i&&(e[s]=new Array(2)),e[s][0]=H.getValue(r,"double"),e[s][1]=H.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function r(){e.PE_GTLIST_OPTS_COMMON=H.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=H._pe_getPeGTlistExtendedEntrySize()}function n(i,s,o,l,c,d){let m=null;const g=new H.PeInteger(d);try{const w=H.PeGTlistExtended.prototype.getGTlist(i,s,o,l,c,g);if((d=g.val)&&(m=[w],d>1)){const S=H.getPointer(w);for(let $=1;$<d;$++)m.push(H.wrapPointer(S+t*$,H.PeGTlistExtendedEntry))}}finally{H.destroy(g)}return m}e.init=r,e.getGTlist=n})(Ow||(Ow={})),function(e){function t(r){if(r?.length){for(const n of r)xo(n),n.getEntries().forEach(i=>{xo(i);const s=i.getGeogtran();xo(s),s.getParameters().forEach(xo),[s.getGeogcs1(),s.getGeogcs2()].forEach(o=>{xo(o);const l=o.getDatum();xo(l),xo(l.getSpheroid()),xo(o.getPrimem()),xo(o.getUnit())})});H.PeGTlistExtendedEntry.prototype.Delete(r[0])}}e.destroy=t}(vT||(vT={})),function(e){function t(r,n,i,s,o){H.ensureCache.prepare();const l=jd(i),c=i===l,d=H.ensureFloat64(l);let m=0;s&&(m=H.ensureFloat64(s));const g=H._pe_geog_to_geog(H.getPointer(r),n,d,m,o);return g&&ec(i,n,d,c),g}e.geogToGeog=t}(wT||(wT={})),function(e){function t(s,o,l,c,d,m,g,w){H.PeLineType.prototype.geodesic_coordinate(s,o,l,c,d,m,g,w)}function r(s,o,l,c,d,m,g,w,S){H.PeLineType.prototype.geodetic_coordinate(s,o,l,c,d,m,g,w,S)}function n(s,o,l,c,d,m,g,w,S,$){H.PeLineType.prototype.geodetic_distance(s,o,l,c,d,m,g,w,S,$)}function i(s,o,l,c,d,m,g,w,S){H.PeLineType.prototype.great_elliptic_distance(s,o,l,c,d,m,g,w,S)}e.geodesicCoordinate=t,e.geodeticCoordinate=r,e.geodeticDistance=n,e.greatEllipticDistance=i}(_T||(_T={})),function(e){function t(o,l){return H.PeMath.prototype.phi_to_eta(o,l)}function r(o,l){return H.PeMath.prototype.eta_to_phi(o,l)}function n(o,l){return H.PeMath.prototype.phi_to_phig(o,l)}function i(o,l,c){return H.PeMath.prototype.q(o,l,c)}function s(o,l){return H.PeMath.prototype.q90(o,l)}e.phiToEta=t,e.etaToPhi=r,e.phiToPhig=n,e.q=i,e.q90=s}(ST||(ST={})),function(e){const t=(d,m,g,w,S,$)=>{let x,M;switch(H.ensureCache.prepare(),d){case"dd":x=H._pe_geog_to_dd,M=vr.PE_DD_MAX;break;case"ddm":x=H._pe_geog_to_ddm,M=vr.PE_DDM_MAX;break;case"dms":x=H._pe_geog_to_dms,M=vr.PE_DMS_MAX}let P=0;m&&(P=H.getPointer(m));const F=jd(w),V=H.ensureFloat64(F),U=_1(g,M),z=x(P,g,V,S,H.ensureInt32(U));if(z)for(let Z=0;Z<g;Z++)$[Z]=H.UTF8ToString(U[Z]);return z},r=(d,m,g,w,S)=>{let $;switch(H.ensureCache.prepare(),d){case"dd":$=H._pe_dd_to_geog;break;case"ddm":$=H._pe_ddm_to_geog;break;case"dms":$=H._pe_dms_to_geog}let x=0;m&&(x=H.getPointer(m));const M=w.map(U=>H.ensureString(U)),P=H.ensureInt32(M),F=H.ensureFloat64(new Array(2*g)),V=$(x,g,P,F);return V&&ec(S,g,F),V};function n(d,m,g,w,S){return t("dms",d,m,g,w,S)}function i(d,m,g,w){return r("dms",d,m,g,w)}function s(d,m,g,w,S){return t("ddm",d,m,g,w,S)}function o(d,m,g,w){return r("ddm",d,m,g,w)}function l(d,m,g,w,S){return t("dd",d,m,g,w,S)}function c(d,m,g,w){return r("dd",d,m,g,w)}e.geogToDms=n,e.dmsToGeog=i,e.geogToDdm=s,e.ddmToGeog=o,e.geogToDd=l,e.ddToGeog=c}(bT||(bT={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=H.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=H.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=H.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=H.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=H.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function r(i,s,o,l,c,d,m){H.ensureCache.prepare();let g=0;i&&(g=H.getPointer(i));const w=jd(o),S=H.ensureFloat64(w),$=_1(s,vr.PE_MGRS_MAX),x=H.ensureInt32($),M=H._pe_geog_to_mgrs_extended(g,s,S,l,c,d,x);if(M)for(let P=0;P<s;P++)m[P]=H.UTF8ToString($[P]);return M}function n(i,s,o,l,c){H.ensureCache.prepare();let d=0;i&&(d=H.getPointer(i));const m=o.map($=>H.ensureString($)),g=H.ensureInt32(m),w=H.ensureFloat64(new Array(2*s)),S=H._pe_mgrs_to_geog_extended(d,s,g,l,w);return S&&ec(c,s,w),S}e.init=t,e.geogToMgrsExtended=r,e.mgrsToGeogExtended=n}(Iw||(Iw={})),function(e){function t(n,i,s,o,l,c,d){H.ensureCache.prepare();let m=0;n&&(m=H.getPointer(n));const g=jd(s),w=H.ensureFloat64(g),S=_1(i,vr.PE_MGRS_MAX),$=H.ensureInt32(S),x=H._pe_geog_to_usng(m,i,w,o,l,c,$);if(x)for(let M=0;M<i;M++)d[M]=H.UTF8ToString(S[M]);return x}function r(n,i,s,o){H.ensureCache.prepare();let l=0;n&&(l=H.getPointer(n));const c=s.map(w=>H.ensureString(w)),d=H.ensureInt32(c),m=H.ensureFloat64(new Array(2*i)),g=H._pe_usng_to_geog(l,i,d,m);return g&&ec(o,i,m),g}e.geogToUsng=t,e.usngToGeog=r}(ET||(ET={})),function(e){function t(){e.PE_UTM_OPTS_NONE=H.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=H.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=H.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function r(i,s,o,l,c){H.ensureCache.prepare();let d=0;i&&(d=H.getPointer(i));const m=jd(o),g=H.ensureFloat64(m),w=_1(s,vr.PE_UTM_MAX),S=H.ensureInt32(w),$=H._pe_geog_to_utm(d,s,g,l,S);if($)for(let x=0;x<s;x++)c[x]=H.UTF8ToString(w[x]);return $}function n(i,s,o,l,c){H.ensureCache.prepare();let d=0;i&&(d=H.getPointer(i));const m=o.map($=>H.ensureString($)),g=H.ensureInt32(m),w=H.ensureFloat64(new Array(2*s)),S=H._pe_utm_to_geog(d,s,g,l,w);return S&&ec(c,s,w),S}e.init=t,e.geogToUtm=r,e.utmToGeog=n}(Nw||(Nw={})),function(e){const t=new Map;function r(){e.PE_PCSINFO_OPTION_NONE=H.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=H.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=H.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=H.PePCSInfo.prototype.PE_POLE_POINT}function n(i,s=e.PE_PCSINFO_OPTION_DOMAIN){let o=null,l=null;return t.has(i)&&(l=t.get(i),l[s]&&(o=l[s])),o||(o=H.PePCSInfo.prototype.generate(i,s),l||(l=[],t.set(i,l)),l[s]=o),o}e.init=r,e.generate=n}(Lw||(Lw={})),function(e){function t(){return H.PeVersion.prototype.version_string()}e.versionString=t}(TT||(TT={}));const KH=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return yT},get PeDefs(){return vr},get PeDouble(){return N5},get PeFactory(){return gT},get PeGCSExtent(){return L5},get PeGTTransformations(){return wT},get PeGTlistExtended(){return Ow},get PeGTlistExtendedEntry(){return vT},get PeLineType(){return _T},get PeMath(){return ST},get PeNotationDms(){return bT},get PeNotationMgrs(){return Iw},get PeNotationUsng(){return ET},get PeNotationUtm(){return Nw},get PePCSInfo(){return Lw},get PeVersion(){return TT},_init:D5,get _pe(){return H},isLoaded:sM,isSupported:JH,load:I5},Symbol.toStringTag,{value:"Module"}));var ah;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(ah||(ah={}));let h;const C={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(h=2e3;h<=2045;h++)C[h]=0;for(h=2056;h<=2065;h++)C[h]=0;for(h=2067;h<=2135;h++)C[h]=0;for(h=2137;h<=2154;h++)C[h]=0;for(h=2161;h<=2170;h++)C[h]=0;for(h=2172;h<=2193;h++)C[h]=0;for(h=2195;h<=2198;h++)C[h]=0;for(h=2200;h<=2203;h++)C[h]=0;for(h=2205;h<=2217;h++)C[h]=0;for(h=2222;h<=2224;h++)C[h]=1;for(h=2225;h<=2250;h++)C[h]=2;for(h=2251;h<=2253;h++)C[h]=1;for(h=2257;h<=2264;h++)C[h]=2;for(h=2274;h<=2279;h++)C[h]=2;for(h=2280;h<=2282;h++)C[h]=1;for(h=2283;h<=2289;h++)C[h]=2;for(h=2290;h<=2292;h++)C[h]=0;for(h=2308;h<=2313;h++)C[h]=0;for(h=2315;h<=2491;h++)C[h]=0;for(h=2494;h<=2866;h++)C[h]=0;for(h=2867;h<=2869;h++)C[h]=1;for(h=2870;h<=2888;h++)C[h]=2;for(h=2891;h<=2895;h++)C[h]=2;for(h=2896;h<=2898;h++)C[h]=1;for(h=2902;h<=2908;h++)C[h]=2;for(h=2915;h<=2920;h++)C[h]=2;for(h=2921;h<=2923;h++)C[h]=1;for(h=2924;h<=2930;h++)C[h]=2;for(h=2931;h<=2962;h++)C[h]=0;for(h=2964;h<=2968;h++)C[h]=2;for(h=2969;h<=2973;h++)C[h]=0;for(h=2975;h<=2991;h++)C[h]=0;for(h=2995;h<=3051;h++)C[h]=0;for(h=3054;h<=3079;h++)C[h]=0;for(h=3081;h<=3088;h++)C[h]=0;for(h=3092;h<=3101;h++)C[h]=0;for(h=3106;h<=3138;h++)C[h]=0;for(h=3146;h<=3151;h++)C[h]=0;for(h=3153;h<=3166;h++)C[h]=0;for(h=3168;h<=3172;h++)C[h]=0;for(h=3174;h<=3203;h++)C[h]=0;for(h=3294;h<=3358;h++)C[h]=0;for(h=3367;h<=3403;h++)C[h]=0;for(h=3408;h<=3416;h++)C[h]=0;for(h=3417;h<=3438;h++)C[h]=2;for(h=3441;h<=3446;h++)C[h]=2;for(h=3447;h<=3450;h++)C[h]=0;for(h=3451;h<=3459;h++)C[h]=2;for(h=3460;h<=3478;h++)C[h]=0;for(h=3554;h<=3559;h++)C[h]=0;for(h=3560;h<=3570;h++)C[h]=2;for(h=3571;h<=3581;h++)C[h]=0;for(h=3594;h<=3597;h++)C[h]=0;for(h=3601;h<=3604;h++)C[h]=0;for(h=3637;h<=3639;h++)C[h]=0;for(h=3665;h<=3667;h++)C[h]=0;for(h=3693;h<=3695;h++)C[h]=0;for(h=3701;h<=3727;h++)C[h]=0;for(h=3728;h<=3739;h++)C[h]=2;for(h=3740;h<=3751;h++)C[h]=0;for(h=3753;h<=3760;h++)C[h]=2;for(h=3761;h<=3773;h++)C[h]=0;for(h=3775;h<=3777;h++)C[h]=0;for(h=3779;h<=3781;h++)C[h]=0;for(h=3783;h<=3785;h++)C[h]=0;for(h=3788;h<=3791;h++)C[h]=0;for(h=3797;h<=3802;h++)C[h]=0;for(h=3814;h<=3816;h++)C[h]=0;for(h=3825;h<=3829;h++)C[h]=0;for(h=3832;h<=3841;h++)C[h]=0;for(h=3844;h<=3852;h++)C[h]=0;for(h=3873;h<=3885;h++)C[h]=0;for(h=3890;h<=3893;h++)C[h]=0;for(h=3907;h<=3912;h++)C[h]=0;for(h=3942;h<=3950;h++)C[h]=0;for(h=3968;h<=3970;h++)C[h]=0;for(h=3973;h<=3976;h++)C[h]=0;for(h=3986;h<=3989;h++)C[h]=0;for(h=3994;h<=3997;h++)C[h]=0;for(h=4048;h<=4051;h++)C[h]=0;for(h=4056;h<=4063;h++)C[h]=0;for(h=4093;h<=4096;h++)C[h]=0;for(h=4390;h<=4398;h++)C[h]=0;for(h=4399;h<=4413;h++)C[h]=2;for(h=4418;h<=4433;h++)C[h]=2;for(h=4455;h<=4457;h++)C[h]=2;for(h=4484;h<=4489;h++)C[h]=0;for(h=4491;h<=4554;h++)C[h]=0;for(h=4568;h<=4589;h++)C[h]=0;for(h=4652;h<=4656;h++)C[h]=0;for(h=4766;h<=4800;h++)C[h]=0;for(h=5014;h<=5016;h++)C[h]=0;for(h=5069;h<=5072;h++)C[h]=0;for(h=5105;h<=5130;h++)C[h]=0;for(h=5167;h<=5188;h++)C[h]=0;for(h=5253;h<=5259;h++)C[h]=0;for(h=5269;h<=5275;h++)C[h]=0;for(h=5292;h<=5311;h++)C[h]=0;for(h=5329;h<=5331;h++)C[h]=0;for(h=5343;h<=5349;h++)C[h]=0;for(h=5355;h<=5357;h++)C[h]=0;for(h=5387;h<=5389;h++)C[h]=0;for(h=5459;h<=5463;h++)C[h]=0;for(h=5479;h<=5482;h++)C[h]=0;for(h=5518;h<=5520;h++)C[h]=0;for(h=5530;h<=5539;h++)C[h]=0;for(h=5550;h<=5552;h++)C[h]=0;for(h=5562;h<=5583;h++)C[h]=0;for(h=5623;h<=5625;h++)C[h]=2;for(h=5631;h<=5639;h++)C[h]=0;for(h=5649;h<=5653;h++)C[h]=0;for(h=5663;h<=5680;h++)C[h]=0;for(h=5682;h<=5685;h++)C[h]=0;for(h=5875;h<=5877;h++)C[h]=0;for(h=5896;h<=5899;h++)C[h]=0;for(h=5921;h<=5940;h++)C[h]=0;for(h=6050;h<=6125;h++)C[h]=0;for(h=6244;h<=6275;h++)C[h]=0;for(h=6328;h<=6348;h++)C[h]=0;for(h=6350;h<=6356;h++)C[h]=0;for(h=6366;h<=6372;h++)C[h]=0;for(h=6381;h<=6387;h++)C[h]=0;for(h=6393;h<=6404;h++)C[h]=0;for(h=6480;h<=6483;h++)C[h]=0;for(h=6511;h<=6514;h++)C[h]=0;for(h=6579;h<=6581;h++)C[h]=0;for(h=6619;h<=6624;h++)C[h]=0;for(h=6625;h<=6627;h++)C[h]=2;for(h=6628;h<=6632;h++)C[h]=0;for(h=6634;h<=6637;h++)C[h]=0;for(h=6669;h<=6692;h++)C[h]=0;for(h=6707;h<=6709;h++)C[h]=0;for(h=6720;h<=6723;h++)C[h]=0;for(h=6732;h<=6738;h++)C[h]=0;for(h=6931;h<=6933;h++)C[h]=0;for(h=6956;h<=6959;h++)C[h]=0;for(h=7005;h<=7007;h++)C[h]=0;for(h=7057;h<=7070;h++)C[h]=2;for(h=7074;h<=7082;h++)C[h]=0;for(h=7109;h<=7118;h++)C[h]=0;for(h=7119;h<=7127;h++)C[h]=1;for(h=7374;h<=7376;h++)C[h]=0;for(h=7528;h<=7586;h++)C[h]=0;for(h=7587;h<=7645;h++)C[h]=2;for(h=7692;h<=7696;h++)C[h]=0;for(h=7755;h<=7787;h++)C[h]=0;for(h=7791;h<=7795;h++)C[h]=0;for(h=7799;h<=7801;h++)C[h]=0;for(h=7803;h<=7805;h++)C[h]=0;for(h=7825;h<=7831;h++)C[h]=0;for(h=7845;h<=7859;h++)C[h]=0;for(h=8013;h<=8032;h++)C[h]=0;for(h=8065;h<=8068;h++)C[h]=1;for(h=8518;h<=8529;h++)C[h]=2;for(h=8533;h<=8536;h++)C[h]=2;for(h=8538;h<=8540;h++)C[h]=2;for(h=8677;h<=8679;h++)C[h]=0;for(h=8836;h<=8840;h++)C[h]=0;for(h=8857;h<=8859;h++)C[h]=0;for(h=8908;h<=8910;h++)C[h]=0;for(h=9154;h<=9159;h++)C[h]=0;for(h=9205;h<=9218;h++)C[h]=0;for(h=9271;h<=9273;h++)C[h]=0;for(h=9295;h<=9297;h++)C[h]=0;for(h=9356;h<=9360;h++)C[h]=0;for(h=9404;h<=9407;h++)C[h]=0;for(h=9476;h<=9482;h++)C[h]=0;for(h=9487;h<=9494;h++)C[h]=0;for(h=9697;h<=9699;h++)C[h]=0;for(h=9821;h<=9865;h++)C[h]=0;for(h=10285;h<=10291;h++)C[h]=0;for(h=10314;h<=10317;h++)C[h]=0;for(h=10448;h<=10465;h++)C[h]=0;for(h=10731;h<=10733;h++)C[h]=0;for(h=11114;h<=11118;h++)C[h]=0;for(h=20004;h<=20032;h++)C[h]=0;for(h=20047;h<=20049;h++)C[h]=0;for(h=20062;h<=20092;h++)C[h]=0;for(h=20135;h<=20138;h++)C[h]=0;for(h=20248;h<=20258;h++)C[h]=0;for(h=20348;h<=20358;h++)C[h]=0;for(h=20436;h<=20440;h++)C[h]=0;for(h=20822;h<=20824;h++)C[h]=0;for(h=20904;h<=20932;h++)C[h]=0;for(h=20934;h<=20936;h++)C[h]=0;for(h=21004;h<=21032;h++)C[h]=0;for(h=21035;h<=21037;h++)C[h]=0;for(h=21095;h<=21097;h++)C[h]=0;for(h=21148;h<=21150;h++)C[h]=0;for(h=21207;h<=21264;h++)C[h]=0;for(h=21307;h<=21364;h++)C[h]=0;for(h=21413;h<=21423;h++)C[h]=0;for(h=21453;h<=21463;h++)C[h]=0;for(h=21473;h<=21483;h++)C[h]=0;for(h=21780;h<=21782;h++)C[h]=0;for(h=21891;h<=21894;h++)C[h]=0;for(h=21896;h<=21899;h++)C[h]=0;for(h=22171;h<=22177;h++)C[h]=0;for(h=22181;h<=22187;h++)C[h]=0;for(h=22191;h<=22197;h++)C[h]=0;for(h=22207;h<=22222;h++)C[h]=0;for(h=22229;h<=22232;h++)C[h]=0;for(h=22234;h<=22236;h++)C[h]=0;for(h=22243;h<=22250;h++)C[h]=0;for(h=22262;h<=22265;h++)C[h]=0;for(h=22307;h<=22322;h++)C[h]=0;for(h=22348;h<=22357;h++)C[h]=0;for(h=22407;h<=22422;h++)C[h]=0;for(h=22462;h<=22465;h++)C[h]=0;for(h=22521;h<=22525;h++)C[h]=0;for(h=22607;h<=22622;h++)C[h]=0;for(h=22641;h<=22646;h++)C[h]=0;for(h=22648;h<=22657;h++)C[h]=0;for(h=22707;h<=22722;h++)C[h]=0;for(h=22762;h<=22765;h++)C[h]=0;for(h=22807;h<=22822;h++)C[h]=0;for(h=22991;h<=22994;h++)C[h]=0;for(h=23028;h<=23038;h++)C[h]=0;for(h=23301;h<=23333;h++)C[h]=2;for(h=23830;h<=23853;h++)C[h]=0;for(h=23866;h<=23872;h++)C[h]=0;for(h=23877;h<=23884;h++)C[h]=0;for(h=23886;h<=23894;h++)C[h]=0;for(h=23946;h<=23948;h++)C[h]=0;for(h=24311;h<=24313;h++)C[h]=0;for(h=24342;h<=24347;h++)C[h]=0;for(h=24370;h<=24374;h++)C[h]=10;for(h=24375;h<=24381;h++)C[h]=0;for(h=24718;h<=24721;h++)C[h]=0;for(h=24817;h<=24821;h++)C[h]=0;for(h=24877;h<=24882;h++)C[h]=0;for(h=24891;h<=24893;h++)C[h]=0;for(h=25391;h<=25395;h++)C[h]=0;for(h=25828;h<=25838;h++)C[h]=0;for(h=26191;h<=26195;h++)C[h]=0;for(h=26391;h<=26393;h++)C[h]=0;for(h=26701;h<=26722;h++)C[h]=0;for(h=26729;h<=26799;h++)C[h]=2;for(h=26801;h<=26803;h++)C[h]=2;for(h=26811;h<=26813;h++)C[h]=2;for(h=26847;h<=26870;h++)C[h]=2;for(h=26891;h<=26899;h++)C[h]=0;for(h=26901;h<=26923;h++)C[h]=0;for(h=26929;h<=26946;h++)C[h]=0;for(h=26948;h<=26998;h++)C[h]=0;for(h=27037;h<=27040;h++)C[h]=0;for(h=27205;h<=27232;h++)C[h]=0;for(h=27258;h<=27260;h++)C[h]=0;for(h=27391;h<=27398;h++)C[h]=0;for(h=27561;h<=27564;h++)C[h]=0;for(h=27571;h<=27574;h++)C[h]=0;for(h=27581;h<=27584;h++)C[h]=0;for(h=27591;h<=27594;h++)C[h]=0;for(h=27700;h<=27707;h++)C[h]=0;for(h=28191;h<=28193;h++)C[h]=0;for(h=28348;h<=28358;h++)C[h]=0;for(h=28402;h<=28432;h++)C[h]=0;for(h=28462;h<=28492;h++)C[h]=0;for(h=29118;h<=29122;h++)C[h]=0;for(h=29168;h<=29172;h++)C[h]=0;for(h=29177;h<=29185;h++)C[h]=0;for(h=29187;h<=29195;h++)C[h]=0;for(h=29900;h<=29903;h++)C[h]=0;for(h=30161;h<=30179;h++)C[h]=0;for(h=30491;h<=30494;h++)C[h]=0;for(h=30729;h<=30732;h++)C[h]=0;for(h=31251;h<=31259;h++)C[h]=0;for(h=31265;h<=31268;h++)C[h]=0;for(h=31275;h<=31279;h++)C[h]=0;for(h=31281;h<=31297;h++)C[h]=0;for(h=31461;h<=31469;h++)C[h]=0;for(h=31491;h<=31495;h++)C[h]=0;for(h=31917;h<=31922;h++)C[h]=0;for(h=31965;h<=32e3;h++)C[h]=0;for(h=32001;h<=32003;h++)C[h]=2;for(h=32005;h<=32031;h++)C[h]=2;for(h=32033;h<=32060;h++)C[h]=2;for(h=32064;h<=32067;h++)C[h]=2;for(h=32074;h<=32077;h++)C[h]=2;for(h=32081;h<=32086;h++)C[h]=0;for(h=32107;h<=32130;h++)C[h]=0;for(h=32133;h<=32159;h++)C[h]=0;for(h=32164;h<=32167;h++)C[h]=2;for(h=32180;h<=32199;h++)C[h]=0;for(h=32201;h<=32260;h++)C[h]=0;for(h=32301;h<=32360;h++)C[h]=0;for(h=32401;h<=32460;h++)C[h]=0;for(h=32501;h<=32560;h++)C[h]=0;for(h=32601;h<=32662;h++)C[h]=0;for(h=32664;h<=32667;h++)C[h]=2;for(h=32701;h<=32761;h++)C[h]=0;for(h=53001;h<=53004;h++)C[h]=0;for(h=53008;h<=53019;h++)C[h]=0;for(h=53021;h<=53032;h++)C[h]=0;for(h=53034;h<=53037;h++)C[h]=0;for(h=53042;h<=53046;h++)C[h]=0;for(h=53074;h<=53080;h++)C[h]=0;for(h=54001;h<=54004;h++)C[h]=0;for(h=54008;h<=54019;h++)C[h]=0;for(h=54021;h<=54032;h++)C[h]=0;for(h=54034;h<=54037;h++)C[h]=0;for(h=54042;h<=54046;h++)C[h]=0;for(h=54048;h<=54053;h++)C[h]=0;for(h=54074;h<=54080;h++)C[h]=0;for(h=54098;h<=54101;h++)C[h]=0;for(h=102001;h<=102040;h++)C[h]=0;for(h=102042;h<=102063;h++)C[h]=0;for(h=102065;h<=102067;h++)C[h]=0;for(h=102070;h<=102117;h++)C[h]=0;for(h=102122;h<=102216;h++)C[h]=0;for(h=102221;h<=102377;h++)C[h]=0;for(h=102382;h<=102388;h++)C[h]=0;for(h=102389;h<=102398;h++)C[h]=2;for(h=102399;h<=102444;h++)C[h]=0;for(h=102445;h<=102447;h++)C[h]=2;for(h=102448;h<=102458;h++)C[h]=0;for(h=102459;h<=102468;h++)C[h]=2;for(h=102469;h<=102499;h++)C[h]=0;for(h=102500;h<=102519;h++)C[h]=1;for(h=102520;h<=102524;h++)C[h]=0;for(h=102525;h<=102529;h++)C[h]=2;for(h=102530;h<=102588;h++)C[h]=0;for(h=102590;h<=102598;h++)C[h]=0;for(h=102601;h<=102603;h++)C[h]=0;for(h=102605;h<=102628;h++)C[h]=0;for(h=102629;h<=102646;h++)C[h]=2;for(h=102648;h<=102700;h++)C[h]=2;for(h=102701;h<=102703;h++)C[h]=0;for(h=102707;h<=102730;h++)C[h]=2;for(h=102733;h<=102758;h++)C[h]=2;for(h=102767;h<=102900;h++)C[h]=0;for(h=102901;h<=102933;h++)C[h]=2;for(h=102934;h<=102950;h++)C[h]=13;for(h=102951;h<=102963;h++)C[h]=0;for(h=102965;h<=102969;h++)C[h]=0;for(h=102971;h<=102973;h++)C[h]=0;for(h=102975;h<=102989;h++)C[h]=0;for(h=102990;h<=102992;h++)C[h]=1;for(h=102997;h<=103002;h++)C[h]=0;for(h=103003;h<=103008;h++)C[h]=2;for(h=103009;h<=103011;h++)C[h]=0;for(h=103012;h<=103014;h++)C[h]=2;for(h=103019;h<=103021;h++)C[h]=0;for(h=103022;h<=103024;h++)C[h]=2;for(h=103029;h<=103031;h++)C[h]=0;for(h=103032;h<=103034;h++)C[h]=2;for(h=103065;h<=103068;h++)C[h]=0;for(h=103074;h<=103076;h++)C[h]=0;for(h=103077;h<=103079;h++)C[h]=1;for(h=103080;h<=103082;h++)C[h]=0;for(h=103083;h<=103085;h++)C[h]=2;for(h=103090;h<=103093;h++)C[h]=0;for(h=103097;h<=103099;h++)C[h]=0;for(h=103100;h<=103102;h++)C[h]=2;for(h=103107;h<=103109;h++)C[h]=0;for(h=103110;h<=103112;h++)C[h]=2;for(h=103113;h<=103116;h++)C[h]=0;for(h=103117;h<=103120;h++)C[h]=2;for(h=103153;h<=103157;h++)C[h]=0;for(h=103158;h<=103162;h++)C[h]=2;for(h=103163;h<=103165;h++)C[h]=0;for(h=103166;h<=103168;h++)C[h]=1;for(h=103169;h<=103171;h++)C[h]=2;for(h=103186;h<=103188;h++)C[h]=0;for(h=103189;h<=103191;h++)C[h]=2;for(h=103192;h<=103195;h++)C[h]=0;for(h=103196;h<=103199;h++)C[h]=2;for(h=103200;h<=103224;h++)C[h]=0;for(h=103225;h<=103227;h++)C[h]=1;for(h=103232;h<=103237;h++)C[h]=0;for(h=103238;h<=103243;h++)C[h]=2;for(h=103244;h<=103246;h++)C[h]=0;for(h=103247;h<=103249;h++)C[h]=2;for(h=103254;h<=103256;h++)C[h]=0;for(h=103257;h<=103259;h++)C[h]=2;for(h=103264;h<=103266;h++)C[h]=0;for(h=103267;h<=103269;h++)C[h]=2;for(h=103300;h<=103375;h++)C[h]=0;for(h=103381;h<=103383;h++)C[h]=0;for(h=103384;h<=103386;h++)C[h]=1;for(h=103387;h<=103389;h++)C[h]=0;for(h=103390;h<=103392;h++)C[h]=2;for(h=103397;h<=103399;h++)C[h]=0;for(h=103400;h<=103471;h++)C[h]=2;for(h=103476;h<=103478;h++)C[h]=0;for(h=103479;h<=103481;h++)C[h]=2;for(h=103486;h<=103488;h++)C[h]=0;for(h=103489;h<=103491;h++)C[h]=2;for(h=103492;h<=103495;h++)C[h]=0;for(h=103496;h<=103499;h++)C[h]=2;for(h=103528;h<=103543;h++)C[h]=0;for(h=103544;h<=103548;h++)C[h]=2;for(h=103549;h<=103551;h++)C[h]=0;for(h=103552;h<=103554;h++)C[h]=1;for(h=103555;h<=103557;h++)C[h]=2;for(h=103558;h<=103560;h++)C[h]=0;for(h=103571;h<=103573;h++)C[h]=0;for(h=103574;h<=103576;h++)C[h]=2;for(h=103577;h<=103580;h++)C[h]=0;for(h=103581;h<=103583;h++)C[h]=2;for(h=103595;h<=103694;h++)C[h]=0;for(h=103696;h<=103699;h++)C[h]=0;for(h=103700;h<=103793;h++)C[h]=2;for(h=103794;h<=103890;h++)C[h]=0;for(h=103891;h<=103896;h++)C[h]=2;for(h=103900;h<=103971;h++)C[h]=2;for(h=103972;h<=103977;h++)C[h]=0;for(h=112e3;h<=112101;h++)C[h]=0;const F5=[102100,102113,3857,3785,900913],XH=[104905,104971],QH=[4326,...F5,...XH],c0=[-20037508342788905e-9,20037508342788905e-9],$T=[-20037508342787e-6,20037508342787e-6],$b={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:c0,origin:$T,dx:1e-5},U5={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:c0,origin:$T,dx:1e-5},102100:$b,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:c0,origin:$T,dx:1e-5},3857:$b,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:$b};function pn(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const r=e.wkid,n=t.wkid;if(r!=null||n!=null){if(r===n||Ca(e)&&Ca(t))return!0;const o=e.latestWkid;if(o!=null&&n===o)return!0;const l=t.latestWkid;return l!=null&&r===l}let i,s;return e.wkt2&&t.wkt2?(i=e.wkt2,s=t.wkt2):e.wkt&&t.wkt&&(i=e.wkt,s=t.wkt),!(!i||!s)&&i.toUpperCase()===s.toUpperCase()}function ii(e){const t=e?.wkid;return t!=null&&t>=2e3&&U5[t]||null}function j5(e){if(!e)return;const{wkid:t,vcsWkid:r}=e;if(t)return r?JSON.stringify({wkid:t,vcsWkid:r}):String(t);const n=e.wkt||e.wkt2;return JSON.stringify(n?r?{wkt:n,vcsWkid:r}:{wkt:n}:{})}function j_(e){if(!is(e))return!1;const{wkid:t}=e;if(t)return C[t]==null;const r=e.wkt2||e.wkt;return!!r&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(r)}function eW(e){return!(z5(e)||G5(e))}function lh(e){return e?.wkid===4326}function fge(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function oP(e){return e?.wkid===ah.CGCS2000}function Ca(e){const t=e?.wkid;return t!=null&&t>=2e3&&F5.includes(t)}function tW(e){return e?.wkid===32662}function z_(e){return e===ah.GCSMARS2000||e===ah.GCSMARS2000_SPHERE}function z5(e){return z_(e?.wkid)}function G_(e){return e===ah.GCSMOON2000}function G5(e){return G_(e?.wkid)}function rW(e){const t=e?.wkid;return t!=null&&t>=2e3&&QH.includes(t)}function is(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const V5={wkid:4326,wkt:F3(U5[4326].wkTemplate,{Central_Meridian:"0.0"})},B5={wkid:102100,latestWkid:3857},nW={wkid:32662};function oM(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const iW=oM(Pr),aM=oM(xa),lM=oM(pc),sW={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Pr.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},oW=aM.wkt.toUpperCase(),aW=lM.wkt.toUpperCase();function lW(e){if(e!=null&&is(e)){const t=e.wkid,r=e.wkt2??e.wkt;if(z_(t))return xa;const n=r?.toUpperCase();if(r&&n===oW)return xa;if(G_(t)||n&&n===aW)return pc}return Pr}function mge(e){return z_(e)?xa:G_(e)?pc:Pr}function Dw(e){return pn(e,iW)}function fc(e){return Dw(e)||pn(e,aM)||pn(e,lM)}const yge=39.37,uW=Pr.radius*Math.PI/200,H5=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,Xd=C,W5=/UNIT\[([^\]]+)]/i,cW=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),dW=li()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain:"chains",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),sa=e=>e*e,yu=e=>e*e*e,d0={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937},"clarke-feet":{inBaseUnits:.3047972654},"clarke-yards":{inBaseUnits:.9143917962},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"gold-coast-feet":{inBaseUnits:.3047997101815088},chains:{inBaseUnits:20.1168},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:sa(.001)},"square-centimeters":{inBaseUnits:sa(.01)},"square-decimeters":{inBaseUnits:sa(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:sa(1e3)},"square-inches":{inBaseUnits:sa(.0254)},"square-feet":{inBaseUnits:sa(.3048)},"square-yards":{inBaseUnits:sa(.9144)},"square-miles":{inBaseUnits:sa(1609.344)},"square-us-feet":{inBaseUnits:sa(1200/3937)},acres:{inBaseUnits:.0015625*sa(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*yu(.001)},"cubic-centimeters":{inBaseUnits:1e3*yu(.01)},"cubic-decimeters":{inBaseUnits:1e3*yu(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*yu(1e3)},"cubic-inches":{inBaseUnits:1e3*yu(.0254)},"cubic-feet":{inBaseUnits:1e3*yu(.3048)},"cubic-yards":{inBaseUnits:1e3*yu(.9144)},"cubic-miles":{inBaseUnits:1e3*yu(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},hW=(()=>{const e={};for(const t in d0)for(const r in d0[t].units)e[r]=t;return e})();function pW(e,t,r){return e*d0[r].units[t].inBaseUnits}function fW(e,t,r){return e/d0[r].units[t].inBaseUnits}const q5=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],mW=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function xT(e){const t=hW[e];if(!t)throw new Error("unknown type");return t}function aP(e,t=null){return t=t||xT(e),d0[t].baseUnit===e}function un(e,t,r){if(t===r)return e;const n=xT(t);if(n!==xT(r))throw new Error("incompatible units");const i=aP(t,n)?e:pW(e,t,n);return aP(r,n)?i:fW(i,r,n)}function yW(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function gge(e){return yW(e)}function vge(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function wge(e,t){const r=un(e,t,"meters");return Math.abs(r)<3e3?"meters":"kilometers"}function _ge(e,t){const r=un(e,t,"meters");return Math.abs(r)<1e5?"meters":"kilometers"}function Sge(e,t){const r=un(e,t,"feet");return Math.abs(r)<1e3?"feet":"miles"}function bge(e,t){const r=un(e,t,"feet");return Math.abs(r)<1e5?"feet":"miles"}function Ege(e,t){const r=un(e,t,"square-meters");return Math.abs(r)<3e6?"square-meters":"square-kilometers"}function Tge(e,t){const r=un(e,t,"square-feet");return Math.abs(r)<1e6?"square-feet":"square-miles"}function gW(e,t,r){return un(e,t,"meters")/(r*Math.PI/180)}function Z5(e){return dW.fromJSON(e.toLowerCase())||null}function lP(e){if(e!=null&&!eW(e))return 1;const t=Tc(e);return t>1e5?1:t}function Y5(e){return Tc(e)>=lW(e).metersPerDegree?"meters":B0(e)}function Tc(e,t=Pr.metersPerDegree){return vW(e,!0)??t}function vW(e,t=!1){const r=e?.wkid??null,n=e?.wkt2??e?.wkt??null;let i=null;if(r){if(z_(r))return xa.metersPerDegree;if(G_(r))return pc.metersPerDegree;i=Xd.values[Xd[r]],!i&&t&&cW.has(r)&&(i=uW)}else n&&(X5(n)?i=uP(H5.exec(n),i):K5(n)&&(i=uP(W5.exec(n),i)));return i}function $ge(e){return j_(e)?1:Tc(e)}function uP(e,t){return e?.[1]?J5(e[1]):t}function J5(e){return parseFloat(e.split(",")[1])}function B0(e){const t=e?.wkid??null,r=e?.wkt2??e?.wkt??null;let n=null;if(t)n=Xd.units[Xd[t]];else if(r){const i=X5(r)?H5:K5(r)?W5:null;if(i){const s=i.exec(r);s?.[1]&&(n=_W(s[1]))}}return n!=null?Z5(n):null}function xge(e){const t=B0(e);return t!=null&&q5.includes(t)?t:null}function Mge(e){const t=Y5(e);return t!=null&&q5.includes(t)?t:null}function kge(e){const t=B0(e);return t==null?null:mW.get(t)}function K5(e){return/^GEOCCS/i.test(e)}function X5(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const wW=1e-7;function _W(e){let r=/[\\"']{1}([^\\"']+)/.exec(e)?.[1];if(!r||!Xd.units.includes(r)){const n=J5(e);r=null;const i=Xd.values;for(let s=0;s<i.length;++s)if(Math.abs(n-i[s])<wW){r=Xd.units[s];break}}return r}function Age(e){const t=B0(e);if(t==null)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"chains":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric"}return null}const SW={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},bW={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},EW={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},Cge=li()(SW),Rge=li()(bW),Pge=li()(EW);function wt(e,t,r){let n,i;return t===void 0?(i=e,n=[void 0]):typeof t!="string"?(i=e,n=[void 0],r=t):(i=t,n=Array.isArray(e)?e:[e]),(s,o)=>{const l=s.constructor.prototype;for(const c of n){const d=C4(s,c,i);d.write&&typeof d.write=="object"||(d.write={}),r&&(d.write.target=r),d.write.writer=l[o]}}}var la;let qt=la=class extends ze{static fromJSON(e){if(!e)return null;if(e?.wkid===102100)return la.WebMercator;if(e?.wkid===4326)return la.WGS84;const t=new la;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return lh(this)}get isWebMercator(){return Ca(this)}get isGeographic(){return j_(this)}get isWrappable(){return rW(this)}get metersPerUnit(){return Tc(this)}get unit(){return B0(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===la.WGS84)return new la(V5);if(this===la.WebMercator)return new la(B5);const e=new la;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=me(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:n}=e.imageCoordinateSystem,i=this.imageCoordinateSystem;return t==null||n?JSON.stringify(i)===JSON.stringify(e.imageCoordinateSystem):r?i.id===t&&i.referenceServiceName===r:i.id===t}return pn(this,e)}toJSON(e){return this.write(void 0,e)}};qt.GCS_NAD_1927=null,qt.WGS84=null,qt.WebMercator=null,qt.PlateCarree=null,p([y({readOnly:!0})],qt.prototype,"isWGS84",null),p([y({readOnly:!0})],qt.prototype,"isWebMercator",null),p([y({readOnly:!0})],qt.prototype,"isGeographic",null),p([y({readOnly:!0})],qt.prototype,"isWrappable",null),p([y({type:or,json:{write:!0}})],qt.prototype,"latestWkid",void 0),p([y({readOnly:!0})],qt.prototype,"metersPerUnit",null),p([y({readOnly:!0})],qt.prototype,"unit",null),p([y({type:or,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],qt.prototype,"wkid",void 0),p([y({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],qt.prototype,"wkt",void 0),p([wt("wkt"),wt("web-scene","wkt")],qt.prototype,"writeWkt",null),p([y({type:String,json:{write:!1}})],qt.prototype,"wkt2",void 0),p([y({type:or,json:{write:!0}})],qt.prototype,"vcsWkid",void 0),p([y({type:or,json:{write:!0}})],qt.prototype,"latestVcsWkid",void 0),p([y()],qt.prototype,"imageCoordinateSystem",void 0),qt=la=p([G("esri.geometry.SpatialReference")],qt),qt.prototype.toJSON.isDefaultToJSON=!0,qt.GCS_NAD_1927=He.freeze(new qt({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),qt.WGS84=He.freeze(new qt(V5)),qt.WebMercator=He.freeze(new qt(B5)),qt.PlateCarree=He.freeze(new qt(nW));const _t=qt;let ua=class extends ze{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=_t.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,r){if(t instanceof _t)return t;if(t!=null){const n=new _t;return n.read(t,r),n}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,r){this.cache[t]=r}};p([y()],ua.prototype,"type",void 0),p([y({readOnly:!0})],ua.prototype,"cache",null),p([y({readOnly:!0})],ua.prototype,"extent",null),p([y({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ua.prototype,"hasM",void 0),p([y({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ua.prototype,"hasZ",void 0),p([y({type:_t,json:{write:!0},value:_t.WGS84})],ua.prototype,"spatialReference",void 0),p([At("spatialReference")],ua.prototype,"readSpatialReference",null),ua=p([G("esri.geometry.Geometry")],ua);const Wl=ua,TW=Object.prototype.toString;function $W(e){const t="__accessorMetadata__"in e?oi(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return xW.apply(this,r)}}function xW(e,t,r,n){O_(e,t).cast=n}function MW(e){return(t,r)=>{O_(t,e).cast=t[r]}}function jr(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&TW.call(e[0])==="[object Function]"?$W(e[0]):e.length===1&&typeof e[0]=="string"?MW(e[0]):void 0}const kW=57.29577951308232,AW=.017453292519943;function cP(e){return e*kW}function dP(e){return e*AW}function Ige(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Pr.radius))}function MT(e){return e.wkid!=null||e.wkt!=null}const xb=[0,0];function Fw(e,t,r,n,i){const s=e,o=i;if(o.spatialReference=r,"x"in s&&"x"in o)[o.x,o.y]=t(s.x,s.y,xb,n);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=t(s.xmin,s.ymin,xb,n),[o.xmax,o.ymax]=t(s.xmax,s.ymax,xb,n);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const l="paths"in s?s.paths:s.rings,c=[];let d;for(let m=0;m<l.length;m++){const g=l[m];d=[],c.push(d);for(let w=0;w<g.length;w++)d.push(t(g[w][0],g[w][1],[0,0],n)),g[w].length>2&&d[w].push(g[w][2]),g[w].length>3&&d[w].push(g[w][3])}"paths"in o?o.paths=c:o.rings=c}else if("points"in s&&"points"in o){const l=s.points,c=[];for(let d=0;d<l.length;d++)c[d]=t(l[d][0],l[d][1],[0,0],n),l[d].length>2&&c[d].push(l[d][2]),l[d].length>3&&c[d].push(l[d][3]);o.points=c}return i}function mv(e,t){const r=e&&(MT(e)?e:e.spatialReference),n=t&&(MT(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!r||!n)&&(!!pn(n,r)||Ca(n)&&lh(r)||Ca(r)&&lh(n))}function V_(e,t){if(e==null)return null;const r=e.spatialReference,n=t&&(MT(t)?t:t.spatialReference);return mv(r,n)?pn(r,n)?me(e):Ca(n)?Fw(e,Lp,_t.WebMercator,!1,me(e)):lh(n)?Fw(e,B_,_t.WGS84,!1,me(e)):null:null}function Lp(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const n=dP(t);return r[0]=dP(e)*Pr.radius,r[1]=Pr.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),r}function B_(e,t,r=[0,0],n=!1){if(e===c0[0])r[0]=-180;else if(e===c0[1])r[0]=180;else{const i=cP(e/Pr.radius);r[0]=n?i:i-360*Math.floor((i+180)/360)}return r[1]=cP(Math.PI/2-2*Math.atan(Math.exp(-t/Pr.radius))),r}function Qd(e,t=!1,r=me(e)){return Fw(e,Lp,_t.WebMercator,t,r)}function Dp(e,t=!1,r=me(e)){return Fw(e,B_,_t.WGS84,t,r)}function Q5(e,t){const r=e.x-t.x,n=e.y-t.y,i=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(r*r+n*n+i*i)}function CW(e){return eD(e,tD)?.[0]??null}function RW(e){return eD(e,tD)?.[1]??null}function eD({x:e,y:t,spatialReference:r},n=[0,0]){if(r){if(Ca(r))return B_(e,t,n);if(j_(r))return n[0]=e,n[1]=t,n}return null}const tD=[0,0];var yv;const Mb=[0,0];function hP(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Qn=yv=class extends Wl{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",He.isFrozen(r)?r:r.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,r,n,i){let s;if(Array.isArray(e))s=e,i=t,e=s[0],t=s[1],r=s[2],n=s[3];else if(e&&typeof e=="object"){if(s=e,e=s.x!=null?s.x:s.longitude,t=s.y!=null?s.y:s.latitude,r=s.z,n=s.m,(i=s.spatialReference)&&i.declaredClass!=="esri.geometry.SpatialReference"&&(i=new _t(i)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)Ne.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)Ne.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&i?.isWebMercator){const l=Lp(s.longitude,s.latitude,Mb);e=l[0],t=l[1]}}}else hP(r)?(i=r,r=null):hP(n)&&(i=n,n=null);const o={x:e,y:t};return o.x==null&&o.y!=null?Ne.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&Ne.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),i!=null&&(o.spatialReference=i),r!=null&&(o.z=r),n!=null&&(o.m=n),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return RW(this)}set latitude(e){const{spatialReference:t,x:r}=this;e!=null&&t&&(t.isWebMercator?this._set("y",Lp(r,e,Mb)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return CW(this)}set longitude(e){const{y:t,spatialReference:r}=this;e!=null&&r&&(r.isWebMercator?this._set("x",Lp(e,t,Mb)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new yv;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return yv.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:r,z:n,m:i,spatialReference:s}=this,{z:o,m:l}=e;let{x:c,y:d,spatialReference:m}=e;if(!s.equals(m))if(s.isWebMercator&&m.isWGS84)[c,d]=Lp(c,d),m=s;else{if(!s.isWGS84||!m.isWebMercator)return!1;[c,d]=B_(c,d),m=s}return t===c&&r===d&&n===o&&i===l&&s.wkid===m.wkid}offset(e,t,r){return this.x+=e,this.y+=t,r!=null&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const e=ii(this.spatialReference);if(!e)return this;let t=this.x;const[r,n]=e.valid,i=2*n;let s;return t>n?(s=Math.ceil(Math.abs(t-n)/i),t-=s*i):t<r&&(s=Math.ceil(Math.abs(t-r)/i),t+=s*i),this._set("x",t),this}distance(e){return Q5(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};p([y({readOnly:!0})],Qn.prototype,"cache",null),p([y({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Qn.prototype,"hasM",null),p([y({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Qn.prototype,"hasZ",null),p([y({type:Number})],Qn.prototype,"latitude",null),p([y({type:Number})],Qn.prototype,"longitude",null),p([y({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),jr(e=>isNaN(e)?e:ns(e))],Qn.prototype,"x",void 0),p([wt("x")],Qn.prototype,"writeX",null),p([At("x")],Qn.prototype,"readX",null),p([y({type:Number,json:{write:!0}})],Qn.prototype,"y",void 0),p([y({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Qn.prototype,"z",void 0),p([y({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Qn.prototype,"m",void 0),Qn=yv=p([G("esri.geometry.Point")],Qn),Qn.prototype.toJSON.isDefaultToJSON=!0;const yt=Qn,kb=[0,0];function H0(e,t){return t!=null&&ri(e,t.x,t.y,t.z)}function Nge(e,t){if(!t.points||t.points.length)return!1;for(const r of t.points)if(!cf(e,r))return!1;return!0}function PW(e,t){const{xmin:r,ymin:n,zmin:i,xmax:s,ymax:o,zmax:l}=t;return e.hasZ&&t.hasZ?ri(e,r,n,i)&&ri(e,r,o,i)&&ri(e,s,o,i)&&ri(e,s,n,i)&&ri(e,r,n,l)&&ri(e,r,o,l)&&ri(e,s,o,l)&&ri(e,s,n,l):ri(e,r,n)&&ri(e,r,o)&&ri(e,s,o)&&ri(e,s,n)}function cf(e,t){return ri(e,t[0],t[1])}function OW(e,t){return ri(e,t[0],t[1],t[2])}function ri(e,t,r,n){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(n==null||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function uM(e,t){return kb[1]=t.y,kb[0]=t.x,IW(e,kb)}function IW(e,t){return cM(e.rings,t)}function cM(e,t){if(!e)return!1;if(NW(e))return pP(!1,e,t);let r=!1;for(let n=0,i=e.length;n<i;n++)r=pP(r,e[n],t);return r}function NW(e){return!Array.isArray(e[0][0])}function pP(e,t,r){const[n,i]=r;let s=e,o=0;for(let l=0,c=t.length;l<c;l++){o++,o===c&&(o=0);const[d,m]=t[l],[g,w]=t[o];(m<i&&w>=i||w<i&&m>=i)&&d+(i-m)/(w-m)*(g-d)<n&&(s=!s)}return s}function LW(e,t){return H0(e,t)}function DW(e,t){const r=e.hasZ&&t.hasZ;let n,i,s;if(e.xmin<=t.xmin){if(n=t.xmin,e.xmax<n)return!1}else if(n=e.xmin,t.xmax<n)return!1;if(e.ymin<=t.ymin){if(i=t.ymin,e.ymax<i)return!1}else if(i=e.ymin,t.ymax<i)return!1;if(r&&t.hasZ){if(e.zmin<=t.zmin){if(s=t.zmin,e.zmax<s)return!1}else if(s=e.zmin,t.zmax<s)return!1}return!0}function FW(e,t){const{points:r,hasZ:n}=t,i=n?OW:cf;for(const s of r)if(i(e,s))return!0;return!1}const uh=[0,0],ch=[0,0],dh=[0,0],hh=[0,0],UW=[uh,ch,dh,hh],rD=[[dh,uh],[uh,ch],[ch,hh],[hh,dh]];function jW(e,t){return zW(e,t.rings)}function zW(e,t){uh[0]=e.xmin,uh[1]=e.ymax,ch[0]=e.xmax,ch[1]=e.ymax,dh[0]=e.xmin,dh[1]=e.ymin,hh[0]=e.xmax,hh[1]=e.ymin;for(const r of UW)if(cM(t,r))return!0;for(const r of t){if(!r.length)continue;let n=r[0];if(cf(e,n))return!0;for(let i=1;i<r.length;i++){const s=r[i];if(cf(e,s)||nD(n,s,rD))return!0;n=s}}return!1}function GW(e,t){uh[0]=e.xmin,uh[1]=e.ymax,ch[0]=e.xmax,ch[1]=e.ymax,dh[0]=e.xmin,dh[1]=e.ymin,hh[0]=e.xmax,hh[1]=e.ymin;const r=t.paths;for(const n of r){if(!r.length)continue;let i=n[0];if(cf(e,i))return!0;for(let s=1;s<n.length;s++){const o=n[s];if(cf(e,o)||nD(i,o,rD))return!0;i=o}}return!1}const ln=[0,0];function VW(e){for(let t=0;t<e.length;t++){const r=e[t];for(let i=0;i<r.length-1;i++){const s=r[i],o=r[i+1];for(let l=t+1;l<e.length;l++)for(let c=0;c<e[l].length-1;c++){const d=e[l][c],m=e[l][c+1];if(kT(s,o,d,m,ln)&&!(ln[0]===s[0]&&ln[1]===s[1]||ln[0]===d[0]&&ln[1]===d[1]||ln[0]===o[0]&&ln[1]===o[1]||ln[0]===m[0]&&ln[1]===m[1]))return!0}}const n=r.length;if(!(n<=4))for(let i=0;i<n-3;i++){let s=n-1;i===0&&(s=n-2);const o=r[i],l=r[i+1];for(let c=i+2;c<s;c++){const d=r[c],m=r[c+1];if(kT(o,l,d,m,ln)&&!(ln[0]===o[0]&&ln[1]===o[1]||ln[0]===d[0]&&ln[1]===d[1]||ln[0]===l[0]&&ln[1]===l[1]||ln[0]===m[0]&&ln[1]===m[1]))return!0}}}return!1}function nD(e,t,r){for(let n=0;n<r.length;n++)if(kT(e,t,r[n][0],r[n][1]))return!0;return!1}function kT(e,t,r,n,i){const[s,o]=e,[l,c]=t,[d,m]=r,[g,w]=n,S=g-d,$=s-d,x=l-s,M=w-m,P=o-m,F=c-o,V=M*x-S*F;if(V===0)return!1;const U=(S*P-M*$)/V,z=(x*P-F*$)/V;return U>=0&&U<=1&&z>=0&&z<=1&&(i&&(i[0]=s+U*(l-s),i[1]=o+U*(c-o)),!0)}function BW(e){switch(e){case"esriGeometryEnvelope":case"extent":return DW;case"esriGeometryMultipoint":case"multipoint":return FW;case"esriGeometryPoint":case"point":return LW;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return jW;case"esriGeometryPolyline":case"polyline":return GW}}var xs;function HW(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function gu(e,t,r){return t==null?r:r==null?t:e(t,r)}let Kr=xs=class extends Wl{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,n,i){return HW(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?_t.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:n,spatialReference:i??_t.WGS84}}static fromBounds(e,t){return new xs({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new xs({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new yt({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new xs;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&mv(t,r)&&(e=t.isWebMercator?Qd(e):Dp(e,!0)),e.type==="point"?H0(this,e):e.type==="extent"&&PW(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&mv(t,r)&&(e=t.isWebMercator?Qd(e):Dp(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,n=this.height*t;if(this.xmin+=r,this.ymin+=n,this.xmax-=r,this.ymax-=n,this.hasZ){const i=(this.zmax-this.zmin)*t;this.zmin+=i,this.zmax-=i}if(this.hasM){const i=(this.mmax-this.mmin)*t;this.mmin+=i,this.mmax-=i}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!pn(t,r)&&mv(t,r)&&(e=t.isWebMercator?Qd(e):Dp(e,!0)),BW(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=gu(Math.min,this.zmin,e.zmin),this.zmax=gu(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=gu(Math.min,this.mmin,e.mmin),this.mmax=gu(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=gu(Math.max,this.zmin,e.zmin),this.zmax=gu(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=gu(Math.max,this.mmin,e.mmin),this.mmax=gu(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=ii(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const n=t.isWebMercator?Dp(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(n.x=Ab(n.x,e).x),this.spatialReference=new _t(F3((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:n.x}))}return this}_getCM(e){let t=null;const[r,n]=e.valid,i=this.xmin,s=this.xmax;return i>=r&&i<=n&&s>=r&&s<=n||(t=this.center),t}_normalize(e,t,r){const n=this.spatialReference;if(!n)return this;const i=r??ii(n);if(i==null)return this;const s=this._getParts(i).map(c=>c.extent);if(s.length<2)return s[0]||this;if(s.length>2)return e?this._shiftCM(i):this.set({xmin:i.valid[0],xmax:i.valid[1]});if(e)return this._shiftCM(i);if(t)return s;let o=!0,l=!0;return s.forEach(c=>{c.hasZ||(o=!1),c.hasM||(l=!1)}),{rings:s.map(c=>{const d=[[c.xmin,c.ymin],[c.xmin,c.ymax],[c.xmax,c.ymax],[c.xmax,c.ymin],[c.xmin,c.ymin]];if(o){const m=(c.zmax-c.zmin)/2;for(let g=0;g<d.length;g++)d[g].push(m)}if(l){const m=(c.mmax-c.mmin)/2;for(let g=0;g<d.length;g++)d[g].push(m)}return d}),hasZ:o,hasM:l,spatialReference:n}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:i,ymax:s,spatialReference:o}=this,l=this.width,c=this.xmin,d=this.xmax;let m;e=e||ii(o);const[g,w]=e.valid;m=Ab(this.xmin,e);const S=m.x,$=m.frameId;m=Ab(this.xmax,e);const x=m.x,M=m.frameId,P=S===x&&l>0;if(l>2*w){const F=new xs(c<d?S:x,i,w,s,o),V=new xs(g,i,c<d?x:S,s,o),U=new xs(0,i,w,s,o),z=new xs(g,i,0,s,o),Z=[],Q=[];F.contains(U)&&Z.push($),F.contains(z)&&Q.push($),V.contains(U)&&Z.push(M),V.contains(z)&&Q.push(M);for(let pe=$+1;pe<M;pe++)Z.push(pe),Q.push(pe);t.push({extent:F,frameIds:[$]},{extent:V,frameIds:[M]},{extent:U,frameIds:Z},{extent:z,frameIds:Q})}else S>x||P?t.push({extent:new xs(S,i,w,s,o),frameIds:[$]},{extent:new xs(g,i,x,s,o),frameIds:[M]}):t.push({extent:new xs(S,i,x,s,o),frameIds:[$]});this.cache._parts=t}const r=this.hasZ,n=this.hasM;if(r||n){const i={};r&&(i.zmin=this.zmin,i.zmax=this.zmax),n&&(i.mmin=this.mmin,i.mmax=this.mmax);for(let s=0;s<t.length;s++)t[s].extent.set(i)}return t}};function Ab(e,t){const[r,n]=t.valid,i=2*n;let s,o=0;return e>n?(s=Math.ceil(Math.abs(e-n)/i),e-=s*i,o=s):e<r&&(s=Math.ceil(Math.abs(e-r)/i),e+=s*i,o=-s),{x:e,frameId:o}}p([y({readOnly:!0})],Kr.prototype,"cache",null),p([y({readOnly:!0})],Kr.prototype,"center",null),p([y({readOnly:!0})],Kr.prototype,"extent",null),p([y({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Kr.prototype,"hasM",null),p([y({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Kr.prototype,"hasZ",null),p([y({readOnly:!0})],Kr.prototype,"height",null),p([y({readOnly:!0})],Kr.prototype,"width",null),p([y({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Kr.prototype,"xmin",void 0),p([y({type:Number,json:{write:!0}})],Kr.prototype,"ymin",void 0),p([y({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Kr.prototype,"mmin",void 0),p([y({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Kr.prototype,"zmin",void 0),p([y({type:Number,json:{write:!0}})],Kr.prototype,"xmax",void 0),p([y({type:Number,json:{write:!0}})],Kr.prototype,"ymax",void 0),p([y({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Kr.prototype,"mmax",void 0),p([y({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Kr.prototype,"zmax",void 0),Kr=xs=p([G("esri.geometry.Extent")],Kr),Kr.prototype.toJSON.isDefaultToJSON=!0;const tr=Kr;function df(e,t,r=!1){let{hasM:n,hasZ:i}=e;Array.isArray(t)?t.length!==4||n||i?t.length===3&&r&&!n?(i=!0,n=!1):t.length===3&&n&&i&&(n=!1,i=!1):(n=!0,i=!0):(i=!i&&t.hasZ&&(!n||t.hasM),n=!n&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=n}var AT;function fP(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}function WW(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Mu=AT=class extends Wl{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):WW(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const n=r.points?.[0];return n&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=n.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=n.length>3:r.hasM===void 0&&(r.hasM=n.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new tr,r=this.hasZ,n=this.hasM,i=r?3:2,s=e[0],o=fP(Math.min),l=fP(Math.max);let c,d,m,g,[w,S]=s,[$,x]=s;for(let M=0,P=e.length;M<P;M++){const F=e[M],[V,U]=F;if(w=o(w,V),S=o(S,U),$=l($,V),x=l(x,U),r&&F.length>2){const z=F[2];c=o(c,z),m=l(m,z)}if(n&&F.length>i){const z=F[i];d=o(d,z),g=l(g,z)}}return t.xmin=w,t.ymin=S,t.xmax=$,t.ymax=x,t.spatialReference=this.spatialReference,r?(t.zmin=c,t.zmax=m):(t.zmin=void 0,t.zmax=void 0),n?(t.mmin=d,t.mmax=g):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=me(this.points)}addPoint(e){return df(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:me(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new AT(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(r.z=t[2],n=3),this.hasM&&(r.m=t[n]),new yt(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new yt(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(df(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};p([y({readOnly:!0})],Mu.prototype,"cache",null),p([y()],Mu.prototype,"extent",null),p([y({type:[[Number]],json:{write:{isRequired:!0}}})],Mu.prototype,"points",void 0),p([wt("points")],Mu.prototype,"writePoints",null),Mu=AT=p([G("esri.geometry.Multipoint")],Mu),Mu.prototype.toJSON.isDefaultToJSON=!0;const H_=Mu;function Lge(e){const t=[];for(e.reset();e.nextPath();){const r=[];for(;e.nextPoint();)r.push([e.x,e.y]);t.push(r)}return e.reset(),t}function qW(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var Uw;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(Uw||(Uw={}));function dM(e,t){const r=t[0]-e[0],n=t[1]-e[1];if(e.length>2&&t.length>2){const i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}return Math.sqrt(r*r+n*n)}function ZW(e,t,r){const n=e[0]+r*(t[0]-e[0]),i=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[n,i,e[2]+r*(t[2]-e[2])]:[n,i]}function YW(e,t,r,n){return JW(e,t,r[n],r[n+1])}function JW(e,t,r,n){const[i,s]=t,[o,l]=r,[c,d]=n,m=c-o,g=d-l,w=m*m+g*g,S=(i-o)*m+(s-l)*g,$=Math.min(1,Math.max(0,S/w));return e[0]=o+m*$,e[1]=l+g*$,e}function Dge(e,t,r,n,i,s){let o=r,l=n,c=i-o,d=s-l;if(c!==0||d!==0){const m=((e-o)*c+(t-l)*d)/(c*c+d*d);m>1?(o=i,l=s):m>0&&(o+=c*m,l+=d*m)}return c=e-o,d=t-l,c*c+d*d}function iD(e,t){return ZW(e,t,.5)}function Fge(e){const t=e.length;let r=0;for(let n=0;n<t-1;++n)r+=dM(e[n],e[n+1]);return r}function sD(e,t=Uw.X,r=Uw.Y){let n=0;const i=e.length;let s=e[0];for(let o=1;o<i;o++){const l=e[o];n+=(l[t]-s[t])*(l[r]+s[r]),s=l}if(!oD(e)){const o=e[0];n+=(o[t]-s[t])*(o[r]+s[r])}return n>=0}function oD(e){const t=e.length;return t<3||x_(e[0],e[t-1])}function Uge(e){"rings"in e&&(KW(e),XW(e))}function KW(e){if(!("rings"in e))return!1;let t=!1;for(const r of e.rings)oD(r)||(r.push(r[0].slice()),t=!0);return t}function XW(e){if(!("rings"in e)||e.rings.length===0||sD(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function jge(e){return e.type!=="polygon"&&e.type!=="polyline"||QW(e.type==="polygon"?e.rings:e.paths,e.spatialReference),e}function QW(e,t){const r=ii(t);if(!r)return;const n=r.valid[0],i=r.valid[1],s=i-n;for(const o of e){let l=1/0,c=-1/0;for(const m of o){const g=eq(m[0],n,i);l=Math.min(l,g),c=Math.max(c,g),m[0]=g}const d=c-l;s-d<d&&o.forEach(m=>{m[0]<0&&(m[0]+=s)})}}function eq(e,t,r){const n=r-t;return e<t?r-(t-e)%n:e>r?t+(e-t)%n:e}function zge(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if(e.type==="point"||e.type==="mesh"||e.type==="extent")return!0;if(e.type==="multipoint")return e.points.length===t.points.length;const[r,n]=e.type==="polyline"?[e.paths,t.paths]:[e.rings,t.rings];return r.length===n.length&&r.every((i,s)=>i.length===n[s].length)}function Gge(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function tq(e){return e?rq(e.rings,e.hasZ??!1):null}function rq(e,t){if(!e?.length)return null;const r=[],n=[],i=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,o=e.length;s<o;s++){const l=aD(e[s],t,i);l&&n.push(l)}if(n.sort((s,o)=>{let l=s[2]-o[2];return l===0&&t&&(l=s[4]-o[4]),l}),n.length&&(r[0]=n[0][0],r[1]=n[0][1],t&&(r[2]=n[0][3]),(r[0]<i[0]||r[0]>i[1]||r[1]<i[2]||r[1]>i[3]||t&&(r[2]<i[4]||r[2]>i[5]))&&(r.length=0)),!r.length){const s=e[0]&&e[0].length?nq(e[0],t):null;if(!s)return null;r[0]=s[0],r[1]=s[1],t&&s.length>2&&(r[2]=s[2])}return r}function aD(e,t,r){let n=0,i=0,s=0,o=0,l=0;const c=e.length?e[0][0]:0,d=e.length?e[0][1]:0,m=e.length&&t?e[0][2]:0;for(let w=0;w<e.length;w++){const S=e[w],$=e[(w+1)%e.length],[x,M,P]=S,F=x-c,V=M-d,[U,z,Z]=$,Q=U-c,pe=z-d,ye=F*pe-Q*V;if(o+=ye,n+=(F+Q)*ye,i+=(V+pe)*ye,t&&S.length>2&&$.length>2){const ge=P-m,Pe=Z-m,Me=F*Pe-Q*ge;s+=(ge+Pe)*Me,l+=Me}x<r[0]&&(r[0]=x),x>r[1]&&(r[1]=x),M<r[2]&&(r[2]=M),M>r[3]&&(r[3]=M),t&&(P<r[4]&&(r[4]=P),P>r[5]&&(r[5]=P))}if(o>0&&(o*=-1),l>0&&(l*=-1),!o)return null;o*=.5,l*=.5;const g=[n/(6*o)+c,i/(6*o)+d,o];return t&&(r[4]===r[5]||l===0?(g[3]=(r[4]+r[5])/2,g[4]=0):(g[3]=s/(6*l)+m,g[4]=l)),g}function Vge(e,t){let r=0,n=0,i=0;e.nextPoint();const s=e.pathSize?e.x:0,o=e.pathSize?e.y:0;for(let l=0;l<e.pathSize;l++){e.seekInPath(l);const c=[e.x,e.y];e.seekInPath((l+1)%e.pathSize);const d=[e.x,e.y],[m,g]=c,w=m-s,S=g-o,[$,x]=d,M=$-s,P=x-o,F=w*P-M*S;i+=F,r+=(w+M)*F,n+=(S+P)*F,m<t[0]&&(t[0]=m),m>t[1]&&(t[1]=m),g<t[2]&&(t[2]=g),g>t[3]&&(t[3]=g)}return i>0&&(i*=-1),i?(i*=.5,[r/(6*i)+s,n/(6*i)+o,i]):null}function nq(e,t){const r=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let i=0,s=0,o=0,l=0;for(let c=0,d=e.length;c<d-1;c++){const m=e[c],g=e[c+1];if(m&&g){r[0]=m[0],r[1]=m[1],n[0]=g[0],n[1]=g[1],t&&m.length>2&&g.length>2&&(r[2]=m[2],n[2]=g[2]);const w=dM(r,n);if(w){i+=w;const S=iD(m,g);s+=w*S[0],o+=w*S[1],t&&S.length>2&&(l+=w*S[2])}}}return i>0?t?[s/i,o/i,l/i]:[s/i,o/i]:e.length?e[0]:null}function iq(e){const{hasZ:t,totalSize:r}=e;if(r===0)return null;const n=[],i=[],s=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const o=aD(qW(e),e.hasZ,s);o&&i.push(o)}if(i.sort((o,l)=>{let c=o[2]-l[2];return c===0&&t&&(c=o[4]-l[4]),c}),i.length&&(n[0]=i[0][0],n[1]=i[0][1],t&&(n[2]=i[0][3]),(n[0]<s[0]||n[0]>s[1]||n[1]<s[2]||n[1]>s[3]||t&&(n[2]<s[4]||n[2]>s[5]))&&(n.length=0)),!n.length){e.reset(),e.nextPath();const o=e.pathSize?sq(e):null;if(!o)return null;n[0]=o[0],n[1]=o[1],t&&o.length>2&&(n[2]=o[2])}return n}function sq(e){const{hasZ:t}=e,r=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let i=0,s=0,o=0,l=0;if(e.nextPoint()){let c=e.x,d=e.y,m=e.z;for(;e.nextPoint();){const g=e.x,w=e.y,S=e.z;r[0]=c,r[1]=d,n[0]=g,n[1]=w,t&&(r[2]=m,n[2]=S);const $=dM(r,n);if($){i+=$;const x=iD(r,n);s+=$*x[0],o+=$*x[1],t&&x.length>2&&(l+=$*x[2])}c=g,d=w,m=S}}return i>0?t?[s/i,o/i,l/i]:[s/i,o/i]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const oq=1e-6;function Bge(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<oq){const i=iq(e);return i?[i[0],i[1]]:null}const r=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const n=[e.x,e.y];for(e.reset();e.nextPath();)lq(r,n,e);return r[0]*=1/t,r[1]*=1/t,r[0]+=n[0],r[1]+=n[1],r}const aq=1/3;function lq(e,t,r){if(!e||!r||r.pathSize<3)return null;r.nextPoint();const n=r.x,i=r.y;r.nextPoint();let s,o=r.x-n,l=r.y-i,c=0,d=0;for(;r.nextPoint();)c=r.x-n,d=r.y-i,s=.5*aq*(c*l-d*o),e[0]+=s*(o+c),e[1]+=s*(l+d),o=c,l=d;const m=r.getCurrentRingArea(),g=[n,i];return g[0]-=t[0],g[1]-=t[1],g[0]*=m,g[1]*=m,e[0]+=g[0],e[1]+=g[1],e}const mP=new Float32Array(1);function Hge(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function Uo(e,t,r){return Math.min(Math.max(e,t),r)}function Wge(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function zm(e,t,r){return e+(t-e)*r}function qge(e,t,r,n,i){return zm(n,i,(e-t)/(r-t))}function W_(e){return e*Math.PI/180}function lD(e){return 180*e/Math.PI}function Zge(e){return Math.acos(Uo(e,-1,1))}function uq(e){return Math.asin(Uo(e,-1,1))}function Cb(e,t,r=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=r}const jw=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function CT(e){return jw.setFloat64(0,e),jw.getBigInt64(0)}function cq(e){return jw.setBigInt64(0,e),jw.getFloat64(0)}const gv=BigInt("1000000"),dq=uD(1);function uD(e){const t=CT(e=Math.abs(e)),r=cq(t<=gv?gv:t-gv);return Math.abs(e-r)}function Yge(e,t,r=dq){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(r!=null&&uD(Math.min(Math.abs(e),Math.abs(t)))<r)return Math.abs(e-t)<=r;const n=CT(e),i=CT(t);return n<0!=i<0?!1:!((n<i?i-n:n-i)>gv)}function Jge(e){return cD(Math.max(-yP,Math.min(e,yP)))}function cD(e){return mP[0]=e,mP[0]}function Kge(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],n=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(Cb(t,1)&&Cb(r,1)&&Cb(n,1))}const yP=cD(34028234663852886e22);function Xge(e,t,r){if(r===void 0||+r==0)return Math[e](t);if(t=+t,r=+r,isNaN(t)||typeof r!="number"||r%1!=0)return NaN;let n=t.toString().split("e");return n=(t=Math[e](+(n[0]+"e"+(n[1]?+n[1]-r:-r)))).toString().split("e"),+(n[0]+"e"+(n[1]?+n[1]+r:r))}function Ri(e=pq){return[e[0],e[1],e[2],e[3]]}function dD(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function Qge(e,t,r,n,i=Ri()){return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function e1e(e,t=Ri()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function t1e(e,t){return new tr({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function r1e(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function n1e(e,t,r){if(t!=null)if("length"in t)RT(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}else dD(r,e)}function hD(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function pD(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function i1e(e){return hD(e)*pD(e)}function s1e(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function o1e(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function a1e(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function hq(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function l1e(e){return e?dD(e,gP):Ri(gP)}function RT(e){return e!=null&&e.length===4}function u1e(e,t){return RT(e)&&RT(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const gP=[1/0,1/0,-1/0,-1/0],pq=[0,0,0,0];function fD(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function mD(e){return e.points!==void 0}function yD(e){return e.x!==void 0&&e.y!==void 0}function gD(e){return e.paths!==void 0}function vD(e){return e.rings!==void 0}function wD(e){function t(r,n){return r==null?n:n==null?r:e(r,n)}return t}const sc=wD(Math.min),oc=wD(Math.max);function c1e(e,t){return gD(t)?hf(e,t.paths,!1,!1):vD(t)?hf(e,t.rings,!1,!1):mD(t)?hM(e,t.points,!1,!1,!1,!1):fD(t)?_D(e,t):(yD(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function d1e(e){let t,r,n,i;for(e.reset(),t=n=1/0,r=i=-1/0;e.nextPath();){const s=fq(e);t=Math.min(s[0],t),n=Math.min(s[1],n),r=Math.max(s[2],r),i=Math.max(s[3],i)}return Ri([t,n,r,i])}function fq(e){let t,r,n,i;for(t=n=1/0,r=i=-1/0;e.nextPoint();)t=Math.min(e.x,t),n=Math.min(e.y,n),r=Math.max(e.x,r),i=Math.max(e.y,i);return Ri([t,n,r,i])}function h1e(e,t){return gD(t)?hf(e,t.paths,!0,!1):vD(t)?hf(e,t.rings,!0,!1):mD(t)?hM(e,t.points,!0,!1,!0,!1):fD(t)?_D(e,t,!0,!1,!0,!1):(yD(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function hf(e,t,r,n){const i=r?3:2;if(!t.length||!t[0].length)return null;let s,o,l,c,[d,m]=t[0][0],[g,w]=t[0][0];for(let S=0;S<t.length;S++){const $=t[S];for(let x=0;x<$.length;x++){const M=$[x],[P,F]=M;if(d=sc(d,P),m=sc(m,F),g=oc(g,P),w=oc(w,F),r&&M.length>2){const V=M[2];s=sc(s,V),o=oc(o,V)}if(n&&M.length>i){const V=M[i];l=sc(s,V),c=oc(o,V)}}}return r?n?(e[0]=d,e[1]=m,e[2]=s,e[3]=l,e[4]=g,e[5]=w,e[6]=o,e[7]=c,e.length=8,e):(e[0]=d,e[1]=m,e[2]=s,e[3]=g,e[4]=w,e[5]=o,e.length=6,e):n?(e[0]=d,e[1]=m,e[2]=l,e[3]=g,e[4]=w,e[5]=c,e.length=6,e):(e[0]=d,e[1]=m,e[2]=g,e[3]=w,e.length=4,e)}function _D(e,t,r,n,i,s){const o=t.xmin,l=t.xmax,c=t.ymin,d=t.ymax;let m=t.zmin,g=t.zmax,w=t.mmin,S=t.mmax;return i?(m=m||0,g=g||0,s?(w=w||0,S=S||0,e[0]=o,e[1]=c,e[2]=m,e[3]=w,e[4]=l,e[5]=d,e[6]=g,e[7]=S,e):(e[0]=o,e[1]=c,e[2]=m,e[3]=l,e[4]=d,e[5]=g,e)):s?(w=w||0,S=S||0,e[0]=o,e[1]=c,e[2]=w,e[3]=l,e[4]=d,e[5]=S,e):(e[0]=o,e[1]=c,e[2]=l,e[3]=d,e)}function hM(e,t,r,n,i,s){const o=r?3:2,l=n&&s,c=r&&i;if(!t.length||!t[0].length)return null;let d,m,g,w,[S,$]=t[0],[x,M]=t[0];for(let P=0;P<t.length;P++){const F=t[P],[V,U]=F;if(S=sc(S,V),$=sc($,U),x=oc(x,V),M=oc(M,U),c&&F.length>2){const z=F[2];d=sc(d,z),m=oc(m,z)}if(l&&F.length>o){const z=F[o];g=sc(d,z),w=oc(m,z)}}return i?(d=d||0,m=m||0,s?(g=g||0,w=w||0,e[0]=S,e[1]=$,e[2]=d,e[3]=g,e[4]=x,e[5]=M,e[6]=m,e[7]=w,e):(e[0]=S,e[1]=$,e[2]=d,e[3]=x,e[4]=M,e[5]=m,e)):s?(g=g||0,w=w||0,e[0]=S,e[1]=$,e[2]=g,e[3]=x,e[4]=M,e[5]=w,e):(e[0]=S,e[1]=$,e[2]=x,e[3]=M,e)}function mq(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function yq(e){return e.points!==void 0}function gq(e){return e.x!==void 0&&e.y!==void 0}function vq(e){return e.paths!==void 0}function wq(e){return e.rings!==void 0}const pM=[];function SD(e,t,r,n){return{xmin:e,ymin:t,xmax:r,ymax:n}}function bD(e,t,r,n,i,s){return{xmin:e,ymin:t,zmin:r,xmax:n,ymax:i,zmax:s}}function ED(e,t,r,n,i,s){return{xmin:e,ymin:t,mmin:r,xmax:n,ymax:i,mmax:s}}function TD(e,t,r,n,i,s,o,l){return{xmin:e,ymin:t,zmin:r,mmin:n,xmax:i,ymax:s,zmax:o,mmax:l}}function fM(e,t=!1,r=!1){return t?r?TD(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):bD(e[0],e[1],e[2],e[3],e[4],e[5]):r?ED(e[0],e[1],e[2],e[3],e[4],e[5]):SD(e[0],e[1],e[2],e[3])}function p1e(e){return e?mq(e)?e:gq(e)?Sq(e):wq(e)?$D(e):vq(e)?xD(e):yq(e)?_q(e):null:null}function _q(e){const{hasZ:t,hasM:r,points:n}=e;return fM(hM(pM,n,t??!1,r??!1),t,r)}function Sq(e){const{x:t,y:r,z:n,m:i}=e,s=i!=null;return n!=null?s?TD(t,r,n,i,t,r,n,i):bD(t,r,n,t,r,n):s?ED(t,r,i,t,r,i):SD(t,r,t,r)}function $D(e){const{hasZ:t,hasM:r,rings:n}=e,i=hf(pM,n,t??!1,r??!1);return i?fM(i,t,r):null}function xD(e){const{hasZ:t,hasM:r,paths:n}=e,i=hf(pM,n,t??!1,r??!1);return i?fM(i,t,r):null}var vv;function vP(e){return!Array.isArray(e[0])}function bq(e){return typeof e[0]?.[0]=="number"}function Eq(e){if(!e)return;let{rings:t,hasM:r,hasZ:n,spatialReference:i}=e;switch(t??=[],bq(t)&&(t=[t]),t[0]?.[0]?.length){case 4:n??=!0,r??=!0;break;case 3:n??=r!==!0,r??=!n;break;default:n??=!1,r??=!1}return i??=_t.WGS84,{...e,hasM:r,hasZ:n,rings:t,spatialReference:i}}let Sa=vv=class extends Wl{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:r}=e;let n=!1,i=!1;for(const o of t)o.hasZ&&(n=!0),o.hasM&&(i=!0);const s={rings:t.map(o=>{const l=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(n&&o.hasZ){const c=o.zmin+.5*(o.zmax-o.zmin);for(let d=0;d<l.length;d++)l[d].push(c)}if(i&&o.hasM){const c=o.mmin+.5*(o.mmax-o.mmin);for(let d=0;d<l.length;d++)l[d].push(c)}return l}),spatialReference:r};return n&&(s.hasZ=!0),i&&(s.hasM=!0),new vv(s)}constructor(e){super(Eq(e)),this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=tq(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new yt;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=$D(this);if(!t)return null;const r=new tr(t);return r.spatialReference=e,r}get isSelfIntersecting(){return VW(this.rings)}writeRings(e,t){t.rings=me(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(vP(e)){const n=[];for(let i=0,s=e.length;i<s;i++)n[i]=e[i].toArray();t[r]=n}else t[r]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new vv;return e.spatialReference=this.spatialReference,e.rings=me(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;if(t!=null!=(r!=null)||t!=null&&r!=null&&!t.equals(r)||this.rings.length!==e.rings.length)return!1;const n=([i,s,o,l],[c,d,m,g])=>i===c&&s===d&&(o==null&&m==null||o===m)&&(l==null&&g==null||l===g);for(let i=0;i<this.rings.length;i++){const s=this.rings[i],o=e.rings[i];if(!x_(s,o,n))return!1}return!0}contains(e){if(!e)return!1;const t=V_(e,this.spatialReference);return uM(this,t??e)}isClockwise(e){const t=vP(e)?e.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):e;return sD(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new yt(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new yt(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new yt(r[0],r[1],r[2],r[3],this.spatialReference):new yt(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(df(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new yt(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,n=t.map(i=>new yt(i,r));return this.notifyChange("rings"),n}setPoint(e,t,r){return this._validateInputs(e,t)?(df(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const n=this.rings[e];if(r&&(t<0||t>n.length)||!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};p([y({readOnly:!0})],Sa.prototype,"cache",null),p([y({readOnly:!0})],Sa.prototype,"centroid",null),p([y({readOnly:!0})],Sa.prototype,"extent",null),p([y({readOnly:!0})],Sa.prototype,"isSelfIntersecting",null),p([y({type:[[[Number]]],json:{write:{isRequired:!0}}})],Sa.prototype,"rings",void 0),p([wt("rings")],Sa.prototype,"writeRings",null),Sa=vv=p([G("esri.geometry.Polygon")],Sa);const Ra=Sa;Sa.prototype.toJSON.isDefaultToJSON=!0;var PT;function Tq(e){return!Array.isArray(e[0])}function $q(e){return typeof e[0]?.[0]=="number"}function xq(e){if(!e)return;let{paths:t,hasM:r,hasZ:n,spatialReference:i}=e;switch(t??=[],$q(t)&&(t=[t]),t[0]?.[0]?.length){case 4:n??=!0,r??=!0;break;case 3:n??=r!==!0,r??=!n;break;default:n??=!1,r??=!1}return i??=_t.WGS84,{...e,hasM:r,hasZ:n,paths:t,spatialReference:i}}let qu=PT=class extends Wl{constructor(e){super(xq(e)),this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=xD(this);if(!t)return null;const r=new tr(t);return r.spatialReference=e,r}writePaths(e,t){t.paths=me(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(Tq(e)){const n=[];for(let i=0,s=e.length;i<s;i++)n[i]=e[i].toArray();t[r]=n}else t[r]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new PT;return e.spatialReference=this.spatialReference,e.paths=me(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new yt(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new yt(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new yt(r[0],r[1],r[2],r[3],this.spatialReference):new yt(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(df(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,n=t.map(i=>new yt(i,r));return this.notifyChange("paths"),n}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new yt(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(df(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const n=this.paths[e];if(r&&(t<0||t>n.length)||!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};p([y({readOnly:!0})],qu.prototype,"cache",null),p([y({readOnly:!0})],qu.prototype,"extent",null),p([y({type:[[[Number]]],json:{write:{isRequired:!0}}})],qu.prototype,"paths",void 0),p([wt("paths")],qu.prototype,"writePaths",null),qu=PT=p([G("esri.geometry.Polyline")],qu);const Ao=qu;qu.prototype.toJSON.isDefaultToJSON=!0;const Mq=li()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),f1e=li()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function MD(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function kD(e){return e.points!==void 0}function AD(e){return e.x!==void 0&&e.y!==void 0}function CD(e){return e.paths!==void 0}function mM(e){return e.rings!==void 0}function pf(e){return e==null?null:e instanceof Wl?e:AD(e)?yt.fromJSON(e):CD(e)?Ao.fromJSON(e):mM(e)?Ra.fromJSON(e):kD(e)?H_.fromJSON(e):MD(e)?tr.fromJSON(e):null}function yM(e){return e?AD(e)?"esriGeometryPoint":CD(e)?"esriGeometryPolyline":mM(e)?"esriGeometryPolygon":MD(e)?"esriGeometryEnvelope":kD(e)?"esriGeometryMultipoint":null:null}const kq={esriGeometryPoint:yt,esriGeometryPolyline:Ao,esriGeometryPolygon:Ra,esriGeometryEnvelope:tr,esriGeometryMultipoint:H_,esriGeometryMultiPatch:Ra};function Aq(e){return e&&kq[e]||null}const q_={base:Wl,key:"type",typeMap:{extent:tr,multipoint:H_,point:yt,polyline:Ao,polygon:Ra}};Aa(q_);const Bs=e=>{let t=class extends e{clone(){const r=cs(this);H4(r,"unable to clone instance of non-accessor class");const n=r.metadata,i=r.store,s={},o=new Map;for(const c in n){const d=n[c],m=i?.originOf(c),g=d.clonable;if(d.readOnly||g===!1||m!==Mt.USER&&m!==Mt.DEFAULTS&&m!==Mt.WEB_MAP&&m!==Mt.WEB_SCENE)continue;const w=this[c];let S=null;S=typeof g=="function"?g(w):g==="reference"?w:WE(w),w!=null&&S==null||(m===Mt.DEFAULTS?o.set(c,S):s[c]=S)}const l=new(Object.getPrototypeOf(this)).constructor(s);if(o.size){const c=cs(l)?.store;if(c)for(const[d,m]of o)c.set(d,m,Mt.DEFAULTS)}return l}};return t=p([G("esri.core.Clonable")],t),t};let OT=class extends Bs(He){};OT=p([G("esri.core.Clonable")],OT);let cd=class extends OT{constructor(t){super(t),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(t){return t!=null&&this.row===t.row&&this.rows===t.rows&&this.column===t.column&&this.columns===t.columns}};p([y({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],cd.prototype,"row",void 0),p([y({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],cd.prototype,"column",void 0),p([y({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],cd.prototype,"rows",void 0),p([y({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],cd.prototype,"columns",void 0),cd=p([G("esri.CameraLayout")],cd);const RD=cd;let Cq=class{constructor(t,r){this.min=t,this.max=r,this.range=r-t}normalize(t,r=0,n=!1){return wP(this.range,this.min,this.max,t,r,n)}clamp(t,r=0){return Uo(t-r,this.min,this.max)+r}monotonic(t,r,n){return t<r?r:r+IT(this.range,t-r,n)}minimalMonotonic(t,r,n){return wP(this.range,t,t+this.range,r,n)}center(t,r,n){return r=this.monotonic(t,r,n),this.normalize((t+r)/2,n)}diff(t,r,n){return this.monotonic(t,r,n)-t}shortestSignedDiff(t,r){t=this.normalize(t);const n=(r=this.normalize(r))-t,i=r<t?this.minimalMonotonic(t,r)-t:r-this.minimalMonotonic(r,t);return Math.abs(n)<Math.abs(i)?n:i}contains(t,r,n){return r=this.minimalMonotonic(t,r),(n=this.minimalMonotonic(t,n))>t&&n<r}};function wP(e,t,r,n,i=0,s=!1){return(n-=i)<t?n+=IT(e,t-n):n>r&&(n-=IT(e,n-r)),s&&n===r&&(n=t),n+i}function IT(e,t,r=0){return Math.ceil((t-r)/e)*e+r}const Rq=new Cq(0,360);let ca=class extends Bs(ze){constructor(...t){super(...t),this.position=new yt([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new RD}normalizeCtorArgs(t,r,n,i){if(t&&typeof t=="object"&&("x"in t||Array.isArray(t))){const s={position:t};return r!=null&&(s.heading=r),n!=null&&(s.tilt=n),i!=null&&(s.fov=i),s}return t}writePosition(t,r,n,i){const s=t.clone();s.x=ns(t.x||0),s.y=ns(t.y||0),s.z=t.hasZ?ns(t.z||0):t.z,r[n]=s.write({},i)}readPosition(t,r){const n=new yt;return n.read(t,r),n.x=ns(n.x||0),n.y=ns(n.y||0),n.z=n.hasZ?ns(n.z||0):n.z,n}equals(t){return t!=null&&this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)&&this.layout.equals(t.layout)}};p([y({type:yt,json:{write:{isRequired:!0}}})],ca.prototype,"position",void 0),p([wt("position")],ca.prototype,"writePosition",null),p([At("position")],ca.prototype,"readPosition",null),p([y({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),jr(e=>Rq.normalize(ns(e)))],ca.prototype,"heading",void 0),p([y({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),jr(e=>Uo(ns(e),-180,180))],ca.prototype,"tilt",void 0),p([y({type:Number,nonNullable:!0,json:{default:55,write:!0}}),jr(e=>Uo(ns(e,55),1,170))],ca.prototype,"fov",void 0),p([y({type:RD,nonNullable:!0,json:{read:!1,write:!1}})],ca.prototype,"layout",void 0),ca=p([G("esri.Camera")],ca);const Pq=ca;var NT;let ku=NT=class extends ze{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new NT({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};p([y({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:Rb}}}}})],ku.prototype,"rotation",void 0),p([jr("rotation")],ku.prototype,"castRotation",null),p([y({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:Rb}}}}})],ku.prototype,"scale",void 0),p([y({types:q_,json:{read:pf,write:!0,origins:{"web-scene":{read:pf,write:{overridePolicy:Rb}}}}})],ku.prototype,"targetGeometry",void 0),p([y({type:Pq,json:{write:!0}})],ku.prototype,"camera",void 0),ku=NT=p([G("esri.Viewpoint")],ku);const Io=ku;function Rb(){return{enabled:!this.camera}}let wv=class PD{constructor(){this._emitter=new PD.EventEmitter(this)}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(i=null){this._target=i,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(i,s){let o=this._listenersMap?.get(i);if(!o)return!1;const l=this._target||this;let c=!1;for(const d of o.slice()){const m="deref"in d?d.deref():d;m?m?.call(l,s):c=!0}return c&&(o=o.filter(d=>!("deref"in d)||d.deref()!=null),this._listenersMap.set(i,o)),o.length>0}on(i,s){if(Array.isArray(i)){const l=i.map(c=>this.on(c,s));return D0(l)}if(i.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(i)||[];return o.push(s),this._listenersMap.set(i,o),Dt(()=>{const l=this._listenersMap?.get(i),c=l?.indexOf(s)??-1;c>=0&&l.splice(c,1)})}once(i,s){const o=this.on(i,l=>{o.remove(),("deref"in s?s.deref():s)?.call(null,l)});return o}hasEventListener(i){const s=this._listenersMap?.get(i);return s!=null&&s.length>0}}e.EventEmitter=t,e.EventedMixin=n=>{let i=class extends n{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(s,o){return this._emitter.emit(s,o)}on(s,o){return this._emitter.on(s,o)}once(s,o){return this._emitter.once(s,o)}hasEventListener(s){return this._emitter.hasEventListener(s)}};return i=p([G("esri.core.Evented")],i),i};let r=class extends He{constructor(){super(...arguments),this._emitter=new wv.EventEmitter(this)}destroy(){this._emitter.clear()}emit(n,i){return this._emitter.emit(n,i)}on(n,i){return this._emitter.on(n,i)}once(n,i){return this._emitter.once(n,i)}hasEventListener(n){return this._emitter.hasEventListener(n)}};r=p([G("esri.core.Evented.EventedAccessor")],r),e.EventedAccessor=r})(wv||(wv={}));const $c=wv;var jt;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(jt||(jt={}));function OD(e){return(t,r)=>{t[r]=e}}let W0=class extends W4{notify(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const n of r)n.onInvalidated(),n.onCommitted()}}};var Nl;let Oq=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},Iq=class{constructor(t,r,n,i,s){this.target=t,this.added=r,this.removed=n,this.start=i,this.deleteCount=s}};const Ts=new wh(Oq,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function _P(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function Pb(e){return e?e instanceof Rl?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function Ob(e){if(e?.length)return e[0]}function Nq(e,t,r,n){const i=Math.min(e.length-r,t.length-n);let s=0;for(;s<i&&e[r+s]===t[n+s];)s++;return s}function ID(e,t,r,n){t&&t.forEach((i,s,o)=>{e.push(i),ID(e,r.call(n,i,s,o),r,n)})}const vu=new Set,wu=new Set,_u=new Set,Ib=new Map;let Lq=0,Rl=Nl=class extends $c.EventedAccessor{static isCollection(e){return e!=null&&e instanceof Nl}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new W0,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:Lq++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof Nl?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Ze(this._observable),this._items}set items(e){this._emitBeforeChanges(jt.ADD)||(this._splice(0,this.length,Pb(e)),this._emitAfterChanges(jt.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return Dt();if(e==="change"){const r=this._chgListeners,n={removed:!1,callback:t};return r.push(n),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),Dt(()=>{n.removed=!0,r.splice(r.indexOf(n),1)})}return this._emitter.on(e,t)}once(e,t){const r="deref"in t?()=>t.deref():()=>t,n=this.on(e,i=>{r()?.call(null,i),n.remove()});return n}add(e,t){if(Ze(this._observable),this._emitBeforeChanges(jt.ADD))return this;const r=this.getNextIndex(t??null);return this._splice(r,0,[e]),this._emitAfterChanges(jt.ADD),this}addMany(e,t=this._items.length){if(Ze(this._observable),!e?.length)return this;if(this._emitBeforeChanges(jt.ADD))return this;const r=this.getNextIndex(t);return this._splice(r,0,Pb(e)),this._emitAfterChanges(jt.ADD),this}at(e){if(Ze(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Ze(this._observable),!this.length||this._emitBeforeChanges(jt.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(jt.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Ze(this._observable),this._createNewInstance({items:this._items.map(me)})}concat(...e){Ze(this._observable);const t=e.map(Pb);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Ze(this._observable),!this.length||this._emitBeforeChanges(jt.REMOVE))return;const r=this._splice(0,this.length),n=r.length;for(let i=0;i<n;i++)e.call(t,r[i],i,r);this._emitAfterChanges(jt.REMOVE)}destroyAll(){this.drain(_P)}destroyMany(e){const t=this.removeMany(e);return t.forEach(_P),t}every(e,t){return Ze(this._observable),this._items.every(e,t)}filter(e,t){let r;return Ze(this._observable),r=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return Ze(this._observable),this._items.find(e,t)}findIndex(e,t){return Ze(this._observable),this._items.findIndex(e,t)}flatten(e,t){Ze(this._observable);const r=[];return ID(r,this,e,t),new Nl(r)}forEach(e,t){return Ze(this._observable),this._items.forEach(e,t)}getItemAt(e){return Ze(this._observable),this._items[e]}getNextIndex(e){Ze(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Ze(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Ze(this._observable),this._items.indexOf(e,t)}join(e=","){return Ze(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Ze(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Ze(this._observable);const r=this._items.map(e,t);return new Nl({items:r})}reorder(e,t=this.length-1){Ze(this._observable);const r=this.indexOf(e);if(r!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(jt.MOVE))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(jt.MOVE)}return e}}pop(){if(Ze(this._observable),!this.length||this._emitBeforeChanges(jt.REMOVE))return;const e=Ob(this._splice(this.length-1,1));return this._emitAfterChanges(jt.REMOVE),e}push(...e){return Ze(this._observable),this._emitBeforeChanges(jt.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(jt.ADD)),this.length}reduce(e,t){Ze(this._observable);const r=this._items;return arguments.length===2?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){Ze(this._observable);const r=this._items;return arguments.length===2?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return Ze(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Ze(this._observable),e<0||e>=this.length||this._emitBeforeChanges(jt.REMOVE))return;const t=Ob(this._splice(e,1));return this._emitAfterChanges(jt.REMOVE),t}removeMany(e){if(Ze(this._observable),!e?.length||this._emitBeforeChanges(jt.REMOVE))return[];const t=e instanceof Nl?e.toArray():e,r=this._items,n=[],i=t.length;for(let s=0;s<i;s++){const o=t[s],l=r.indexOf(o);if(l>-1){const c=1+Nq(t,r,s+1,l+1),d=this._splice(l,c);d&&d.length>0&&n.push.apply(n,d),s+=c-1}}return this._emitAfterChanges(jt.REMOVE),n}reverse(){if(Ze(this._observable),this._emitBeforeChanges(jt.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(jt.MOVE),this}shift(){if(Ze(this._observable),!this.length||this._emitBeforeChanges(jt.REMOVE))return;const e=Ob(this._splice(0,1));return this._emitAfterChanges(jt.REMOVE),e}slice(e=0,t=this.length){return Ze(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Ze(this._observable),this._items.some(e,t)}sort(e){if(Ze(this._observable),!this.length||this._emitBeforeChanges(jt.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(jt.MOVE),this}splice(e,t,...r){Ze(this._observable);const n=(t?jt.REMOVE:0)|(r.length?jt.ADD:0);if(this._emitBeforeChanges(n))return[];const i=this._splice(e,t,r)||[];return this._emitAfterChanges(n),i}toArray(){return Ze(this._observable),this._items.slice()}toJSON(){return Ze(this._observable),this.toArray()}toLocaleString(){return Ze(this._observable),this._items.toLocaleString()}toString(){return Ze(this._observable),this._items.toString()}unshift(...e){return Ze(this._observable),!e.length||this._emitBeforeChanges(jt.ADD)||(this._splice(0,0,e),this._emitAfterChanges(jt.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const n=this._items,i=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=G0(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(o=n.splice(e,t),this.hasEventListener("before-remove")){const l=Ts.acquire();l.target=this,l.cancellable=!0;for(let c=0,d=o.length;c<d;c++)s=o[c],l.reset(s),this.emit("before-remove",l),l.defaultPrevented&&(o.splice(c,1),n.splice(e,0,s),e+=1,c-=1,d-=1);Ts.release(l)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const l=Ts.acquire();l.target=this,l.cancellable=!1;const c=o.length;for(let d=0;d<c;d++)l.reset(o[d]),this.emit("after-remove",l);Ts.release(l)}}if(r?.length){if(i){const m=[];for(const g of r){const w=i.ensureType(g);w==null&&g!=null||m.push(w)}r=m}const l=this.hasEventListener("before-add"),c=this.hasEventListener("after-add"),d=e===this.length;if(l||c){const m=Ts.acquire();m.target=this,m.cancellable=!0;const g=Ts.acquire();g.target=this,g.cancellable=!1;for(const w of r)l?(m.reset(w),this.emit("before-add",m),m.defaultPrevented||(d?n.push(w):n.splice(e++,0,w),this._set("length",n.length),c&&(g.reset(w),this.emit("after-add",g)))):(d?n.push(w):n.splice(e++,0,w),this._set("length",n.length),g.reset(w),this.emit("after-add",g));Ts.release(g),Ts.release(m)}else{if(d)for(const m of r)n.push(m);else n.splice(e,0,...r);this._set("length",n.length)}}if((r?.length||o?.length)&&this._notifyChangeEvent(r,o),this.hasEventListener("after-splice")){const l=new Iq(this,r,o,e,t);this.emit("after-splice",l)}return o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=Ts.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,Ts.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=Ts.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),Ts.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const r=t.changes;vu.clear(),wu.clear(),_u.clear();for(const{added:c,removed:d}of r){if(c)if(_u.size===0&&wu.size===0)for(const m of c)vu.add(m);else for(const m of c)wu.has(m)?(_u.add(m),wu.delete(m)):_u.has(m)||vu.add(m);if(d)if(_u.size===0&&vu.size===0)for(const m of d)wu.add(m);else for(const m of d)vu.has(m)?vu.delete(m):(_u.delete(m),wu.add(m))}const n=ni.acquire();vu.forEach(c=>{n.push(c)});const i=ni.acquire();wu.forEach(c=>{i.push(c)});const s=this._items,o=t.items,l=ni.acquire();if(_u.forEach(c=>{o.indexOf(c)!==s.indexOf(c)&&l.push(c)}),t.listeners&&(n.length||i.length||l.length)){const c={target:this,added:n,removed:i,moved:l},d=t.listeners.length;for(let m=0;m<d;m++){const g=t.listeners[m];g.removed||g.callback.call(this,c)}}ni.release(n),ni.release(i),ni.release(l)}vu.clear(),wu.clear(),_u.clear()}};Rl.ofType=e=>{if(!e)return Nl;if(Ib.has(e))return Ib.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const n in e.typeMap){const i=e.typeMap[n].prototype.declaredClass;t?t+=` | ${i}`:t=i}let r=class extends Nl{};return p([OD({Type:e,ensureType:typeof e=="function"?oi(e):Aa(e)})],r.prototype,"itemType",void 0),r=p([G(`esri.core.Collection<${t}>`)],r),Ib.set(e,r),r},p([y()],Rl.prototype,"_updating",void 0),p([y()],Rl.prototype,"length",void 0),p([y()],Rl.prototype,"items",null),p([y({readOnly:!0})],Rl.prototype,"updating",null),Rl=Nl=p([G("esri.core.Collection")],Rl);const Ye=Rl;function b1e(e,t,r){return q3(e.map((n,i)=>t.apply(r,[n,i])))}async function Dq(e,t,r){return(await q3(e.map((n,i)=>t.apply(r,[n,i])))).map(n=>n.value)}function gM(e){return{ok:!0,value:e}}function vM(e){return{ok:!1,error:e}}function Fq(e){return e!=null&&e.ok===!0?e.value:null}function Uq(e){return e!=null&&e.ok===!1?e.error:null}async function wM(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return gM(await e)}catch(t){return vM(t)}}async function E1e(e){try{return gM(await e)}catch(t){return Wu(t),vM(t)}}function _M(e,t){return new Au(e,t)}let Au=class extends He{get value(){return Fq(this._result)}get error(){return Uq(this._result)}get finished(){return this._result!=null}constructor(t,r){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=a0(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:n}=this._abortController;this.promise=t(n),this.promise.then(i=>{this._result=gM(i),this._cleanup()},i=>{this._result=vM(i),this._cleanup()}),this._abortHandle=zs(r,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=_r(this._abortHandle),this._abortController=null}};p([y()],Au.prototype,"value",null),p([y()],Au.prototype,"error",null),p([y()],Au.prototype,"finished",null),p([y()],Au.prototype,"promise",void 0),p([y()],Au.prototype,"_result",void 0),Au=p([G("esri.core.asyncUtils.ReactiveTask")],Au);function dt(e,t,r={}){return SM(e,t,r,ND)}function Pa(e,t,r={}){return SM(e,t,r,LD)}function SM(e,t,r={},n){let i=null;const s=r.once?(o,l)=>{n(o)&&(_r(i),t(o,l))}:(o,l)=>{n(o)&&t(o,l)};if(i=VB(e,s,r.sync,r.equals),r.initial){const o=e();s(o,o)}return i}function ph(e,t,r,n={}){let i=null,s=null,o=null;function l(){i&&s&&(s.remove(),n.onListenerRemove?.(i),i=null,s=null)}function c(m){n.once&&n.once&&_r(o),r(m)}const d=dt(e,(m,g)=>{l(),N_(m)&&(i=m,s=j0(m,t,c),n.onListenerAdd?.(m))},{sync:n.sync,initial:!0});return o=Dt(()=>{d.remove(),l()}),o}function bM(e,t){return jq(e,LD,t)}function jq(e,t,r){if(Do(r))return Promise.reject(Sr());const n=e();if(t?.(n))return Promise.resolve(n);let i=null;function s(){i=_r(i)}return new Promise((o,l)=>{i=D0([zs(r,()=>{s(),l(Sr())}),SM(e,c=>{s(),o(c)},{sync:!1,once:!0},t??ND)])})}function ND(e){return!0}function LD(e){return!!e}const Hl={sync:!0},Hn={initial:!0},rs={sync:!0,initial:!0};let hp=class extends Ye{constructor(t){super(t),this.getCollections=null}initialize(){this.addHandles(s5(()=>this._refresh(),Hl))}destroy(){this.getCollections=null}_refresh(){const t=this.getCollections!=null?this.getCollections():null;if(t==null)return void this.removeAll();let r=0;for(const n of t)n!=null&&(r=this._processCollection(r,n));this.splice(r,this.length)}_createNewInstance(t){return new Ye(t)}_processCollection(t,r){if(!r)return t;const n=this.itemFilterFunction??(i=>!!i);for(const i of r)if(i){if(n(i)){const s=this.indexOf(i,t);s>=0?s!==t&&this.reorder(i,t):this.add(i,t),++t}if(this.getChildrenFunction){const s=this.getChildrenFunction(i);if(Array.isArray(s))for(const o of s)t=this._processCollection(t,o);else t=this._processCollection(t,s)}}return t}};p([y()],hp.prototype,"getCollections",void 0),p([y()],hp.prototype,"getChildrenFunction",void 0),p([y()],hp.prototype,"itemFilterFunction",void 0),hp=p([G("esri.core.CollectionFlattener")],hp);const h0=hp;let zw=class{constructor(t=r=>r.values().next().value){this._peeker=t,this._observable=new W0,this._items=new Set}get length(){return Ze(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let t;for(t of this._items);return t}peek(){if(this.length!==0)return this._peeker(this._items)}push(t){this.contains(t)||(this._items.add(t),this._observable.notify())}contains(t){return Ze(this._observable),this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),this._observable.notify(),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),this._observable.notify(),t}remove(t){this.contains(t)&&(this._items.delete(t),this._observable.notify())}filter(t){const r=this.length;return this._items.forEach(n=>{t(n)||this._items.delete(n)}),r!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){Ze(this._observable),yield*this._items}};const DD=new FinalizationRegistry(e=>{e.close()});function zq(e,t){DD.register(e,t,t)}function Gq(e){DD.unregister(e)}function FD(e,t){return new Proxy({},{get:(r,n,i)=>(...s)=>{let o,l;const c=s[s.length-1];return Vq(c)&&(o=c.signal,l=c.transferList,s.pop()),e.apply(t?`${t}.${n.toString()}`:n.toString(),s,{transferList:l,signal:o})}})}function Vq(e){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&("signal"in e||"transferList"in e||Object.keys(e).length===0)}const Bq={statsWorker:()=>ke(()=>import("./statsWorker-DqeGlE9M.js"),__vite__mapDeps([4,5,6,7,8,9,10,11,12])),geometryEngineWorker:()=>ke(()=>import("./geometryEngineWorker-DEzAOz_k.js"),__vite__mapDeps([13,14,15,3,16])),CSVSourceWorker:()=>ke(()=>import("./CSVSourceWorker-Bzi-2zaF.js"),__vite__mapDeps([17,18,16,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,6,5,7,8,9,10,11,12,34,35,36,37,38])),EdgeProcessingWorker:()=>ke(()=>import("./EdgeProcessingWorker-CoR6PHjF.js"),__vite__mapDeps([39,40,41,8,42,43,9,44,45,46,47,48,49])),ElevationSamplerWorker:()=>ke(()=>import("./ElevationSamplerWorker-D2pJIY-m.js"),__vite__mapDeps([50,24,51,52,53,54,55,56,57,58,59,41,8,60])),FeatureServiceSnappingSourceWorker:()=>ke(()=>import("./FeatureServiceSnappingSourceWorker-BHTszoHa.js"),__vite__mapDeps([61,20,21,19,22,23,24,25,26,16,27,28,29,30,31,32,33,6,5,7,8,9,10,11,12,34,62,63,64,65,66])),GeoJSONSourceWorker:()=>ke(()=>import("./GeoJSONSourceWorker-CiEoMRJ9.js"),__vite__mapDeps([67,21,19,22,20,23,24,25,26,16,27,28,29,30,31,32,33,6,5,7,8,9,10,11,12,34,68,18,36,37,38,69])),LercWorker:()=>ke(()=>import("./LercWorker-CHoOSpIn.js"),[]),MemorySourceWorker:()=>ke(()=>import("./MemorySourceWorker-BdZT2hfL.js"),__vite__mapDeps([70,21,19,22,71,20,23,24,25,26,16,27,28,29,30,31,32,33,6,5,7,8,9,10,11,12,34,36,37,38,69,18])),PBFDecoderWorker:()=>ke(()=>import("./PBFDecoderWorker-DQuOS4PL.js"),__vite__mapDeps([72,21,19,22,62,63])),FeaturePipelineWorker:()=>ke(()=>import("./FeaturePipelineWorker-B5wPrewu.js"),__vite__mapDeps([73,74,75,76,77,78,79,49,31,32,80,81,19,82,83,84,85,38,86,43,8,9,25,21,22,26,16,87,34,88,89,90,91,92,93,27,28,29,30,33,6,5,7,10,11,12,64,62,63,65,94,68,18,36,37,69,95,96])),PointCloudWorker:()=>ke(()=>import("./PointCloudWorker-Bay5vOR8.js"),__vite__mapDeps([97,98,53,99,8,100,101,102,103,47,104,54,9,55,56,105])),RasterWorker:()=>ke(()=>import("./RasterWorker-DKx1qz1k.js"),__vite__mapDeps([106,107,108,3,109,8,9,110,111,112])),SceneLayerSnappingSourceWorker:()=>ke(()=>import("./SceneLayerSnappingSourceWorker-M7e9ec7o.js"),__vite__mapDeps([113,114,115,8,9,53,105,54,99,116,43,44,45,46,40,41,42,47,48,49])),SceneLayerWorker:()=>ke(()=>import("./SceneLayerWorker-DV5LMkwI.js"),__vite__mapDeps([117,51,59,9,115,8,53,105,54,99,118,119,57,103,47,120,121,122,86,104,98,55,56])),WFSSourceWorker:()=>ke(()=>import("./WFSSourceWorker-Bz4Dt5Cz.js"),__vite__mapDeps([123,21,19,22,20,23,24,25,26,16,27,28,29,30,31,32,33,6,5,7,8,9,10,11,12,34,68,18,69,124,125])),WorkerTileHandler:()=>ke(()=>import("./WorkerTileHandler-BR6kgx9i.js"),__vite__mapDeps([126,127,82,84,128,129,77,63,90,130,131,49,109,8,9,91,81])),Lyr3DWorker:()=>ke(()=>import("./Lyr3DWorker-DkWaDPZm.js"),[]),Feature3DPipelineWorker:()=>ke(()=>import("./HUDMaterial.glsl-B3z4b6QI.js").then(e=>e.F),__vite__mapDeps([132,28,21,19,22,29,30,31,32,25,26,16,33,6,5,7,8,9,10,11,12,34,24,64,62,63,65,46,133,134,135,43,40,41,42,121,122,47,86,136,137,115,53,105,54,99,114,138,104,98,55,56,139,48,49,140,116,141,79,142,120,119,57,51,100,143]))},UD="worker:port-closed";var dn;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(dn||(dn={}));let Hq=0;function jD(){return Hq++}function Wq(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function p0(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function EM(e,t,r,n){if(t.type===dn.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==dn.INVOKE&&t.type!==dn.RESPONSE)return void e.postMessage(t);let i;if(Wq(r)?(i=SP(r.transferList),t.data=r.result):(i=SP(n),t.data=r),i){if(ie("ff")){for(const s of i)if("byteLength"in s&&s.byteLength>267386880){const o="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case dn.INVOKE:throw o;case dn.RESPONSE:return void EM(e,{type:dn.RESPONSE,jobId:t.jobId,error:p0(o)})}}}e.postMessage(t,i)}else e.postMessage(t)}function f0(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function SP(e){if(!e?.length)return null;if(ie("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(r=>!qq(r));return t.length?t:null}function qq(e){return e instanceof ArrayBuffer||e?.constructor?.name==="ArrayBuffer"}async function M1e(e){try{return await e}catch(t){const r=t?.name===UD;if(!(Li(t)||r))throw t;return}}const{CLOSE:bP,ABORT:EP,INVOKE:TP,RESPONSE:mm,OPEN_PORT:$P,ON:Zq}=dn,Yq=2;let Jq=class{constructor(t){this._invoke=t,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(t){t.type===dn.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}},mc=class pp{static connect(t,r){const n=new MessageChannel;let i;i=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const s=new pp(n.port1,{channel:n,client:i,schedule:r});return typeof i=="object"&&"remoteClient"in i&&(i.remoteClient=s),pp.clients.set(s,i),n.port2}static loadWorker(t){const r=Bq[t];return r?r():Promise.resolve(null)}constructor(t,r,n){this._port=t,this._jobQueue=n,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new Jq(i=>this._onInvokeMessage(i)),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:bP}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,r,n){return this.apply(t,[r],n)}apply(t,r,n){const i=n?.signal,s=n?.transferList;if(!this._port)return Promise.reject(new fe(UD,`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:r}));const o=jD();return new Promise((l,c)=>{if(Do(i))return this._processWork(),void c(Sr());const d=zs(i,()=>{const g=this._outJobs.get(o);g&&(this._outJobs.delete(o),this._processWork(),_r(g.abortHandle),this._post({type:EP,jobId:o}),c(Sr()))}),m={resolve:l,reject:c,abortHandle:d,debugInfo:t};this._outJobs.set(o,m),this._post({type:TP,jobId:o,methodName:t,abortable:i!=null},r,s)})}createInvokeProxy(t){return FD(this,t)}on(t,r){const n=new MessageChannel;function i(s){r(s.data)}return this._port.postMessage({type:dn.ON,eventType:t,port:n.port2},[n.port2]),n.port1.addEventListener("message",i),n.port1.start(),Dt(()=>{n.port1.postMessage({type:dn.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",i)})}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:$P,port:t.port2}),t.port1}_processWork(){if(this._outJobs.size>=Yq)return;const t=this._jobQueue?.pop();if(!t)return;const{methodName:r,data:n,invokeOptions:i,resolver:s}=t;this.apply(r,n,i).then(o=>s.resolve(o)).catch(o=>s.reject(o))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{_r(t.abortHandle),t.reject(Sr(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(t){this._schedule!=null?this._schedule(()=>this._processMessage(t,!0)):this._processMessage(t,!1)}_processMessage(t,r){const n=f0(t);if(n)switch(n.type){case mm:this._onResponseMessage(n);break;case TP:r?this._onInvokeMessage(n):this._invokeQueue.push(n);break;case EP:this._onAbortMessage(n);break;case bP:this._onCloseMessage();break;case $P:this._onOpenPortMessage(n);break;case Zq:this._onOnMessage(n)}}_onAbortMessage(t){const r=this._inJobs,n=t.jobId,i=r.get(n);this._invokeQueue.push(t),i&&(i.controller&&i.controller.abort(),r.delete(n))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&pp.clients.get(this)===t&&t.destroy(),pp.clients.delete(this),t?.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:r,jobId:n,data:i=[],abortable:s}=t,o=s?new AbortController:null,l=this._inJobs;let c,d=this._client,m=d[r];try{if(!m&&r&&r.includes(".")){const g=r.split(".");for(let w=0;w<g.length-1;w++)d=d[g[w]],m=d[g[w+1]]}if(typeof m!="function")throw new TypeError(`${r} is not a function`);i.push({client:this,signal:o?o.signal:null}),c=m.apply(d,i)}catch(g){return void this._post({type:mm,jobId:n,error:p0(g)})}Da(c)?(l.set(n,{controller:o,promise:c}),c.then(g=>{l.has(n)&&(l.delete(n),this._post({type:mm,jobId:n},g))},g=>{l.has(n)&&(l.delete(n),Li(g)||this._post({type:mm,jobId:n,error:p0(g||{message:`Error encountered at method ${r}`})}))})):this._post({type:mm,jobId:n},c)}_onOpenPortMessage(t){new pp(t.port,{client:this._client})}_onOnMessage(t){const{port:r}=t,n=this._client.on(t.eventType,s=>{r.postMessage(s)}),i=j0(t.port,"message",s=>{f0(s)?.type===dn.CLOSE&&(i.remove(),n.remove(),r.close())})}_onResponseMessage(t){const{jobId:r,error:n,data:i}=t,s=this._outJobs;if(!s.has(r))return;const o=s.get(r);s.delete(r),this._processWork(),_r(o.abortHandle),n?o.reject(fe.fromJSON(JSON.parse(n))):o.resolve(i)}_post(t,r,n){return EM(this._port,t,r,n)}};mc.kernelInfo={buildDate:k5,fullVersion:iM,revision:A5},mc.clients=new Map;let Kq=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new zw}destroy(){this.close()}get closed(){return!this._clients?.length}open(t,r){return new Promise((n,i)=>{let s=!0;const o=l=>{br(r.signal),s&&(s=!1,l())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let l=0;l<t.length;++l){const c=t[l];Da(c)?this._clientPromises[l]=c.then(d=>(this._clients[l]=new mc(d,r,this._ongoingJobsQueue),o(n),this._clients[l]),()=>(o(i),null)):(this._clients[l]=new mc(c,r,this._ongoingJobsQueue),this._clientPromises[l]=Promise.resolve(this._clients[l]),o(n))}})}broadcast(t,r,n){const i=new Array(this._clientPromises.length);for(let s=0;s<this._clientPromises.length;++s){const o=this._clientPromises[s];i[s]=o.then(l=>l?.invoke(t,r,n))}return i}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.resolver.reject(Sr(`Worker closing, aborting job calling '${t.methodName}'`));for(const r of this._clientPromises)r.then(n=>n?.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,Gq(this)}invoke(t,r,n){return this.apply(t,[r],n)}apply(t,r,n){const i=Vs();this._ongoingJobsQueue.push({methodName:t,data:r,invokeOptions:n,resolver:i});for(let s=0;s<this._clientPromises.length;s++){const o=this._clients[s];o?o.jobAdded():this._clientPromises[s].then(l=>l?.jobAdded())}return i.promise}createInvokeProxy(t){return FD(this,t)}on(t,r){return Promise.all(this._clientPromises).then(()=>D0(this._clients.map(n=>n.on(t,r))))}openPorts(){return new Promise(t=>{const r=new Array(this._clientPromises.length);let n=r.length;for(let i=0;i<this._clientPromises.length;++i)this._clientPromises[i].then(s=>{s&&(r[i]=s.openPort()),--n==0&&t(r)})})}get test(){}};const Xq={async request(e,t){const r=e.options,n=r.responseType;r.signal=t?.signal,r.responseType=n==="native"||n==="native-request-init"?"native-request-init":n&&["blob","json","text"].includes(n)&&dT(e.url)?.after?n:"array-buffer";const i=await Ar(e.url,r),s={data:i.data,httpStatus:i.httpStatus,ssl:i.ssl};switch(i.requestOptions?.responseType){case"native-request-init":return delete s.data.signal,s;case"blob":s.data=await s.data.arrayBuffer();break;case"json":s.data=new TextEncoder().encode(JSON.stringify(s.data)).buffer;break;case"text":s.data=new TextEncoder().encode(s.data).buffer}return{result:s,transferList:[s.data]}}};let Dy;const Qq=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,LT=globalThis.document?.documentElement;function zD(){const e=LT?.getAttribute("lang"),t=globalThis.navigator?.language;return Qq??e??t??"en"}function Oi(){return Dy===void 0&&(Dy=zD()),Dy}function eZ(e=Oi()){return/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(e)?.[1].toLowerCase()}const _v=[];function GD(e){return _v.push(e),Dt(()=>_v.splice(_v.indexOf(e),1))}const Sv=[];function TM(e){return Sv.push(e),Dt(()=>Sv.splice(Sv.indexOf(e),1))}function xP(){const e=zD();Dy!==e&&([...Sv].forEach(t=>t(e)),Dy=e,[..._v].forEach(t=>t(e)))}globalThis.addEventListener?.("languagechange",xP),LT&&new MutationObserver(()=>{xP()}).observe(LT,{attributeFilter:["lang"]});const MP=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class Sh extends Error{}class tZ extends Sh{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class rZ extends Sh{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class nZ extends Sh{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Fp extends Sh{}class VD extends Sh{constructor(t){super(`Invalid unit ${t}`)}}class Fn extends Sh{}class Su extends Sh{constructor(){super("Zone is an abstract class")}}const Oe="numeric",jo="short",as="long",Gw={year:Oe,month:Oe,day:Oe},BD={year:Oe,month:jo,day:Oe},iZ={year:Oe,month:jo,day:Oe,weekday:jo},HD={year:Oe,month:as,day:Oe},WD={year:Oe,month:as,day:Oe,weekday:as},qD={hour:Oe,minute:Oe},ZD={hour:Oe,minute:Oe,second:Oe},YD={hour:Oe,minute:Oe,second:Oe,timeZoneName:jo},JD={hour:Oe,minute:Oe,second:Oe,timeZoneName:as},KD={hour:Oe,minute:Oe,hourCycle:"h23"},XD={hour:Oe,minute:Oe,second:Oe,hourCycle:"h23"},QD={hour:Oe,minute:Oe,second:Oe,hourCycle:"h23",timeZoneName:jo},e6={hour:Oe,minute:Oe,second:Oe,hourCycle:"h23",timeZoneName:as},t6={year:Oe,month:Oe,day:Oe,hour:Oe,minute:Oe},r6={year:Oe,month:Oe,day:Oe,hour:Oe,minute:Oe,second:Oe},n6={year:Oe,month:jo,day:Oe,hour:Oe,minute:Oe},i6={year:Oe,month:jo,day:Oe,hour:Oe,minute:Oe,second:Oe},sZ={year:Oe,month:jo,day:Oe,weekday:jo,hour:Oe,minute:Oe},s6={year:Oe,month:as,day:Oe,hour:Oe,minute:Oe,timeZoneName:jo},o6={year:Oe,month:as,day:Oe,hour:Oe,minute:Oe,second:Oe,timeZoneName:jo},a6={year:Oe,month:as,day:Oe,weekday:as,hour:Oe,minute:Oe,timeZoneName:as},l6={year:Oe,month:as,day:Oe,weekday:as,hour:Oe,minute:Oe,second:Oe,timeZoneName:as};class q0{get type(){throw new Su}get name(){throw new Su}get ianaName(){return this.name}get isUniversal(){throw new Su}offsetName(t,r){throw new Su}formatOffset(t,r){throw new Su}offset(t){throw new Su}equals(t){throw new Su}get isValid(){throw new Su}}let Nb=null;class Z_ extends q0{static get instance(){return Nb===null&&(Nb=new Z_),Nb}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return g6(t,r,n)}formatOffset(t,r){return Fy(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let bv={};function oZ(e){return bv[e]||(bv[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),bv[e]}const aZ={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function lZ(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,s,o,l,c,d,m]=n;return[o,i,s,l,c,d,m]}function uZ(e,t){const r=e.formatToParts(t),n=[];for(let i=0;i<r.length;i++){const{type:s,value:o}=r[i],l=aZ[s];s==="era"?n[l]=o:vt(l)||(n[l]=parseInt(o,10))}return n}let S1={};class zo extends q0{static create(t){return S1[t]||(S1[t]=new zo(t)),S1[t]}static resetCache(){S1={},bv={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=zo.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return g6(t,r,n,this.name)}formatOffset(t,r){return Fy(this.offset(t),r)}offset(t){const r=new Date(t);if(isNaN(r))return NaN;const n=oZ(this.name);let[i,s,o,l,c,d,m]=n.formatToParts?uZ(n,r):lZ(n,r);l==="BC"&&(i=-Math.abs(i)+1);const w=J_({year:i,month:s,day:o,hour:c===24?0:c,minute:d,second:m,millisecond:0});let S=+r;const $=S%1e3;return S-=$>=0?$:1e3+$,(w-S)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let kP={};function cZ(e,t={}){const r=JSON.stringify([e,t]);let n=kP[r];return n||(n=new Intl.ListFormat(e,t),kP[r]=n),n}let DT={};function FT(e,t={}){const r=JSON.stringify([e,t]);let n=DT[r];return n||(n=new Intl.DateTimeFormat(e,t),DT[r]=n),n}let UT={};function dZ(e,t={}){const r=JSON.stringify([e,t]);let n=UT[r];return n||(n=new Intl.NumberFormat(e,t),UT[r]=n),n}let jT={};function hZ(e,t={}){const{base:r,...n}=t,i=JSON.stringify([e,n]);let s=jT[i];return s||(s=new Intl.RelativeTimeFormat(e,t),jT[i]=s),s}let Gm=null;function pZ(){return Gm||(Gm=new Intl.DateTimeFormat().resolvedOptions().locale,Gm)}let AP={};function fZ(e){let t=AP[e];if(!t){const r=new Intl.Locale(e);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,AP[e]=t}return t}function mZ(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(r===-1)return[e];{let n,i;try{n=FT(e).resolvedOptions(),i=e}catch{const c=e.substring(0,r);n=FT(c).resolvedOptions(),i=c}const{numberingSystem:s,calendar:o}=n;return[i,s,o]}}function yZ(e,t,r){return(r||t)&&(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function gZ(e){const t=[];for(let r=1;r<=12;r++){const n=nt.utc(2009,r,1);t.push(e(n))}return t}function vZ(e){const t=[];for(let r=1;r<=7;r++){const n=nt.utc(2016,11,13+r);t.push(e(n))}return t}function b1(e,t,r,n){const i=e.listingMode();return i==="error"?null:i==="en"?r(t):n(t)}function wZ(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class _Z{constructor(t,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:i,floor:s,...o}=n;if(!r||Object.keys(o).length>0){const l={useGrouping:!1,...n};n.padTo>0&&(l.minimumIntegerDigits=n.padTo),this.inf=dZ(t,l)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):AM(t,3);return Zr(r,this.padTo)}}}class SZ{constructor(t,r,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const o=-1*(t.offset/60),l=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&zo.create(l).valid?(i=l,this.dt=t):(i="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,i=t.zone.name):(i="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=FT(r,s)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class bZ{constructor(t,r,n){this.opts={style:"long",...n},!r&&m6()&&(this.rtf=hZ(t,n))}format(t,r){return this.rtf?this.rtf.format(t,r):HZ(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}const EZ={firstDay:1,minimalDays:4,weekend:[6,7]};class Zt{static fromOpts(t){return Zt.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,r,n,i,s=!1){const o=t||Ur.defaultLocale,l=o||(s?"en-US":pZ()),c=r||Ur.defaultNumberingSystem,d=n||Ur.defaultOutputCalendar,m=zT(i)||Ur.defaultWeekSettings;return new Zt(l,c,d,m,o)}static resetCache(){Gm=null,DT={},UT={},jT={}}static fromObject({locale:t,numberingSystem:r,outputCalendar:n,weekSettings:i}={}){return Zt.create(t,r,n,i)}constructor(t,r,n,i,s){const[o,l,c]=mZ(t);this.locale=o,this.numberingSystem=r||l||null,this.outputCalendar=n||c||null,this.weekSettings=i,this.intl=yZ(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=wZ(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Zt.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,zT(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1){return b1(this,t,_6,()=>{const n=r?{month:t,day:"numeric"}:{month:t},i=r?"format":"standalone";return this.monthsCache[i][t]||(this.monthsCache[i][t]=gZ(s=>this.extract(s,n,"month"))),this.monthsCache[i][t]})}weekdays(t,r=!1){return b1(this,t,E6,()=>{const n=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},i=r?"format":"standalone";return this.weekdaysCache[i][t]||(this.weekdaysCache[i][t]=vZ(s=>this.extract(s,n,"weekday"))),this.weekdaysCache[i][t]})}meridiems(){return b1(this,void 0,()=>T6,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[nt.utc(2016,11,13,9),nt.utc(2016,11,13,19)].map(r=>this.extract(r,t,"dayperiod"))}return this.meridiemCache})}eras(t){return b1(this,t,$6,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[nt.utc(-40,1,1),nt.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[t]})}extract(t,r,n){const i=this.dtFormatter(t,r),s=i.formatToParts(),o=s.find(l=>l.type.toLowerCase()===n);return o?o.value:null}numberFormatter(t={}){return new _Z(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new SZ(t,this.intl,r)}relFormatter(t={}){return new bZ(this.intl,this.isEnglish(),t)}listFormatter(t={}){return cZ(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:y6()?fZ(this.locale):EZ}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Lb=null;class Vn extends q0{static get utcInstance(){return Lb===null&&(Lb=new Vn(0)),Lb}static instance(t){return t===0?Vn.utcInstance:new Vn(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new Vn(K_(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Fy(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Fy(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return Fy(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class TZ extends q0{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function tc(e,t){if(vt(e)||e===null)return t;if(e instanceof q0)return e;if(CZ(e)){const r=e.toLowerCase();return r==="default"?t:r==="local"||r==="system"?Z_.instance:r==="utc"||r==="gmt"?Vn.utcInstance:Vn.parseSpecifier(r)||zo.create(e)}else return cc(e)?Vn.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new TZ(e)}const $M={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},CP={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},$Z=$M.hanidec.replace(/[\[|\]]/g,"").split("");function xZ(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);if(e[r].search($M.hanidec)!==-1)t+=$Z.indexOf(e[r]);else for(const i in CP){const[s,o]=CP[i];n>=s&&n<=o&&(t+=n-s)}}return parseInt(t,10)}else return t}let fp={};function MZ(){fp={}}function po({numberingSystem:e},t=""){const r=e||"latn";return fp[r]||(fp[r]={}),fp[r][t]||(fp[r][t]=new RegExp(`${$M[r]}${t}`)),fp[r][t]}let RP=()=>Date.now(),PP="system",OP=null,IP=null,NP=null,LP=60,DP,FP=null;class Ur{static get now(){return RP}static set now(t){RP=t}static set defaultZone(t){PP=t}static get defaultZone(){return tc(PP,Z_.instance)}static get defaultLocale(){return OP}static set defaultLocale(t){OP=t}static get defaultNumberingSystem(){return IP}static set defaultNumberingSystem(t){IP=t}static get defaultOutputCalendar(){return NP}static set defaultOutputCalendar(t){NP=t}static get defaultWeekSettings(){return FP}static set defaultWeekSettings(t){FP=zT(t)}static get twoDigitCutoffYear(){return LP}static set twoDigitCutoffYear(t){LP=t%100}static get throwOnInvalid(){return DP}static set throwOnInvalid(t){DP=t}static resetCaches(){Zt.resetCache(),zo.resetCache(),nt.resetCache(),MZ()}}class Co{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const u6=[0,31,59,90,120,151,181,212,243,273,304,334],c6=[0,31,60,91,121,152,182,213,244,274,305,335];function Us(e,t){return new Co("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function xM(e,t,r){const n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return i===0?7:i}function d6(e,t,r){return r+(Z0(e)?c6:u6)[t-1]}function h6(e,t){const r=Z0(e)?c6:u6,n=r.findIndex(s=>s<t),i=t-r[n];return{month:n+1,day:i}}function MM(e,t){return(e-t+7)%7+1}function Vw(e,t=4,r=1){const{year:n,month:i,day:s}=e,o=d6(n,i,s),l=MM(xM(n,i,s),r);let c=Math.floor((o-l+14-t)/7),d;return c<1?(d=n-1,c=m0(d,t,r)):c>m0(n,t,r)?(d=n+1,c=1):d=n,{weekYear:d,weekNumber:c,weekday:l,...X_(e)}}function UP(e,t=4,r=1){const{weekYear:n,weekNumber:i,weekday:s}=e,o=MM(xM(n,1,t),r),l=Wp(n);let c=i*7+s-o-7+t,d;c<1?(d=n-1,c+=Wp(d)):c>l?(d=n+1,c-=Wp(n)):d=n;const{month:m,day:g}=h6(d,c);return{year:d,month:m,day:g,...X_(e)}}function Db(e){const{year:t,month:r,day:n}=e,i=d6(t,r,n);return{year:t,ordinal:i,...X_(e)}}function jP(e){const{year:t,ordinal:r}=e,{month:n,day:i}=h6(t,r);return{year:t,month:n,day:i,...X_(e)}}function zP(e,t){if(!vt(e.localWeekday)||!vt(e.localWeekNumber)||!vt(e.localWeekYear)){if(!vt(e.weekday)||!vt(e.weekNumber)||!vt(e.weekYear))throw new Fp("Cannot mix locale-based week fields with ISO-based week fields");return vt(e.localWeekday)||(e.weekday=e.localWeekday),vt(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),vt(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function kZ(e,t=4,r=1){const n=Y_(e.weekYear),i=js(e.weekNumber,1,m0(e.weekYear,t,r)),s=js(e.weekday,1,7);return n?i?s?!1:Us("weekday",e.weekday):Us("week",e.weekNumber):Us("weekYear",e.weekYear)}function AZ(e){const t=Y_(e.year),r=js(e.ordinal,1,Wp(e.year));return t?r?!1:Us("ordinal",e.ordinal):Us("year",e.year)}function p6(e){const t=Y_(e.year),r=js(e.month,1,12),n=js(e.day,1,Bw(e.year,e.month));return t?r?n?!1:Us("day",e.day):Us("month",e.month):Us("year",e.year)}function f6(e){const{hour:t,minute:r,second:n,millisecond:i}=e,s=js(t,0,23)||t===24&&r===0&&n===0&&i===0,o=js(r,0,59),l=js(n,0,59),c=js(i,0,999);return s?o?l?c?!1:Us("millisecond",i):Us("second",n):Us("minute",r):Us("hour",t)}function vt(e){return typeof e>"u"}function cc(e){return typeof e=="number"}function Y_(e){return typeof e=="number"&&e%1===0}function CZ(e){return typeof e=="string"}function RZ(e){return Object.prototype.toString.call(e)==="[object Date]"}function m6(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function y6(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function PZ(e){return Array.isArray(e)?e:[e]}function GP(e,t,r){if(e.length!==0)return e.reduce((n,i)=>{const s=[t(i),i];return n&&r(n[0],s[0])===n[0]?n:s},null)[1]}function OZ(e,t){return t.reduce((r,n)=>(r[n]=e[n],r),{})}function ff(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function zT(e){if(e==null)return null;if(typeof e!="object")throw new Fn("Week settings must be an object");if(!js(e.firstDay,1,7)||!js(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!js(t,1,7)))throw new Fn("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function js(e,t,r){return Y_(e)&&e>=t&&e<=r}function IZ(e,t){return e-t*Math.floor(e/t)}function Zr(e,t=2){const r=e<0;let n;return r?n="-"+(""+-e).padStart(t,"0"):n=(""+e).padStart(t,"0"),n}function Zu(e){if(!(vt(e)||e===null||e===""))return parseInt(e,10)}function ed(e){if(!(vt(e)||e===null||e===""))return parseFloat(e)}function kM(e){if(!(vt(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function AM(e,t,r=!1){const n=10**t;return(r?Math.trunc:Math.round)(e*n)/n}function Z0(e){return e%4===0&&(e%100!==0||e%400===0)}function Wp(e){return Z0(e)?366:365}function Bw(e,t){const r=IZ(t-1,12)+1,n=e+(t-r)/12;return r===2?Z0(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function J_(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function VP(e,t,r){return-MM(xM(e,1,t),r)+t-1}function m0(e,t=4,r=1){const n=VP(e,t,r),i=VP(e+1,t,r);return(Wp(e)-n+i)/7}function GT(e){return e>99?e:e>Ur.twoDigitCutoffYear?1900+e:2e3+e}function g6(e,t,r,n=null){const i=new Date(e),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(s.timeZone=n);const o={timeZoneName:t,...s},l=new Intl.DateTimeFormat(r,o).formatToParts(i).find(c=>c.type.toLowerCase()==="timezonename");return l?l.value:null}function K_(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const n=parseInt(t,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function v6(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Fn(`Invalid unit value ${e}`);return t}function Hw(e,t){const r={};for(const n in e)if(ff(e,n)){const i=e[n];if(i==null)continue;r[t(n)]=v6(i)}return r}function Fy(e,t){const r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${Zr(r,2)}:${Zr(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${Zr(r,2)}${Zr(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function X_(e){return OZ(e,["hour","minute","second","millisecond"])}const NZ=["January","February","March","April","May","June","July","August","September","October","November","December"],w6=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],LZ=["J","F","M","A","M","J","J","A","S","O","N","D"];function _6(e){switch(e){case"narrow":return[...LZ];case"short":return[...w6];case"long":return[...NZ];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const S6=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],b6=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],DZ=["M","T","W","T","F","S","S"];function E6(e){switch(e){case"narrow":return[...DZ];case"short":return[...b6];case"long":return[...S6];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const T6=["AM","PM"],FZ=["Before Christ","Anno Domini"],UZ=["BC","AD"],jZ=["B","A"];function $6(e){switch(e){case"narrow":return[...jZ];case"short":return[...UZ];case"long":return[...FZ];default:return null}}function zZ(e){return T6[e.hour<12?0:1]}function GZ(e,t){return E6(t)[e.weekday-1]}function VZ(e,t){return _6(t)[e.month-1]}function BZ(e,t){return $6(t)[e.year<0?0:1]}function HZ(e,t,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&s){const g=e==="days";switch(t){case 1:return g?"tomorrow":`next ${i[e][0]}`;case-1:return g?"yesterday":`last ${i[e][0]}`;case 0:return g?"today":`this ${i[e][0]}`}}const o=Object.is(t,-0)||t<0,l=Math.abs(t),c=l===1,d=i[e],m=n?c?d[1]:d[2]||d[1]:c?i[e][0]:e;return o?`${l} ${m} ago`:`in ${l} ${m}`}function BP(e,t){let r="";for(const n of e)n.literal?r+=n.val:r+=t(n.val);return r}const WZ={D:Gw,DD:BD,DDD:HD,DDDD:WD,t:qD,tt:ZD,ttt:YD,tttt:JD,T:KD,TT:XD,TTT:QD,TTTT:e6,f:t6,ff:n6,fff:s6,ffff:a6,F:r6,FF:i6,FFF:o6,FFFF:l6};class zn{static create(t,r={}){return new zn(t,r)}static parseFormat(t){let r=null,n="",i=!1;const s=[];for(let o=0;o<t.length;o++){const l=t.charAt(o);l==="'"?(n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),r=null,n="",i=!i):i||l===r?n+=l:(n.length>0&&s.push({literal:/^\s+$/.test(n),val:n}),n=l,r=l)}return n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),s}static macroTokenToFormatOpts(t){return WZ[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}dtFormatter(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r})}formatDateTime(t,r){return this.dtFormatter(t,r).format()}formatDateTimeParts(t,r){return this.dtFormatter(t,r).formatToParts()}formatInterval(t,r){return this.dtFormatter(t.start,r).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r){return this.dtFormatter(t,r).resolvedOptions()}num(t,r=0){if(this.opts.forceSimple)return Zr(t,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,r){const n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(S,$)=>this.loc.extract(t,S,$),o=S=>t.isOffsetFixed&&t.offset===0&&S.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,S.format):"",l=()=>n?zZ(t):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),c=(S,$)=>n?VZ(t,S):s($?{month:S}:{month:S,day:"numeric"},"month"),d=(S,$)=>n?GZ(t,S):s($?{weekday:S}:{weekday:S,month:"long",day:"numeric"},"weekday"),m=S=>{const $=zn.macroTokenToFormatOpts(S);return $?this.formatWithSystemDefault(t,$):S},g=S=>n?BZ(t,S):s({era:S},"era"),w=S=>{switch(S){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return l();case"d":return i?s({day:"numeric"},"day"):this.num(t.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(t.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(t.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(t.year,6);case"G":return g("short");case"GG":return g("long");case"GGGGG":return g("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return m(S)}};return BP(zn.parseFormat(r),w)}formatDurationFromString(t,r){const n=c=>{switch(c[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=c=>d=>{const m=n(d);return m?this.num(c.get(m),d.length):d},s=zn.parseFormat(r),o=s.reduce((c,{literal:d,val:m})=>d?c:c.concat(m),[]),l=t.shiftTo(...o.map(n).filter(c=>c));return BP(s,i(l))}}const x6=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Tf(...e){const t=e.reduce((r,n)=>r+n.source,"");return RegExp(`^${t}$`)}function $f(...e){return t=>e.reduce(([r,n,i],s)=>{const[o,l,c]=s(t,i);return[{...r,...o},l||n,c]},[{},null,1]).slice(0,2)}function xf(e,...t){if(e==null)return[null,null];for(const[r,n]of t){const i=r.exec(e);if(i)return n(i)}return[null,null]}function M6(...e){return(t,r)=>{const n={};let i;for(i=0;i<e.length;i++)n[e[i]]=Zu(t[r+i]);return[n,null,r+i]}}const k6=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,qZ=`(?:${k6.source}?(?:\\[(${x6.source})\\])?)?`,CM=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,A6=RegExp(`${CM.source}${qZ}`),RM=RegExp(`(?:T${A6.source})?`),ZZ=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,YZ=/(\d{4})-?W(\d\d)(?:-?(\d))?/,JZ=/(\d{4})-?(\d{3})/,KZ=M6("weekYear","weekNumber","weekDay"),XZ=M6("year","ordinal"),QZ=/(\d{4})-(\d\d)-(\d\d)/,C6=RegExp(`${CM.source} ?(?:${k6.source}|(${x6.source}))?`),eY=RegExp(`(?: ${C6.source})?`);function qp(e,t,r){const n=e[t];return vt(n)?r:Zu(n)}function tY(e,t){return[{year:qp(e,t),month:qp(e,t+1,1),day:qp(e,t+2,1)},null,t+3]}function Mf(e,t){return[{hours:qp(e,t,0),minutes:qp(e,t+1,0),seconds:qp(e,t+2,0),milliseconds:kM(e[t+3])},null,t+4]}function Y0(e,t){const r=!e[t]&&!e[t+1],n=K_(e[t+1],e[t+2]),i=r?null:Vn.instance(n);return[{},i,t+3]}function J0(e,t){const r=e[t]?zo.create(e[t]):null;return[{},r,t+1]}const rY=RegExp(`^T?${CM.source}$`),nY=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function iY(e){const[t,r,n,i,s,o,l,c,d]=e,m=t[0]==="-",g=c&&c[0]==="-",w=(S,$=!1)=>S!==void 0&&($||S&&m)?-S:S;return[{years:w(ed(r)),months:w(ed(n)),weeks:w(ed(i)),days:w(ed(s)),hours:w(ed(o)),minutes:w(ed(l)),seconds:w(ed(c),c==="-0"),milliseconds:w(kM(d),g)}]}const sY={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function PM(e,t,r,n,i,s,o){const l={year:t.length===2?GT(Zu(t)):Zu(t),month:w6.indexOf(r)+1,day:Zu(n),hour:Zu(i),minute:Zu(s)};return o&&(l.second=Zu(o)),e&&(l.weekday=e.length>3?S6.indexOf(e)+1:b6.indexOf(e)+1),l}const oY=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function aY(e){const[,t,r,n,i,s,o,l,c,d,m,g]=e,w=PM(t,i,n,r,s,o,l);let S;return c?S=sY[c]:d?S=0:S=K_(m,g),[w,new Vn(S)]}function lY(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const uY=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,cY=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,dY=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function HP(e){const[,t,r,n,i,s,o,l]=e;return[PM(t,i,n,r,s,o,l),Vn.utcInstance]}function hY(e){const[,t,r,n,i,s,o,l]=e;return[PM(t,l,r,n,i,s,o),Vn.utcInstance]}const pY=Tf(ZZ,RM),fY=Tf(YZ,RM),mY=Tf(JZ,RM),yY=Tf(A6),R6=$f(tY,Mf,Y0,J0),gY=$f(KZ,Mf,Y0,J0),vY=$f(XZ,Mf,Y0,J0),wY=$f(Mf,Y0,J0);function _Y(e){return xf(e,[pY,R6],[fY,gY],[mY,vY],[yY,wY])}function SY(e){return xf(lY(e),[oY,aY])}function bY(e){return xf(e,[uY,HP],[cY,HP],[dY,hY])}function EY(e){return xf(e,[nY,iY])}const TY=$f(Mf);function $Y(e){return xf(e,[rY,TY])}const xY=Tf(QZ,eY),MY=Tf(C6),kY=$f(Mf,Y0,J0);function AY(e){return xf(e,[xY,R6],[MY,kY])}const WP="Invalid Duration",P6={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},CY={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...P6},$s=146097/400,tp=146097/4800,RY={years:{quarters:4,months:12,weeks:$s/7,days:$s,hours:$s*24,minutes:$s*24*60,seconds:$s*24*60*60,milliseconds:$s*24*60*60*1e3},quarters:{months:3,weeks:$s/28,days:$s/4,hours:$s*24/4,minutes:$s*24*60/4,seconds:$s*24*60*60/4,milliseconds:$s*24*60*60*1e3/4},months:{weeks:tp/7,days:tp,hours:tp*24,minutes:tp*24*60,seconds:tp*24*60*60,milliseconds:tp*24*60*60*1e3},...P6},Hd=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],PY=Hd.slice(0).reverse();function bu(e,t,r=!1){const n={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Lt(n)}function O6(e,t){let r=t.milliseconds??0;for(const n of PY.slice(1))t[n]&&(r+=t[n]*e[n].milliseconds);return r}function qP(e,t){const r=O6(e,t)<0?-1:1;Hd.reduceRight((n,i)=>{if(vt(t[i]))return n;if(n){const s=t[n]*r,o=e[i][n],l=Math.floor(s/o);t[i]+=l*r,t[n]-=l*o*r}return i},null),Hd.reduce((n,i)=>{if(vt(t[i]))return n;if(n){const s=t[n]%1;t[n]-=s,t[i]+=s*e[n][i]}return i},null)}function OY(e){const t={};for(const[r,n]of Object.entries(e))n!==0&&(t[r]=n);return t}class Lt{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;let n=r?RY:CY;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||Zt.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,r){return Lt.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new Fn(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new Lt({values:Hw(t,Lt.normalizeUnit),loc:Zt.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(cc(t))return Lt.fromMillis(t);if(Lt.isDuration(t))return t;if(typeof t=="object")return Lt.fromObject(t);throw new Fn(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[n]=EY(t);return n?Lt.fromObject(n,r):Lt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[n]=$Y(t);return n?Lt.fromObject(n,r):Lt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new Fn("need to specify a reason the Duration is invalid");const n=t instanceof Co?t:new Co(t,r);if(Ur.throwOnInvalid)throw new nZ(n);return new Lt({invalid:n})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new VD(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?zn.create(this.loc,n).formatDurationFromString(this,t):WP}toHuman(t={}){if(!this.isValid)return WP;const r=Hd.map(n=>{const i=this.values[n];return vt(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=AM(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},nt.fromMillis(r,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?O6(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=Lt.fromDurationLike(t),n={};for(const i of Hd)(ff(r.values,i)||ff(this.values,i))&&(n[i]=r.get(i)+this.get(i));return bu(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const r=Lt.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=v6(t(this.values[n],n));return bu(this,{values:r},!0)}get(t){return this[Lt.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...Hw(t,Lt.normalizeUnit)};return bu(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:n,matrix:i}={}){const o={loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:i,conversionAccuracy:n};return bu(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return qP(this.matrix,t),bu(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=OY(this.normalize().shiftToAll().toObject());return bu(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>Lt.normalizeUnit(o));const r={},n={},i=this.toObject();let s;for(const o of Hd)if(t.indexOf(o)>=0){s=o;let l=0;for(const d in n)l+=this.matrix[d][o]*n[d],n[d]=0;cc(i[o])&&(l+=i[o]);const c=Math.trunc(l);r[o]=c,n[o]=(l*1e3-c*1e3)/1e3}else cc(i[o])&&(n[o]=i[o]);for(const o in n)n[o]!==0&&(r[s]+=o===s?n[o]:n[o]/this.matrix[s][o]);return qP(this.matrix,r),bu(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return bu(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(const n of Hd)if(!r(this.values[n],t.values[n]))return!1;return!0}}const rp="Invalid Interval";function IY(e,t){return!e||!e.isValid?Fr.invalid("missing or invalid start"):!t||!t.isValid?Fr.invalid("missing or invalid end"):t<e?Fr.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class Fr{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new Fn("need to specify a reason the Interval is invalid");const n=t instanceof Co?t:new Co(t,r);if(Ur.throwOnInvalid)throw new rZ(n);return new Fr({invalid:n})}static fromDateTimes(t,r){const n=ym(t),i=ym(r),s=IY(n,i);return s??new Fr({start:n,end:i})}static after(t,r){const n=Lt.fromDurationLike(r),i=ym(t);return Fr.fromDateTimes(i,i.plus(n))}static before(t,r){const n=Lt.fromDurationLike(r),i=ym(t);return Fr.fromDateTimes(i.minus(n),i)}static fromISO(t,r){const[n,i]=(t||"").split("/",2);if(n&&i){let s,o;try{s=nt.fromISO(n,r),o=s.isValid}catch{o=!1}let l,c;try{l=nt.fromISO(i,r),c=l.isValid}catch{c=!1}if(o&&c)return Fr.fromDateTimes(s,l);if(o){const d=Lt.fromISO(i,r);if(d.isValid)return Fr.after(s,d)}else if(c){const d=Lt.fromISO(n,r);if(d.isValid)return Fr.before(l,d)}}return Fr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",r){if(!this.isValid)return NaN;const n=this.start.startOf(t,r);let i;return r?.useLocaleWeeks?i=this.end.reconfigure({locale:n.locale}):i=this.end,i=i.startOf(t,r),Math.floor(i.diff(n,t).get(t))+(i.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?Fr.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(ym).filter(o=>this.contains(o)).sort((o,l)=>o.toMillis()-l.toMillis()),n=[];let{s:i}=this,s=0;for(;i<this.e;){const o=r[s]||this.e,l=+o>+this.e?this.e:o;n.push(Fr.fromDateTimes(i,l)),i=l,s+=1}return n}splitBy(t){const r=Lt.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,s;const o=[];for(;n<this.e;){const l=this.start.plus(r.mapUnits(c=>c*i));s=+l>+this.e?this.e:l,o.push(Fr.fromDateTimes(n,s)),n=s,i+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return r>=n?null:Fr.fromDateTimes(r,n)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return Fr.fromDateTimes(r,n)}static merge(t){const[r,n]=t.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return n&&r.push(n),r}static xor(t){let r=null,n=0;const i=[],s=t.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),o=Array.prototype.concat(...s),l=o.sort((c,d)=>c.time-d.time);for(const c of l)n+=c.type==="s"?1:-1,n===1?r=c.time:(r&&+r!=+c.time&&i.push(Fr.fromDateTimes(r,c.time)),r=null);return Fr.merge(i)}difference(...t){return Fr.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:rp}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=Gw,r={}){return this.isValid?zn.create(this.s.loc.clone(r),t).formatInterval(this):rp}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:rp}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:rp}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:rp}toFormat(t,{separator:r=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:rp}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):Lt.invalid(this.invalidReason)}mapEndpoints(t){return Fr.fromDateTimes(t(this.s),t(this.e))}}class E1{static hasDST(t=Ur.defaultZone){const r=nt.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return zo.isValidZone(t)}static normalizeZone(t){return tc(t,Ur.defaultZone)}static getStartOfWeek({locale:t=null,locObj:r=null}={}){return(r||Zt.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:r=null}={}){return(r||Zt.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:r=null}={}){return(r||Zt.create(t)).getWeekendDays().slice()}static months(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Zt.create(r,n,s)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Zt.create(r,n,s)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Zt.create(r,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Zt.create(r,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Zt.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return Zt.create(r,null,"gregory").eras(t)}static features(){return{relative:m6(),localeWeek:y6()}}}function ZP(e,t){const r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(t)-r(e);return Math.floor(Lt.fromMillis(n).as("days"))}function NY(e,t,r){const n=[["years",(c,d)=>d.year-c.year],["quarters",(c,d)=>d.quarter-c.quarter+(d.year-c.year)*4],["months",(c,d)=>d.month-c.month+(d.year-c.year)*12],["weeks",(c,d)=>{const m=ZP(c,d);return(m-m%7)/7}],["days",ZP]],i={},s=e;let o,l;for(const[c,d]of n)r.indexOf(c)>=0&&(o=c,i[c]=d(e,t),l=s.plus(i),l>t?(i[c]--,e=s.plus(i),e>t&&(l=e,i[c]--,e=s.plus(i))):e=l);return[e,i,l,o]}function LY(e,t,r,n){let[i,s,o,l]=NY(e,t,r);const c=t-i,d=r.filter(g=>["hours","minutes","seconds","milliseconds"].indexOf(g)>=0);d.length===0&&(o<t&&(o=i.plus({[l]:1})),o!==i&&(s[l]=(s[l]||0)+c/(o-i)));const m=Lt.fromObject(s,n);return d.length>0?Lt.fromMillis(c,n).shiftTo(...d).plus(m):m}const DY="missing Intl.DateTimeFormat.formatToParts support";function Bt(e,t=r=>r){return{regex:e,deser:([r])=>t(xZ(r))}}const FY=" ",I6=`[ ${FY}]`,N6=new RegExp(I6,"g");function UY(e){return e.replace(/\./g,"\\.?").replace(N6,I6)}function YP(e){return e.replace(/\./g,"").replace(N6," ").toLowerCase()}function fo(e,t){return e===null?null:{regex:RegExp(e.map(UY).join("|")),deser:([r])=>e.findIndex(n=>YP(r)===YP(n))+t}}function JP(e,t){return{regex:e,deser:([,r,n])=>K_(r,n),groups:t}}function T1(e){return{regex:e,deser:([t])=>t}}function jY(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function zY(e,t){const r=po(t),n=po(t,"{2}"),i=po(t,"{3}"),s=po(t,"{4}"),o=po(t,"{6}"),l=po(t,"{1,2}"),c=po(t,"{1,3}"),d=po(t,"{1,6}"),m=po(t,"{1,9}"),g=po(t,"{2,4}"),w=po(t,"{4,6}"),S=M=>({regex:RegExp(jY(M.val)),deser:([P])=>P,literal:!0}),x=(M=>{if(e.literal)return S(M);switch(M.val){case"G":return fo(t.eras("short"),0);case"GG":return fo(t.eras("long"),0);case"y":return Bt(d);case"yy":return Bt(g,GT);case"yyyy":return Bt(s);case"yyyyy":return Bt(w);case"yyyyyy":return Bt(o);case"M":return Bt(l);case"MM":return Bt(n);case"MMM":return fo(t.months("short",!0),1);case"MMMM":return fo(t.months("long",!0),1);case"L":return Bt(l);case"LL":return Bt(n);case"LLL":return fo(t.months("short",!1),1);case"LLLL":return fo(t.months("long",!1),1);case"d":return Bt(l);case"dd":return Bt(n);case"o":return Bt(c);case"ooo":return Bt(i);case"HH":return Bt(n);case"H":return Bt(l);case"hh":return Bt(n);case"h":return Bt(l);case"mm":return Bt(n);case"m":return Bt(l);case"q":return Bt(l);case"qq":return Bt(n);case"s":return Bt(l);case"ss":return Bt(n);case"S":return Bt(c);case"SSS":return Bt(i);case"u":return T1(m);case"uu":return T1(l);case"uuu":return Bt(r);case"a":return fo(t.meridiems(),0);case"kkkk":return Bt(s);case"kk":return Bt(g,GT);case"W":return Bt(l);case"WW":return Bt(n);case"E":case"c":return Bt(r);case"EEE":return fo(t.weekdays("short",!1),1);case"EEEE":return fo(t.weekdays("long",!1),1);case"ccc":return fo(t.weekdays("short",!0),1);case"cccc":return fo(t.weekdays("long",!0),1);case"Z":case"ZZ":return JP(new RegExp(`([+-]${l.source})(?::(${n.source}))?`),2);case"ZZZ":return JP(new RegExp(`([+-]${l.source})(${n.source})?`),2);case"z":return T1(/[a-z_+-/]{1,256}?/i);case" ":return T1(/[^\S\n\r]/);default:return S(M)}})(e)||{invalidReason:DY};return x.token=e,x}const GY={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function VY(e,t,r){const{type:n,value:i}=e;if(n==="literal"){const c=/^\s+$/.test(i);return{literal:!c,val:c?" ":i}}const s=t[n];let o=n;n==="hour"&&(t.hour12!=null?o=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?o="hour12":o="hour24":o=r.hour12?"hour12":"hour24");let l=GY[o];if(typeof l=="object"&&(l=l[s]),l)return{literal:!1,val:l}}function BY(e){return[`^${e.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,e]}function HY(e,t,r){const n=e.match(t);if(n){const i={};let s=1;for(const o in r)if(ff(r,o)){const l=r[o],c=l.groups?l.groups+1:1;!l.literal&&l.token&&(i[l.token.val[0]]=l.deser(n.slice(s,s+c))),s+=c}return[n,i]}else return[n,{}]}function WY(e){const t=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return vt(e.z)||(r=zo.create(e.z)),vt(e.Z)||(r||(r=new Vn(e.Z)),n=e.Z),vt(e.q)||(e.M=(e.q-1)*3+1),vt(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),vt(e.u)||(e.S=kM(e.u)),[Object.keys(e).reduce((s,o)=>{const l=t(o);return l&&(s[l]=e[o]),s},{}),r,n]}let Fb=null;function qY(){return Fb||(Fb=nt.fromMillis(1555555555555)),Fb}function ZY(e,t){if(e.literal)return e;const r=zn.macroTokenToFormatOpts(e.val),n=U6(r,t);return n==null||n.includes(void 0)?e:n}function L6(e,t){return Array.prototype.concat(...e.map(r=>ZY(r,t)))}class D6{constructor(t,r){if(this.locale=t,this.format=r,this.tokens=L6(zn.parseFormat(r),t),this.units=this.tokens.map(n=>zY(n,t)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,i]=BY(this.units);this.regex=RegExp(n,"i"),this.handlers=i}}explainFromTokens(t){if(this.isValid){const[r,n]=HY(t,this.regex,this.handlers),[i,s,o]=n?WY(n):[null,null,void 0];if(ff(n,"a")&&ff(n,"H"))throw new Fp("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:n,result:i,zone:s,specificOffset:o}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function F6(e,t,r){return new D6(e,r).explainFromTokens(t)}function YY(e,t,r){const{result:n,zone:i,specificOffset:s,invalidReason:o}=F6(e,t,r);return[n,i,s,o]}function U6(e,t){if(!e)return null;const n=zn.create(t,e).dtFormatter(qY()),i=n.formatToParts(),s=n.resolvedOptions();return i.map(o=>VY(o,e,s))}const Ub="Invalid DateTime",KP=864e13;function Vm(e){return new Co("unsupported zone",`the zone "${e.name}" is not supported`)}function jb(e){return e.weekData===null&&(e.weekData=Vw(e.c)),e.weekData}function zb(e){return e.localWeekData===null&&(e.localWeekData=Vw(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function td(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new nt({...r,...t,old:r})}function j6(e,t,r){let n=e-t*60*1e3;const i=r.offset(n);if(t===i)return[n,t];n-=(i-t)*60*1e3;const s=r.offset(n);return i===s?[n,i]:[e-Math.min(i,s)*60*1e3,Math.max(i,s)]}function $1(e,t){e+=t*60*1e3;const r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Ev(e,t,r){return j6(J_(e),t,r)}function XP(e,t){const r=e.o,n=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,s={...e.c,year:n,month:i,day:Math.min(e.c.day,Bw(n,i))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=Lt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),l=J_(s);let[c,d]=j6(l,r,e.zone);return o!==0&&(c+=o,d=e.zone.offset(c)),{ts:c,o:d}}function np(e,t,r,n,i,s){const{setZone:o,zone:l}=r;if(e&&Object.keys(e).length!==0||t){const c=t||l,d=nt.fromObject(e,{...r,zone:c,specificOffset:s});return o?d:d.setZone(l)}else return nt.invalid(new Co("unparsable",`the input "${i}" can't be parsed as ${n}`))}function x1(e,t,r=!0){return e.isValid?zn.create(Zt.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Gb(e,t){const r=e.c.year>9999||e.c.year<0;let n="";return r&&e.c.year>=0&&(n+="+"),n+=Zr(e.c.year,r?6:4),t?(n+="-",n+=Zr(e.c.month),n+="-",n+=Zr(e.c.day)):(n+=Zr(e.c.month),n+=Zr(e.c.day)),n}function QP(e,t,r,n,i,s){let o=Zr(e.c.hour);return t?(o+=":",o+=Zr(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(o+=":")):o+=Zr(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(o+=Zr(e.c.second),(e.c.millisecond!==0||!n)&&(o+=".",o+=Zr(e.c.millisecond,3))),i&&(e.isOffsetFixed&&e.offset===0&&!s?o+="Z":e.o<0?(o+="-",o+=Zr(Math.trunc(-e.o/60)),o+=":",o+=Zr(Math.trunc(-e.o%60))):(o+="+",o+=Zr(Math.trunc(e.o/60)),o+=":",o+=Zr(Math.trunc(e.o%60)))),s&&(o+="["+e.zone.ianaName+"]"),o}const z6={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},JY={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},KY={ordinal:1,hour:0,minute:0,second:0,millisecond:0},G6=["year","month","day","hour","minute","second","millisecond"],XY=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],QY=["year","ordinal","hour","minute","second","millisecond"];function eJ(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new VD(e);return t}function eO(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return eJ(e)}}function tJ(e){return $v[e]||(Tv===void 0&&(Tv=Ur.now()),$v[e]=e.offset(Tv)),$v[e]}function tO(e,t){const r=tc(t.zone,Ur.defaultZone);if(!r.isValid)return nt.invalid(Vm(r));const n=Zt.fromObject(t);let i,s;if(vt(e.year))i=Ur.now();else{for(const c of G6)vt(e[c])&&(e[c]=z6[c]);const o=p6(e)||f6(e);if(o)return nt.invalid(o);const l=tJ(r);[i,s]=Ev(e,l,r)}return new nt({ts:i,zone:r,loc:n,o:s})}function rO(e,t,r){const n=vt(r.round)?!0:r.round,i=(o,l)=>(o=AM(o,n||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(o,l)),s=o=>r.calendary?t.hasSame(e,o)?0:t.startOf(o).diff(e.startOf(o),o).get(o):t.diff(e,o).get(o);if(r.unit)return i(s(r.unit),r.unit);for(const o of r.units){const l=s(o);if(Math.abs(l)>=1)return i(l,o)}return i(e>t?-0:0,r.units[r.units.length-1])}function nO(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}let Tv,$v={};class nt{constructor(t){const r=t.zone||Ur.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new Co("invalid input"):null)||(r.isValid?null:Vm(r));this.ts=vt(t.ts)?Ur.now():t.ts;let i=null,s=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[i,s]=[t.old.c,t.old.o];else{const l=cc(t.o)&&!t.old?t.o:r.offset(this.ts);i=$1(this.ts,l),n=Number.isNaN(i.year)?new Co("invalid input"):null,i=n?null:i,s=n?null:l}this._zone=r,this.loc=t.loc||Zt.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new nt({})}static local(){const[t,r]=nO(arguments),[n,i,s,o,l,c,d]=r;return tO({year:n,month:i,day:s,hour:o,minute:l,second:c,millisecond:d},t)}static utc(){const[t,r]=nO(arguments),[n,i,s,o,l,c,d]=r;return t.zone=Vn.utcInstance,tO({year:n,month:i,day:s,hour:o,minute:l,second:c,millisecond:d},t)}static fromJSDate(t,r={}){const n=RZ(t)?t.valueOf():NaN;if(Number.isNaN(n))return nt.invalid("invalid input");const i=tc(r.zone,Ur.defaultZone);return i.isValid?new nt({ts:n,zone:i,loc:Zt.fromObject(r)}):nt.invalid(Vm(i))}static fromMillis(t,r={}){if(cc(t))return t<-KP||t>KP?nt.invalid("Timestamp out of range"):new nt({ts:t,zone:tc(r.zone,Ur.defaultZone),loc:Zt.fromObject(r)});throw new Fn(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(cc(t))return new nt({ts:t*1e3,zone:tc(r.zone,Ur.defaultZone),loc:Zt.fromObject(r)});throw new Fn("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const n=tc(r.zone,Ur.defaultZone);if(!n.isValid)return nt.invalid(Vm(n));const i=Zt.fromObject(r),s=Hw(t,eO),{minDaysInFirstWeek:o,startOfWeek:l}=zP(s,i),c=Ur.now(),d=vt(r.specificOffset)?n.offset(c):r.specificOffset,m=!vt(s.ordinal),g=!vt(s.year),w=!vt(s.month)||!vt(s.day),S=g||w,$=s.weekYear||s.weekNumber;if((S||m)&&$)throw new Fp("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(w&&m)throw new Fp("Can't mix ordinal dates with month/day");const x=$||s.weekday&&!S;let M,P,F=$1(c,d);x?(M=XY,P=JY,F=Vw(F,o,l)):m?(M=QY,P=KY,F=Db(F)):(M=G6,P=z6);let V=!1;for(const ge of M){const Pe=s[ge];vt(Pe)?V?s[ge]=P[ge]:s[ge]=F[ge]:V=!0}const U=x?kZ(s,o,l):m?AZ(s):p6(s),z=U||f6(s);if(z)return nt.invalid(z);const Z=x?UP(s,o,l):m?jP(s):s,[Q,pe]=Ev(Z,d,n),ye=new nt({ts:Q,zone:n,o:pe,loc:i});return s.weekday&&S&&t.weekday!==ye.weekday?nt.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${ye.toISO()}`):ye.isValid?ye:nt.invalid(ye.invalid)}static fromISO(t,r={}){const[n,i]=_Y(t);return np(n,i,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[n,i]=SY(t);return np(n,i,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[n,i]=bY(t);return np(n,i,r,"HTTP",r)}static fromFormat(t,r,n={}){if(vt(t)||vt(r))throw new Fn("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=n,o=Zt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[l,c,d,m]=YY(o,t,r);return m?nt.invalid(m):np(l,c,n,`format ${r}`,t,d)}static fromString(t,r,n={}){return nt.fromFormat(t,r,n)}static fromSQL(t,r={}){const[n,i]=AY(t);return np(n,i,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new Fn("need to specify a reason the DateTime is invalid");const n=t instanceof Co?t:new Co(t,r);if(Ur.throwOnInvalid)throw new tZ(n);return new nt({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){const n=U6(t,Zt.fromObject(r));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(t,r={}){return L6(zn.parseFormat(t),Zt.fromObject(r)).map(i=>i.val).join("")}static resetCache(){Tv=void 0,$v={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?jb(this).weekYear:NaN}get weekNumber(){return this.isValid?jb(this).weekNumber:NaN}get weekday(){return this.isValid?jb(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?zb(this).weekday:NaN}get localWeekNumber(){return this.isValid?zb(this).weekNumber:NaN}get localWeekYear(){return this.isValid?zb(this).weekYear:NaN}get ordinal(){return this.isValid?Db(this.c).ordinal:NaN}get monthShort(){return this.isValid?E1.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?E1.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?E1.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?E1.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,r=6e4,n=J_(this.c),i=this.zone.offset(n-t),s=this.zone.offset(n+t),o=this.zone.offset(n-i*r),l=this.zone.offset(n-s*r);if(o===l)return[this];const c=n-o*r,d=n-l*r,m=$1(c,o),g=$1(d,l);return m.hour===g.hour&&m.minute===g.minute&&m.second===g.second&&m.millisecond===g.millisecond?[td(this,{ts:c}),td(this,{ts:d})]:[this]}get isInLeapYear(){return Z0(this.year)}get daysInMonth(){return Bw(this.year,this.month)}get daysInYear(){return this.isValid?Wp(this.year):NaN}get weeksInWeekYear(){return this.isValid?m0(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?m0(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:n,calendar:i}=zn.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(t=0,r={}){return this.setZone(Vn.instance(t),r)}toLocal(){return this.setZone(Ur.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(t=tc(t,Ur.defaultZone),t.equals(this.zone))return this;if(t.isValid){let i=this.ts;if(r||n){const s=t.offset(this.ts),o=this.toObject();[i]=Ev(o,s,t)}return td(this,{ts:i,zone:t})}else return nt.invalid(Vm(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:n}={}){const i=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:n});return td(this,{loc:i})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=Hw(t,eO),{minDaysInFirstWeek:n,startOfWeek:i}=zP(r,this.loc),s=!vt(r.weekYear)||!vt(r.weekNumber)||!vt(r.weekday),o=!vt(r.ordinal),l=!vt(r.year),c=!vt(r.month)||!vt(r.day),d=l||c,m=r.weekYear||r.weekNumber;if((d||o)&&m)throw new Fp("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&o)throw new Fp("Can't mix ordinal dates with month/day");let g;s?g=UP({...Vw(this.c,n,i),...r},n,i):vt(r.ordinal)?(g={...this.toObject(),...r},vt(r.day)&&(g.day=Math.min(Bw(g.year,g.month),g.day))):g=jP({...Db(this.c),...r});const[w,S]=Ev(g,this.o,this.zone);return td(this,{ts:w,o:S})}plus(t){if(!this.isValid)return this;const r=Lt.fromDurationLike(t);return td(this,XP(this,r))}minus(t){if(!this.isValid)return this;const r=Lt.fromDurationLike(t).negate();return td(this,XP(this,r))}startOf(t,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const n={},i=Lt.normalizeUnit(t);switch(i){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(i==="weeks")if(r){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(n.weekNumber=this.weekNumber-1),n.weekday=s}else n.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);n.month=(s-1)*3+1}return this.set(n)}endOf(t,r){return this.isValid?this.plus({[t]:1}).startOf(t,r).minus(1):this}toFormat(t,r={}){return this.isValid?zn.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):Ub}toLocaleString(t=Gw,r={}){return this.isValid?zn.create(this.loc.clone(r),t).formatDateTime(this):Ub}toLocaleParts(t={}){return this.isValid?zn.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=t==="extended";let l=Gb(this,o);return l+="T",l+=QP(this,o,r,n,i,s),l}toISODate({format:t="extended"}={}){return this.isValid?Gb(this,t==="extended"):null}toISOWeekDate(){return x1(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+QP(this,o==="extended",r,t,n,s):null}toRFC2822(){return x1(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return x1(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Gb(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||t)&&(n&&(i+=" "),r?i+="z":t&&(i+="ZZ")),x1(this,i,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():Ub}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",n={}){if(!this.isValid||!t.isValid)return Lt.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...n},s=PZ(r).map(Lt.normalizeUnit),o=t.valueOf()>this.valueOf(),l=o?this:t,c=o?t:this,d=LY(l,c,s,i);return o?d.negate():d}diffNow(t="milliseconds",r={}){return this.diff(nt.now(),t,r)}until(t){return this.isValid?Fr.fromDateTimes(this,t):this}hasSame(t,r,n){if(!this.isValid)return!1;const i=t.valueOf(),s=this.setZone(t.zone,{keepLocalTime:!0});return s.startOf(r,n)<=i&&i<=s.endOf(r,n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||nt.fromObject({},{zone:this.zone}),n=t.padding?this<r?-t.padding:t.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=t.unit;return Array.isArray(t.unit)&&(i=t.unit,s=void 0),rO(r,this.plus(n),{...t,numeric:"always",units:i,unit:s})}toRelativeCalendar(t={}){return this.isValid?rO(t.base||nt.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(nt.isDateTime))throw new Fn("min requires all arguments be DateTimes");return GP(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(nt.isDateTime))throw new Fn("max requires all arguments be DateTimes");return GP(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,n={}){const{locale:i=null,numberingSystem:s=null}=n,o=Zt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return F6(o,t,r)}static fromStringExplain(t,r,n={}){return nt.fromFormatExplain(t,r,n)}static buildFormatParser(t,r={}){const{locale:n=null,numberingSystem:i=null}=r,s=Zt.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0});return new D6(s,t)}static fromFormatParser(t,r,n={}){if(vt(t)||vt(r))throw new Fn("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:s=null}=n,o=Zt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});if(!o.equals(r.locale))throw new Fn(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${r.locale}`);const{result:l,zone:c,specificOffset:d,invalidReason:m}=r.explainFromTokens(t);return m?nt.invalid(m):np(l,c,n,`format ${r.format}`,t,d)}static get DATE_SHORT(){return Gw}static get DATE_MED(){return BD}static get DATE_MED_WITH_WEEKDAY(){return iZ}static get DATE_FULL(){return HD}static get DATE_HUGE(){return WD}static get TIME_SIMPLE(){return qD}static get TIME_WITH_SECONDS(){return ZD}static get TIME_WITH_SHORT_OFFSET(){return YD}static get TIME_WITH_LONG_OFFSET(){return JD}static get TIME_24_SIMPLE(){return KD}static get TIME_24_WITH_SECONDS(){return XD}static get TIME_24_WITH_SHORT_OFFSET(){return QD}static get TIME_24_WITH_LONG_OFFSET(){return e6}static get DATETIME_SHORT(){return t6}static get DATETIME_SHORT_WITH_SECONDS(){return r6}static get DATETIME_MED(){return n6}static get DATETIME_MED_WITH_SECONDS(){return i6}static get DATETIME_MED_WITH_WEEKDAY(){return sZ}static get DATETIME_FULL(){return s6}static get DATETIME_FULL_WITH_SECONDS(){return o6}static get DATETIME_HUGE(){return a6}static get DATETIME_HUGE_WITH_SECONDS(){return l6}}function ym(e){if(nt.isDateTime(e))return e;if(e&&e.valueOf&&cc(e.valueOf()))return nt.fromJSDate(e);if(e&&typeof e=="object")return nt.fromObject(e);throw new Fn(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const Oa="system",OM="unknown",y0="UTC",rJ=Intl.DateTimeFormat().resolvedOptions().timeZone,nJ="shortOffset";function iJ(e){return"timeZoneIANA"in e}function sJ(e){return e.startsWith("UTC")}function C1e(e,t=!1){return{json:{read:{source:e,reader:(r,n)=>n[e]?oJ(n[e]):null},write:!!t&&{allowNull:!0,writer(r,n){n[e]=r?aJ(r):null}}}}}function oJ(e,t=Oa){return e?iJ(e)?e.timeZoneIANA:lJ(e,t):t}function aJ(e){return{timeZoneIANA:e}}function lJ(e,t=Oa){if(!e||!MP.has(e.timeZone))return t;const r=MP.get(e.timeZone);return sJ(e.timeZone)||e.respectsDaylightSaving?r:uJ(r)}function uJ(e){const t=nt.local().setZone(e),r=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return r===0?"Etc/UTC":`Etc/GMT${Vn.instance(-r).formatOffset(0,"narrow")}`}function R1e(e,t,r,n,i){if(t&&i==="date")return{timeZone:y0,timeZoneName:void 0};const s=n.timeStyle||n.hour,o=r===OM;return{timeZone:o?i==="timestamp-offset"?void 0:e??y0:r,timeZoneName:o&&s?nJ:void 0}}function cJ(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),r=new Set(Intl.supportedValuesOf("timeZone").map(n=>n.toLowerCase()));return e===Oa||e===OM||t.has(e.toLowerCase())||r.has(e.toLowerCase())}const dJ={year:void 0,month:void 0,day:void 0,weekday:void 0},hJ={hour:void 0,minute:void 0,second:void 0},V6={timeZone:y0},oa={year:"numeric",month:"numeric",day:"numeric"},gm={year:"numeric",month:"long",day:"numeric"},vm={year:"numeric",month:"short",day:"numeric"},wm={year:"numeric",month:"long",weekday:"long",day:"numeric"},Yu={hour:"numeric",minute:"numeric"},dd={...Yu,second:"numeric"},B6={hourCycle:"h23"},_m={...Yu,...B6},Sm={...dd,...B6},H6={"short-date":oa,"short-date-short-time":{...oa,...Yu},"short-date-short-time-24":{...oa,..._m},"short-date-long-time":{...oa,...dd},"short-date-long-time-24":{...oa,...Sm},"short-date-le":oa,"short-date-le-short-time":{...oa,...Yu},"short-date-le-short-time-24":{...oa,..._m},"short-date-le-long-time":{...oa,...dd},"short-date-le-long-time-24":{...oa,...Sm},"long-month-day-year":gm,"long-month-day-year-short-time":{...gm,...Yu},"long-month-day-year-short-time-24":{...gm,..._m},"long-month-day-year-long-time":{...gm,...dd},"long-month-day-year-long-time-24":{...gm,...Sm},"day-short-month-year":vm,"day-short-month-year-short-time":{...vm,...Yu},"day-short-month-year-short-time-24":{...vm,..._m},"day-short-month-year-long-time":{...vm,...dd},"day-short-month-year-long-time-24":{...vm,...Sm},"long-date":wm,"long-date-short-time":{...wm,...Yu},"long-date-short-time-24":{...wm,..._m},"long-date-long-time":{...wm,...dd},"long-date-long-time-24":{...wm,...Sm},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Yu,"long-time":dd},pJ=li()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),W6={ar:"ar-u-nu-latn-ca-gregory"};let VT=new WeakMap;const Q_=H6["short-date-short-time"];function fJ(e){let t=VT.get(e);if(!t){const r=Oi(),n=W6[r]||r,i=NM(e.timeZone??Oa),s={...e,timeZone:i};t=new Intl.DateTimeFormat(n,s),VT.set(e,t)}return t}function P1e(e){return H6[e]}function IM(e,t=Q_){return fJ(t).format(e)}function O1e(e,t=Q_){return IM(new Date(e),{...t,...V6,...hJ})}function I1e(e,t=Q_){return IM(new Date(`1970-01-01T${e}Z`),{...t,...V6,...dJ})}function N1e(e,t=Q_){if(t.timeZone)return IM(new Date(e),t);const r=nt.fromISO(e,{setZone:!0}),n=Oi(),i=W6[n]??n,s=r.offset===0?y0:t.timeZone,o={...t,timeZone:s};return r.toLocaleString(o,{locale:i})}function NM(e){switch(e){case Oa:return rJ;case OM:return y0;default:return e}}TM(()=>{VT=new WeakMap});const mJ={ar:"ar-u-nu-latn"};let xv=new WeakMap,q6={};function BT(e){const t=e||q6;if(!xv.has(t)){const r=Oi(),n=mJ[Oi()]||r;xv.set(t,new Intl.NumberFormat(n,e))}return xv.get(t)}function L1e(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function D1e(e,t){return Object.is(e,-0)&&(e=0),BT(t).format(e)}function F1e(e,t=Oi()){if(!e)return null;let r=iO.get(t);if(!r){const n=BT().formatToParts(12345.6),i=[...BT({useGrouping:!1}).format(9876543210)].reverse(),s=new Map(i.map((g,w)=>[g,w])),o=new RegExp(`[${n.find(g=>g.type==="group")?.value}]`,"g"),l=new RegExp(`[${n.find(g=>g.type==="decimal")?.value}]`),c=new RegExp(`[${i.join("")}]`,"g"),d=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,m=/[-\u2212\u2013\u2014\u2015]/g;r=g=>{if((g=g.trim().replaceAll(o,"").replace(l,".").replace(c,S=>String(s.get(S))).replaceAll(d,"").replaceAll(m,"-"))==="")return null;const w=Number(g);return isNaN(w)?null:w},iO.set(t,r)}return r(e)}TM(()=>{xv=new WeakMap,q6={}});const iO=new Map,sO=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,yJ={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function oO(e){return e in yJ}const Bm=[],Zp=new Map;function aO(e){for(const t of Zp.keys())Y6(e.pattern,t)&&Zp.delete(t)}function gJ(e){return Bm.includes(e)||(aO(e),Bm.unshift(e)),Dt(()=>{const t=Bm.indexOf(e);t>-1&&(Bm.splice(t,1),aO(e))})}async function Z6(e){const t=Oi();Zp.has(e)||Zp.set(e,wJ(e,t));const r=Zp.get(e);return r&&await _J.add(r),r}function vJ(e){if(!sO.test(e))return null;const t=sO.exec(e);if(t===null)return null;const[,r,n]=t,i=r+(n?"-"+n.toUpperCase():"");return oO(i)?i:oO(r)?r:null}async function wJ(e,t){const r=[];for(const n of Bm)if(Y6(n.pattern,e))try{return await n.fetchMessageBundle(e,t)}catch(i){r.push(i)}throw r.length?new fe("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r}):new fe("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function Y6(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}TM(()=>{Zp.clear()});const _J=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=Vs())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function SJ(e,t,r,n){const i=t.exec(r);if(!i)throw new fe("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const s=i[1]?`${i[1]}/`:"",o=i[2],l=vJ(n),c=`${s}${o}.json`,d=l?`${s}${o}_${l}.json`:c;let m;try{m=await lO(e(d))}catch(g){if(d===c)throw new fe("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:g});try{m=await lO(e(c))}catch(w){throw new fe("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:w})}}return m}async function lO(e){if(uO.fetchBundleAsset!=null)return uO.fetchBundleAsset(e);const t=await Ar(e,{responseType:"text"});return JSON.parse(t.data)}let bJ=class{constructor({base:t="",pattern:r,location:n=new URL(window.location.href)}){let i;i=typeof n=="string"?s=>new URL(s,new URL(n,window.location.href)).href:n instanceof URL?s=>new URL(s,n).href:n,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=i,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,r){return SJ(this.getAssetUrl,this.matcher,t,r)}};function EJ(e){return new bJ(e)}const uO={};gJ(EJ({pattern:"esri/",location:zt}));const cO={};function TJ(e){const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:e.packages?.slice()||[],paths:{...cO.paths,...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=cO.baseUrl),t}let $J=class{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(r=>{this[r]=(...n)=>t[r](...n)})}},Mv=class{constructor(){this._dispatcher=new $J,this._workerPostMessage({type:dn.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){Tw(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,r,n){this._dispatcher.addEventListener(t,r,n)}removeEventListener(t,r,n){this._dispatcher.removeEventListener(t,r,n)}_workerPostMessage(t){Tw(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const r=f0(t);if(r&&r.type===dn.OPEN){const{modulePath:n,jobId:i}=r;let s=await mc.loadWorker(n);s||(s=await import(n));const o=mc.connect(s);this._workerPostMessage({type:dn.OPENED,jobId:i,data:o})}}};const HT=()=>Ne.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:xJ}=dn,MJ='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let M1,k1;const dO="Failed to create Worker. Fallback to execute module in main thread";async function kJ(){if(!ie("esri-workers"))return hO(new Mv);if(!M1&&!k1)try{const t=MJ.split("{CONFIGURATION}").join(AJ());M1=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){k1=t||{}}let e;if(M1)try{e=new Worker(M1,{name:"esri-worker-"+CJ++})}catch{HT().warn(dO,k1),e=new Mv}else HT().warn(dO,k1),e=new Mv;return hO(e)}async function hO(e){return new Promise(t=>{function r(i){const s=f0(i);s&&s.type===xJ&&(e.removeEventListener("message",r),e.removeEventListener("error",n),t(e))}function n(i){i.preventDefault(),e.removeEventListener("message",r),e.removeEventListener("error",n),HT().warn("Failed to create Worker. Fallback to execute module in main thread",i),(e=new Mv).addEventListener("message",r),e.addEventListener("error",n)}e.addEventListener("message",r),e.addEventListener("error",n)})}function AJ(){let e;if(Vt.default!=null){const i={...Vt};delete i.default,e=JSON.parse(JSON.stringify(i))}else e=JSON.parse(JSON.stringify(Vt));e.assetsPath=Ls(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?Ls(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=Oi(),e.has={"esri-csp-restrictions":ie("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":ie("esri-2d-update-debug"),"esri-2d-log-updating":ie("esri-2d-log-updating"),"featurelayer-pbf":ie("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":ie("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":ie("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":ie("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":ie("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":ie("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":ie("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-enabled":ie("featurelayer-snapshot-enabled"),"esri-atomics":ie("esri-atomics"),"esri-shared-array-buffer":ie("esri-shared-array-buffer"),"esri-tiles-debug":ie("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":ie("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":ie("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=Ls(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=Ls(e.workers.workerPath):e.workers.workerPath=Ls(zt("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=Vt.workers.loaderConfig,r=TJ({baseUrl:t?.baseUrl,locale:Oi(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t?.has},map:{...t?.map},paths:{...t?.paths},packages:t?.packages||[]});return JSON.stringify({esriConfig:e,loaderConfig:r,kernelInfo:{buildDate:k5,fullVersion:iM,revision:A5}})}let CJ=0;const{ABORT:pO,INVOKE:RJ,OPEN:PJ,OPENED:OJ,RESPONSE:bm}=dn;let IJ=class J6{static async create(t){const r=await kJ();return new J6(r,t)}constructor(t,r){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",n=>{n.preventDefault(),Ne.getLogger("esri.core.workers.WorkerOwner").error(n)})}terminate(){this.worker.terminate()}async open(t,r={}){const{signal:n}=r,i=jD();return new Promise((s,o)=>{const l={resolve:s,reject:o,abortHandle:W3(n,()=>{this._outJobs.delete(i),this._post({type:pO,jobId:i})})};this._outJobs.set(i,l),this._post({type:PJ,jobId:i,modulePath:t})})}_onMessage(t){const r=f0(t);if(r)switch(r.type){case OJ:this._onOpenedMessage(r);break;case bm:this._onResponseMessage(r);break;case pO:this._onAbortMessage(r);break;case RJ:this._onInvokeMessage(r)}}_onAbortMessage(t){const r=this._inJobs,n=t.jobId,i=r.get(n);i&&(i.controller&&i.controller.abort(),r.delete(n))}_onInvokeMessage(t){const{methodName:r,jobId:n,data:i,abortable:s}=t,o=s?new AbortController:null,l=this._inJobs,c=Xq[r];let d;try{if(typeof c!="function")throw new TypeError(`${r} is not a function`);d=c.call(null,i,{signal:o?o.signal:null})}catch(m){return void this._post({type:bm,jobId:n,error:p0(m)})}Da(d)?(l.set(n,{controller:o,promise:d}),d.then(m=>{l.has(n)&&(l.delete(n),this._post({type:bm,jobId:n},m))},m=>{l.has(n)&&(l.delete(n),m||(m={message:"Error encountered at method"+r}),Li(m)||this._post({type:bm,jobId:n,error:p0(m||{message:`Error encountered at method ${r}`})}))})):this._post({type:bm,jobId:n},d)}_onOpenedMessage(t){const{jobId:r,data:n}=t,i=this._outJobs.get(r);i&&(this._outJobs.delete(r),_r(i.abortHandle),i.resolve(n))}_onResponseMessage(t){const{jobId:r,error:n,data:i}=t,s=this._outJobs.get(r);s&&(this._outJobs.delete(r),_r(s.abortHandle),n?s.reject(fe.fromJSON(JSON.parse(n))):s.resolve(i))}_post(t,r,n){return EM(this.worker,t,r,n)}};const fO=ie("host-browser")?Math.min(navigator.hardwareConcurrency-1,ie("workers-pool-size")??8):0;let Wd=ie("esri-mobile")?Math.min(fO,3):fO;Wd||(Wd=ie("safari")&&ie("mac")?7:2);let mO=0;const kv=[];function NJ(){K6()}async function A1(e,t){const r=new Kq,{registryTarget:n,...i}=t;return await r.open(e,i),n&&zq(n,r),r}async function G1e(e,t={}){if(typeof e!="string")throw new fe("workers:undefined-module","modulePath is missing");let r=t.strategy||"distributed";if(ie("host-webworker")&&!ie("esri-workers")&&(r="local"),r==="local"){let n=await mc.loadWorker(e);n||(n=await import(e)),br(t.signal);const i=t.client||n;return A1([mc.connect(n,t.schedule)],{...t,client:i})}if(await K6(),br(t.signal),r==="dedicated"){const n=mO++%Wd;return A1([await kv[n].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const n=Math.min(t.maxNumWorkers,Wd);if(n<Wd){const i=new Array(n);for(let s=0;s<n;++s){const o=mO++%Wd;i[s]=kv[o].open(e,t)}return A1(i,t)}}return A1(kv.map(n=>n.open(e,t)),t)}let C1=null;async function K6(){if(C1)return C1;new AbortController;const e=[];for(let t=0;t<Wd;t++){const r=IJ.create(t).then(n=>(kv[t]=n,n));e.push(r)}return C1=Promise.all(e),C1}function xc(){return[0,0,0]}function LM(e){return[e[0],e[1],e[2]]}function kf(e,t,r){return[e,t,r]}function LJ(e,t,r){return[e,t,r]}function DJ(e,t=xc()){const r=Math.min(3,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function FJ(e,t){return new Float64Array(e,t,3)}function X6(){return xc()}function Q6(){return kf(1,1,1)}function eF(){return kf(1,0,0)}function tF(){return kf(0,1,0)}function rF(){return kf(0,0,1)}const UJ=X6(),jJ=Q6(),zJ=eF(),GJ=tF(),VJ=rF();Object.freeze(Object.defineProperty({__proto__:null,ONES:jJ,UNIT_X:zJ,UNIT_Y:GJ,UNIT_Z:VJ,ZEROS:UJ,clone:LM,create:xc,createView:FJ,freeze:LJ,fromArray:DJ,fromValues:kf,ones:Q6,unitX:eF,unitY:tF,unitZ:rF,zeros:X6},Symbol.toStringTag,{value:"Module"}));const V1e=Math.PI/180,B1e=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,Eu=Pr.radius,mo=Pr.eccentricitySquared,BJ={a1:Eu*mo,a2:Eu*mo*Eu*mo,a3:Eu*mo*mo/2,a4:Eu*mo*Eu*mo*2.5,a5:Eu*mo+Eu*mo*mo/2,a6:1-mo},H1e={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:Pr.radius,f:Pr.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:pc.radius,f:pc.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:xa.radius,f:xa.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:xa.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var Y;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(Y||(Y={}));const HJ={[Y.WGS84]:{[Y.CGCS2000]:gr,[Y.GCSMARS2000]:null,[Y.GCSMOON2000]:null,[Y.LON_LAT]:gr,[Y.SPHERICAL_ECEF]:jy,[Y.SPHERICAL_MARS_PCPF]:null,[Y.SPHERICAL_MOON_PCPF]:null,[Y.UNKNOWN]:null,[Y.WEB_MERCATOR]:Yp,[Y.PLATE_CARREE]:Jp,[Y.WGS84]:gr,[Y.WGS84_ECEF]:Qp},[Y.CGCS2000]:{[Y.CGCS2000]:gr,[Y.GCSMARS2000]:null,[Y.GCSMOON2000]:null,[Y.LON_LAT]:gr,[Y.SPHERICAL_ECEF]:jy,[Y.SPHERICAL_MARS_PCPF]:null,[Y.SPHERICAL_MOON_PCPF]:null,[Y.UNKNOWN]:null,[Y.WEB_MERCATOR]:Yp,[Y.PLATE_CARREE]:Jp,[Y.WGS84]:gr,[Y.WGS84_ECEF]:Qp},[Y.GCSMARS2000]:{[Y.CGCS2000]:null,[Y.GCSMARS2000]:gr,[Y.GCSMOON2000]:null,[Y.LON_LAT]:gr,[Y.SPHERICAL_ECEF]:null,[Y.SPHERICAL_MARS_PCPF]:vO,[Y.SPHERICAL_MOON_PCPF]:null,[Y.UNKNOWN]:null,[Y.WEB_MERCATOR]:null,[Y.PLATE_CARREE]:null,[Y.WGS84]:null,[Y.WGS84_ECEF]:null},[Y.GCSMOON2000]:{[Y.CGCS2000]:null,[Y.GCSMARS2000]:null,[Y.GCSMOON2000]:gr,[Y.LON_LAT]:gr,[Y.SPHERICAL_ECEF]:null,[Y.SPHERICAL_MARS_PCPF]:null,[Y.SPHERICAL_MOON_PCPF]:gO,[Y.UNKNOWN]:null,[Y.WEB_MERCATOR]:null,[Y.PLATE_CARREE]:null,[Y.WGS84]:null,[Y.WGS84_ECEF]:null},[Y.WEB_MERCATOR]:{[Y.CGCS2000]:Uy,[Y.GCSMARS2000]:null,[Y.GCSMOON2000]:null,[Y.LON_LAT]:Uy,[Y.SPHERICAL_ECEF]:WJ,[Y.SPHERICAL_MARS_PCPF]:null,[Y.SPHERICAL_MOON_PCPF]:null,[Y.UNKNOWN]:null,[Y.WEB_MERCATOR]:gr,[Y.PLATE_CARREE]:YJ,[Y.WGS84]:Uy,[Y.WGS84_ECEF]:qJ},[Y.WGS84_ECEF]:{[Y.CGCS2000]:ef,[Y.GCSMARS2000]:null,[Y.GCSMOON2000]:null,[Y.LON_LAT]:ef,[Y.SPHERICAL_ECEF]:iK,[Y.SPHERICAL_MARS_PCPF]:null,[Y.SPHERICAL_MOON_PCPF]:null,[Y.UNKNOWN]:null,[Y.WEB_MERCATOR]:sK,[Y.PLATE_CARREE]:JJ,[Y.WGS84]:ef,[Y.WGS84_ECEF]:gr},[Y.SPHERICAL_ECEF]:{[Y.CGCS2000]:Xp,[Y.GCSMARS2000]:null,[Y.GCSMOON2000]:null,[Y.LON_LAT]:Xp,[Y.SPHERICAL_ECEF]:gr,[Y.SPHERICAL_MARS_PCPF]:null,[Y.SPHERICAL_MOON_PCPF]:null,[Y.UNKNOWN]:null,[Y.WEB_MERCATOR]:tK,[Y.PLATE_CARREE]:KJ,[Y.WGS84]:Xp,[Y.WGS84_ECEF]:rK},[Y.SPHERICAL_MARS_PCPF]:{[Y.CGCS2000]:null,[Y.GCSMARS2000]:_O,[Y.GCSMOON2000]:null,[Y.LON_LAT]:_O,[Y.SPHERICAL_ECEF]:null,[Y.SPHERICAL_MARS_PCPF]:gr,[Y.SPHERICAL_MOON_PCPF]:null,[Y.UNKNOWN]:null,[Y.WEB_MERCATOR]:null,[Y.PLATE_CARREE]:null,[Y.WGS84]:null,[Y.WGS84_ECEF]:null},[Y.SPHERICAL_MOON_PCPF]:{[Y.CGCS2000]:null,[Y.GCSMARS2000]:null,[Y.GCSMOON2000]:wO,[Y.LON_LAT]:wO,[Y.SPHERICAL_ECEF]:null,[Y.SPHERICAL_MARS_PCPF]:null,[Y.SPHERICAL_MOON_PCPF]:gr,[Y.UNKNOWN]:null,[Y.WEB_MERCATOR]:null,[Y.PLATE_CARREE]:null,[Y.WGS84]:null,[Y.WGS84_ECEF]:null},[Y.UNKNOWN]:{[Y.CGCS2000]:null,[Y.GCSMARS2000]:null,[Y.GCSMOON2000]:null,[Y.LON_LAT]:null,[Y.SPHERICAL_ECEF]:null,[Y.SPHERICAL_MARS_PCPF]:null,[Y.SPHERICAL_MOON_PCPF]:null,[Y.UNKNOWN]:gr,[Y.WEB_MERCATOR]:null,[Y.PLATE_CARREE]:null,[Y.WGS84]:null,[Y.WGS84_ECEF]:null},[Y.LON_LAT]:{[Y.CGCS2000]:gr,[Y.GCSMARS2000]:gr,[Y.GCSMOON2000]:gr,[Y.LON_LAT]:gr,[Y.SPHERICAL_ECEF]:jy,[Y.SPHERICAL_MARS_PCPF]:vO,[Y.SPHERICAL_MOON_PCPF]:gO,[Y.UNKNOWN]:null,[Y.WEB_MERCATOR]:Yp,[Y.PLATE_CARREE]:Jp,[Y.WGS84]:gr,[Y.WGS84_ECEF]:Qp},[Y.PLATE_CARREE]:{[Y.CGCS2000]:Kp,[Y.GCSMARS2000]:null,[Y.GCSMOON2000]:null,[Y.LON_LAT]:Kp,[Y.SPHERICAL_ECEF]:XJ,[Y.SPHERICAL_MARS_PCPF]:null,[Y.SPHERICAL_MOON_PCPF]:null,[Y.UNKNOWN]:null,[Y.WEB_MERCATOR]:QJ,[Y.PLATE_CARREE]:gr,[Y.WGS84]:Kp,[Y.WGS84_ECEF]:eK}};function nF(e,t,r=iF()){return e==null||t==null?null:oK(e,t,r).projector}function yO(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=Tc(e,1)),Dw(e)?t.spatialReferenceId=Y.SPHERICAL_ECEF:lh(e)?t.spatialReferenceId=Y.WGS84:Ca(e)?t.spatialReferenceId=Y.WEB_MERCATOR:tW(e)?t.spatialReferenceId=Y.PLATE_CARREE:e.wkt===sW.wkt?t.spatialReferenceId=Y.WGS84_ECEF:e.wkid===ah.CGCS2000?t.spatialReferenceId=Y.CGCS2000:e.wkt===aM.wkt?t.spatialReferenceId=Y.SPHERICAL_MARS_PCPF:e.wkt===lM.wkt?t.spatialReferenceId=Y.SPHERICAL_MOON_PCPF:z5(e)?t.spatialReferenceId=Y.GCSMARS2000:G5(e)?t.spatialReferenceId=Y.GCSMOON2000:t.spatialReferenceId=Y.UNKNOWN):Y.UNKNOWN}function gr(e,t,r,n){e!==r&&(r[n++]=e[t++],r[n++]=e[t++],r[n]=e[t])}function Uy(e,t,r,n){r[n]=yf*(e[t]/eh),r[n+1]=yf*(oF-2*Math.atan(Math.exp(-e[t+1]/eh))),r[n+2]=e[t+2]}function WJ(e,t,r,n){const i=e[t]/eh,s=oF-2*Math.atan(Math.exp(-e[t+1]/eh)),o=eh+e[t+2],l=Math.cos(s)*o;r[n]=Math.cos(i)*l,r[n+1]=Math.sin(i)*l,r[n+2]=Math.sin(s)*o}function qJ(e,t,r,n){Uy(e,t,r,n),Qp(r,n,r,n)}function ZJ(e,t,r,n,i){const s=.4999999*eS,o=Uo(mf*e[t+1],-s,s),l=Math.sin(o);r[n++]=mf*e[t]*i.radius,r[n++]=i.halfSemiMajorAxis*Math.log((1+l)/(1-l)),r[n]=e[t+2]}function Yp(e,t,r,n){ZJ(e,t,r,n,Pr)}function Jp(e,t,r,n){r[n]=e[t]*SO,r[n+1]=e[t+1]*SO,r[n+2]=e[t+2]}function Kp(e,t,r,n){r[n]=e[t]*bO,r[n+1]=e[t+1]*bO,r[n+2]=e[t+2]}function YJ(e,t,r,n){Uy(e,t,r,n),Jp(r,n,r,n)}function JJ(e,t,r,n){ef(e,t,r,n),Jp(r,n,r,n)}function KJ(e,t,r,n){Xp(e,t,r,n),Jp(r,n,r,n)}function XJ(e,t,r,n){Kp(e,t,r,n),jy(r,n,r,n)}function QJ(e,t,r,n){Kp(e,t,r,n),Yp(r,n,r,n)}function eK(e,t,r,n){Kp(e,t,r,n),Qp(r,n,r,n)}function DM(e,t,r,n,i){const s=i+e[t+2],o=mf*e[t+1],l=mf*e[t],c=Math.cos(o)*s;r[n]=Math.cos(l)*c,r[n+1]=Math.sin(l)*c,r[n+2]=Math.sin(o)*s}function gO(e,t,r,n){DM(e,t,r,n,pc.radius)}function vO(e,t,r,n){DM(e,t,r,n,xa.radius)}function jy(e,t,r,n){DM(e,t,r,n,Pr.radius)}function FM(e,t,r,n,i){const s=e[t],o=e[t+1],l=e[t+2],c=Math.sqrt(s*s+o*o+l*l),d=uq(l/(c===0?1:c)),m=Math.atan2(o,s);r[n++]=yf*m,r[n++]=yf*d,r[n]=c-i}function wO(e,t,r,n){FM(e,t,r,n,pc.radius)}function _O(e,t,r,n){FM(e,t,r,n,xa.radius)}function Xp(e,t,r,n){FM(e,t,r,n,Pr.radius)}function tK(e,t,r,n){Xp(e,t,r,n),Yp(r,n,r,n)}function rK(e,t,r,n){Xp(e,t,r,n),Qp(r,n,r,n)}function nK(e,t,r,n,i){const s=mf*e[t],o=mf*e[t+1],l=e[t+2],c=Math.sin(o),d=Math.cos(o),m=i.radius/Math.sqrt(1-i.eccentricitySquared*c*c);r[n++]=(m+l)*d*Math.cos(s),r[n++]=(m+l)*d*Math.sin(s),r[n++]=(m*(1-i.eccentricitySquared)+l)*c}function Qp(e,t,r,n){nK(e,t,r,n,Pr)}function ef(e,t,r,n){const i=BJ,s=e[t],o=e[t+1],l=e[t+2];let c,d,m,g,w,S,$,x,M,P,F,V,U,z,Z,Q,pe,ye,ge,Pe,Me;c=Math.abs(l),d=s*s+o*o,m=Math.sqrt(d),g=d+l*l,w=Math.sqrt(g),Pe=Math.atan2(o,s),S=l*l/g,$=d/g,z=i.a2/w,Z=i.a3-i.a4/w,$>.3?(x=c/w*(1+$*(i.a1+z+S*Z)/w),ge=Math.asin(x),P=x*x,M=Math.sqrt(1-P)):(M=m/w*(1-S*(i.a5-z-$*Z)/w),ge=Math.acos(M),P=1-M*M,x=Math.sqrt(P)),F=1-Pr.eccentricitySquared*P,V=Pr.radius/Math.sqrt(F),U=i.a6*V,z=m-V*M,Z=c-U*x,pe=M*z+x*Z,Q=M*Z-x*z,ye=Q/(U/F+pe),ge+=ye,Me=pe+Q*ye/2,l<0&&(ge=-ge),r[n++]=yf*Pe,r[n++]=yf*ge,r[n]=Me}function iK(e,t,r,n){ef(e,t,r,n),jy(r,n,r,n)}function sK(e,t,r,n){ef(e,t,r,n),Yp(r,n,r,n)}function oK(e,t,r){if(e==null||t==null||r.source.spatialReference===e&&r.dest.spatialReference===t)return r;const n=yO(e,r.source),i=yO(t,r.dest);return n===Y.UNKNOWN&&i===Y.UNKNOWN?pn(e,t)?r.projector=gr:r.projector=null:r.projector=HJ[n][i],r}function iF(){return{source:{spatialReference:null,spatialReferenceId:Y.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:Y.UNKNOWN,metersPerUnit:1},projector:gr}}const W1e={spatialReference:null,spatialReferenceId:Y.UNKNOWN},q1e={spatialReference:null,spatialReferenceId:Y.UNKNOWN},sF=iF(),mf=W_(1),yf=lD(1),eS=Math.PI,oF=.5*eS,eh=Pr.radius,SO=eh*eS/180,bO=180/(eh*eS);function K0(e,t,r,n,i,s,o=Math.floor(e.length/3)){const l=nF(t,i,sF);if(l==null)return!1;if(l===gr){if(e===n&&r===s)return!0;const d=r+3*o;for(let m=r,g=s;m<d;m++,g++)n[g]=e[m];return!0}const c=r+3*o;for(let d=r,m=s;d<c;d+=3,m+=3)l(e,d,n,m);return!0}const Z1e=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:K0},Symbol.toStringTag,{value:"Module"}));function EO(e,t,r,n,i,s){return R1[0]=e,R1[1]=t,R1[2]=r,K0(R1,n,0,i,s,0)}const R1=xc();let P1=0,Vb=class WT{static fromGE(t){const r=new WT;return r._wkt=t.wkt,r._wkid=t.wkid,r._isInverse=t.isInverse,r}constructor(t){this.uid=P1++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=P1++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=P1++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=P1++}getInverse(){const t=new WT;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}},Ww=class Hm{static cacheKey(t,r){return[t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??"",r.wkid?.toString()??"-1",r.wkt?.toString()??"",r.wkt2?.toString()??""].join()}static fromGE(t){const r=new Hm;let n="";for(const i of t.steps){const s=Vb.fromGE(i);r.steps.push(s),n+=s.uid.toString()+","}return r._cachedProjection={},r._gtlistentry=null,r._chain=n,r}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t?.steps)for(const r of t.steps)r instanceof Vb?this.steps.push(r):this.steps.push(new Vb({wkid:r.wkid,wkt:r.wkt,isInverse:r.isInverse}))}getInverse(){const t=new Hm;t.steps=[];for(let r=this.steps.length-1;r>=0;r--){const n=this.steps[r];t.steps.push(n.getInverse())}return t}getGTListEntry(){let t="";for(const r of this.steps)t+=r.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,r,n){this._cachedProjection[Hm.cacheKey(t,r)]=n}getCachedGeTransformation(t,r){let n="";for(const s of this.steps)n+=s.uid.toString()+",";n!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=n);const i=this._cachedProjection[Hm.cacheKey(t,r)];return i===void 0?null:i}};function aK(e,t,r){if(t==null||r==null||r.vcsWkid||pn(t,r)||fc(t)||fc(r))return null;const n=lP(t)/lP(r);if(n===1)return null;switch(e){case"point":case"esriGeometryPoint":return i=>lK(i,n);case"polyline":case"esriGeometryPolyline":return i=>cK(i,n);case"polygon":case"esriGeometryPolygon":return i=>uK(i,n);case"multipoint":case"esriGeometryMultipoint":return i=>dK(i,n);case"extent":case"esriGeometryEnvelope":return i=>hK(i,n);default:return null}}function lK(e,t){e?.z!=null&&(e.z*=t)}function uK(e,t){if(e)for(const r of e.rings)for(const n of r)n.length>2&&(n[2]*=t)}function cK(e,t){if(e)for(const r of e.paths)for(const n of r)n.length>2&&(n[2]*=t)}function dK(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}function hK(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let No=null,yc=null,zy=null,Av={};const UM=new W0;function Mc(){return!!No&&sM()}function aF(){return!!Mc()||(Ze(UM),gc(),!1)}function lF(e,t){return!e||!t||Ia(e,t)||aF()}function pK(e,t){return!Ia(e,t)&&!Mc()}function gc(e){return zy==null&&(zy=Promise.all([I5(),ke(()=>import("./geometryEngineBase-8g0RzW7z.js"),__vite__mapDeps([15,3])).then(t=>t.g),ke(()=>import("./hydrated-xYJZWj2j.js"),[])])),zy.then(([,t,{hydratedAdapter:r}])=>{br(e),yc=r,No=t.default,No._enableProjection(KH),UM.notify()})}function kc(e,t,r=null,n=null){return Array.isArray(e)?e.length===0?[]:qT(yc,e,e[0].spatialReference,t,r,n):qT(yc,[e],e.spatialReference,t,r,n)[0]}function qT(e,t,r,n,i=null,s=null){if(r==null||n==null)return t;if(Ia(r,n,i))return t.map(o=>Cv(o,r,n));if(i==null&&Dw(r))return t.map(o=>Cv(o,r,_t.WGS84)).map(o=>g0(o,n));if(i==null&&Dw(n))return t.map(o=>g0(o,_t.WGS84)).map(o=>Cv(o,_t.WGS84,n));if(i==null){const o=Ww.cacheKey(r,n);Av[o]!==void 0?i=Av[o]:((i=cF(r,n,void 0))==null&&(i=new Ww),Av[o]=i)}if(No==null||e==null)throw new tS;return s!=null?No._project(e,t,r,n,i,s):No._project(e,t,r,n,i)}function fK(e,t){const r=uF([e],t);return r.pending!=null?{pending:r.pending,geometry:null}:r.geometries!=null?{pending:null,geometry:r.geometries[0]}:{pending:null,geometry:null}}function uF(e,t){if(!Mc()){for(const r of e)if(r!=null&&!pn(r.spatialReference,t)&&is(r.spatialReference)&&is(t)&&!Ia(r.spatialReference,t))return Ze(UM),{pending:gc(),geometries:null}}return{pending:null,geometries:e.map(r=>r==null?null:pn(r.spatialReference,t)?r:is(r.spatialReference)&&is(t)?g0(r,t):null)}}function cF(e,t,r=null){if(e==null||t==null)return null;if(No==null||yc==null)throw new tS;const n=No._getTransformation(yc,e,t,r,r?.spatialReference);return n!==null?Ww.fromGE(n):null}function mK(e,t,r=null){if(No==null||yc==null)throw new tS;const n=No._getTransformationBySuitability(yc,e,t,r,r?.spatialReference);if(n!==null){const i=[];for(const s of n)i.push(Ww.fromGE(s));return i}return[]}let tS=class extends fe{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function yK(){No=null,yc=null,zy=null,Av={}}const gK={get loadPromise(){return zy}};function g0(e,t){try{const r=kc(e,t);if(r==null)return null;"xmin"in e&&"xmin"in r&&(r.zmin=e.zmin,r.zmax=e.zmax);const n=aK(r.type,e.spatialReference,t);return n?.(r),r}catch(r){if(!(r instanceof tS))throw r;return null}}async function vK(e,t,r){const n=e.spatialReference;return n!=null&&t!=null&&await jM(n,t,null,r),g0(e,t)}function Ia(e,t,r){return!r&&(!!pn(e,t)||is(e)&&is(t)&&!!nF(e,t,sF))}function wK(e,t){if(pn(e,t))return!0;if(!is(e)||!is(t))return!1;const r=lh(e)||Ca(e)||oP(e),n=lh(t)||Ca(t)||oP(t);return r&&n}async function jM(e,t,r,n){if(Mc())return qR(n);if(Array.isArray(e)){for(const{source:i,dest:s,geographicTransformation:o}of e)if(i&&s&&!Ia(i,s,o))return gc(n)}else if(e&&t&&!Ia(e,t,r))return gc(n);return qR(n)}function Cv(e,t,r){return e?"x"in e?dF(e,t,new yt,r,0):"xmin"in e?mF(e,t,new tr,r,0):"rings"in e?fF(e,t,new Ra,r,0):"paths"in e?pF(e,t,new Ao,r,0):"points"in e?hF(e,t,new H_,r,0):null:null}function _K(e,t,r=t.spatialReference,n=0){return r!=null&&e.spatialReference!=null&&dF(e,e.spatialReference,t,r,n)!=null}function dF(e,t,r,n,i){Un[0]=e.x,Un[1]=e.y;const s=e.z;return Un[2]=s!==void 0?s:i,K0(Un,t,0,Un,n,0)?(r.x=Un[0],r.y=Un[1],r.spatialReference=n,s!==void 0||fc(n)?(r.z=Un[2],r.hasZ=!0):(r.z=void 0,r.hasZ=!1),e.m===void 0?(r.m=void 0,r.hasM=!1):(r.m=e.m,r.hasM=!0),r):null}function SK(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&hF(e,e.spatialReference,t,r,n)!=null}function hF(e,t,r,n,i){const{points:s,hasZ:o,hasM:l}=e,c=[],d=s.length,m=[];for(const w of s)m.push(w[0],w[1],o?w[2]:i);if(!K0(m,t,0,m,n,0,d))return null;const g=o||fc(n);for(let w=0;w<d;++w){const S=3*w,$=m[S],x=m[S+1];g&&l?c.push([$,x,m[S+2],s[w][3]]):g?c.push([$,x,m[S+2]]):l?c.push([$,x,s[w][2]]):c.push([$,x])}return r.points=c,r.spatialReference=n,r.hasZ=o,r.hasM=l,r}function bK(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&pF(e,e.spatialReference,t,r,n)!=null}function pF(e,t,r,n,i){const{paths:s,hasZ:o,hasM:l}=e,c=[];if(!yF(s,o??!1,l??!1,t,c,n,i))return null;const d=o||fc(n);return r.paths=c,r.spatialReference=n,r.hasZ=d,r.hasM=l,r}function EK(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&fF(e,e.spatialReference,t,r,n)!=null}function fF(e,t,r,n,i){const{rings:s,hasZ:o,hasM:l}=e,c=[];if(!yF(s,o??!1,l??!1,t,c,n,i))return null;const d=o||fc(n);return r.rings=c,r.spatialReference=n,r.hasZ=d,r.hasM=l,r}function TK(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&mF(e,e.spatialReference,t,r,n)!=null}function mF(e,t,r,n,i){const{xmin:s,ymin:o,xmax:l,ymax:c,hasZ:d,hasM:m}=e,g=d?e.zmin:i;if(!EO(s,o,g,t,Un,n))return null;const w=d||fc(n);r.xmin=Un[0],r.ymin=Un[1],w&&(r.zmin=Un[2]);const S=d?e.zmax:i;return EO(l,c,S,t,Un,n)?(r.xmax=Un[0],r.ymax=Un[1],w&&(r.zmax=Un[2]),m&&(r.mmin=e.mmin,r.mmax=e.mmax),r.spatialReference=n,r):null}function yF(e,t,r,n,i,s,o=0){const l=new Array;for(const m of e)for(const g of m)l.push(g[0],g[1],t?g[2]:o);if(!K0(l,n,0,l,s,0))return!1;let c=0;i.length=0;const d=t||fc(s);for(const m of e){const g=new Array;for(const w of m)d&&r?g.push([l[c++],l[c++],l[c++],w[3]]):d?g.push([l[c++],l[c++],l[c++]]):r?(g.push([l[c++],l[c++],w[2]]),c++):(g.push([l[c++],l[c++]]),c++);i.push(g)}return!0}const Un=xc(),J1e=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:Ia,getTransformation:cF,getTransformations:mK,initializeProjection:jM,isEqualBaseGCS:wK,isLoaded:Mc,isLoadedOrLoad:aF,isLoadedOrLoadFor:lF,load:gc,project:kc,projectExtent:TK,projectMany:qT,projectMultipoint:SK,projectOrLoad:fK,projectOrLoadMany:uF,projectPoint:_K,projectPolygon:EK,projectPolyline:bK,projectWithZConversion:vK,projectWithoutEngine:Cv,requiresLoad:pK,test:gK,tryProjectWithZConversion:g0,unload:yK},Symbol.toStringTag,{value:"Module"}));var ZT;let da=ZT=class extends ze{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new ZT({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};p([y({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],da.prototype,"cols",void 0),p([y({type:or,json:{write:!0}})],da.prototype,"level",void 0),p([y({type:String,json:{write:!0}})],da.prototype,"levelValue",void 0),p([y({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],da.prototype,"origin",void 0),p([y({type:Number,json:{write:!0}})],da.prototype,"resolution",void 0),p([y({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],da.prototype,"rows",void 0),p([y({type:Number,json:{write:!0}})],da.prototype,"scale",void 0),da=ZT=p([G("esri.layers.support.LOD")],da);const Gt=da;let $K=class{constructor(t,r,n,i,s=void 0){this.id=t,this.level=r,this.row=n,this.col=i,this.extent=s}};var Cu;const TO=new en({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let Sn=Cu=class extends ze{static create(e={}){const{resolutionFactor:t=1,scales:r,size:n=256,spatialReference:i=_t.WebMercator,numLODs:s=24}=e;if(!is(i)){const g=[];if(r)for(let w=0;w<r.length;w++){const S=r[w];g.push(new Gt({level:w,scale:S,resolution:S}))}else{let w=5e-4;for(let S=s-1;S>=0;S--)g.unshift(new Gt({level:S,scale:w,resolution:w})),w*=2}return new Cu({dpi:96,lods:g,origin:new yt(0,0,i),size:[n,n],spatialReference:i})}const o=ii(i),l=e.origin?new yt({x:e.origin.x,y:e.origin.y,spatialReference:i}):new yt(o?{x:o.origin[0],y:o.origin[1],spatialReference:i}:{x:0,y:0,spatialReference:i}),c=96,d=1/(Tc(i)*39.37*c),m=[];if(r)for(let g=0;g<r.length;g++){const w=r[g],S=w*d;m.push(new Gt({level:g,scale:w,resolution:S}))}else{let g=j_(i)?512/n*5916575275917094e-7:256/n*591657527591555e-6;const w=Math.ceil(s/t);m.push(new Gt({level:0,scale:g,resolution:g*d}));for(let S=1;S<w;S++){const $=g/2**t,x=$*d;m.push(new Gt({level:S,scale:$,resolution:x})),g=$}}return new Cu({dpi:c,lods:m,origin:l,size:[n,n],spatialReference:i})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const r=ii(e);return e.isWrappable&&!!r&&Math.abs(r.origin[0]-t.x)<=r.dx}return!1}readOrigin(e,t){return yt.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,r=0;const n=[],i=this._levelToLOD={};e&&(t=-1/0,r=1/0,e.forEach(s=>{n.push(s.scale),t=s.scale>t?s.scale:t,r=s.scale<r?s.scale:r,i[s.level]=s})),this._set("scales",n),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const r=Math.floor(e),n=r+1;return t[r]/(t[r]/t[n])**(e-r)}scaleToZoom(e){const t=this.scales,r=t.length-1;let n=0;for(;n<r;n++){const i=t[n],s=t[n+1];if(i<=e)return n;if(s===e)return n+1;if(i>e&&s<e)return n+Math.log(i/e)/Math.log(i/s)}return n}tileAt(e,t,r,n){const i=this.lodAt(e);if(!i)return null;let s,o;if(typeof t=="number")s=t,o=r;else if(pn(t.spatialReference,this.spatialReference))s=t.x,o=t.y,n=r;else{const d=V_(t,this.spatialReference);if(d==null)return null;s=d.x,o=d.y,n=r}const l=i.resolution*this.size[0],c=i.resolution*this.size[1];return n||(n=new $K(null,0,0,0,Ri())),n.level=e,n.row=Math.floor((this.origin.y-o)/c+.001),n.col=Math.floor((s-this.origin.x)/l+.001),this.updateTileInfo(n),n}updateTileInfo(e,t=Cu.ExtrapolateOptions.NONE){let r=this.lodAt(e.level);if(!r&&t===Cu.ExtrapolateOptions.POWER_OF_TWO){const o=this.lods[this.lods.length-1];o.level<e.level&&(r=o)}if(!r)return;const n=e.level-r.level,i=r.resolution*this.size[0]/2**n,s=r.resolution*this.size[1]/2**n;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=Ri()),e.extent[0]=this.origin.x+e.col*i,e.extent[1]=this.origin.y-(e.row+1)*s,e.extent[2]=e.extent[0]+i,e.extent[3]=e.extent[1]+s}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||t.parentLevel===-1)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const r=this.lodAt(t.level);if(r==null)return null;const{resolution:n}=r,i=n*this.size[0],s=n*this.size[1];return e[0]=this.origin.x+t.col*i,e[1]=this.origin.y-(t.row+1)*s,e[2]=e[0]+i,e[3]=e[1]+s,e}lodAt(e){return this._levelToLOD?.[e]??null}clone(){return Cu.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||this.size[0]===256&&e===512)return null;const t=(this.size[0]===512&&e===256?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&t===0)return this;const r=[],n=this.lods.length-t;for(let i=0;i<n;i++){const s=i+t,{scale:o,resolution:l}=s>=0?this.lods[s]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};r.push(new Gt({level:i,scale:o,resolution:l}))}return new Cu({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:r})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let r=0;r<e.length;r++){const n=e[r];this._upsampleLevels[n.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/n.resolution:0},t=n}}};p([y({type:Number,json:{write:!0}})],Sn.prototype,"compressionQuality",void 0),p([y({type:Number,json:{write:!0}})],Sn.prototype,"dpi",void 0),p([y({type:String,json:{read:TO.read,write:TO.write,origins:{"web-scene":{read:!1,write:!1}}}})],Sn.prototype,"format",void 0),p([y({readOnly:!0})],Sn.prototype,"isWrappable",null),p([y({type:yt,json:{write:!0}})],Sn.prototype,"origin",void 0),p([At("origin")],Sn.prototype,"readOrigin",null),p([y({type:[Gt],value:null,json:{write:!0}})],Sn.prototype,"lods",null),p([y({readOnly:!0})],Sn.prototype,"scales",void 0),p([y({cast:e=>Array.isArray(e)?e:typeof e=="number"?[e,e]:[256,256]})],Sn.prototype,"size",void 0),p([At("size",["rows","cols"])],Sn.prototype,"readSize",null),p([wt("size",{cols:{type:or},rows:{type:or}})],Sn.prototype,"writeSize",null),p([y({type:_t,json:{write:!0}})],Sn.prototype,"spatialReference",void 0),Sn=Cu=p([G("esri.layers.support.TileInfo")],Sn),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(Sn||(Sn={}));const zM=Sn,Rv={widthBreakpoint:{getValue(e){const t=e.viewSize[0],r=e.breakpoints,n=this.values;return t<=r.xsmall?n.xsmall:t<=r.small?n.small:t<=r.medium?n.medium:t<=r.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],r=e.breakpoints,n=this.values;return t<=r.xsmall?n.xsmall:t<=r.small?n.small:t<=r.medium?n.medium:t<=r.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,r=t[0],n=t[1],i=this.values;return n>=r?i.portrait:i.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},Bb={xsmall:544,small:768,medium:992,large:1200};function xK(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function Hb(e,t){return t?Rv[e].valueToClassName[t].split(" "):[]}const MK=e=>{let t=class extends e{constructor(...r){super(...r),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=Bb}initialize(){this.addHandles(dt(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),Hn))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(r){if(r!==this._get("breakpoints")){if(!xK(r)){const n=JSON.stringify(Bb,null,2);console.warn("provided breakpoints are not valid, using defaults:"+n),r=Bb}this._set("breakpoints",{...r})}}_updateClassNames(){if(!this.container)return;const r=ni.acquire(),n=ni.acquire();let i,s=!1;for(i in Rv){const o=this[i],l=Rv[i].getValue({viewSize:this.size,breakpoints:this.breakpoints});o!==l&&(s=!0,this[i]=l,Hb(i,o).forEach(c=>n.push(c)),Hb(i,l).forEach(c=>r.push(c)))}s&&(this._applyClassNameChanges(r,n),ni.release(r),ni.release(n))}_applyClassNameChanges(r,n){const i=this.container;i&&(n.forEach(s=>i.classList.remove(s)),r.forEach(s=>i.classList.add(s)))}_removeActiveClassNames(){const r=this.container;if(!r)return;let n;for(n in Rv)Hb(n,this[n]).forEach(i=>r.classList.remove(i))}};return p([y()],t.prototype,"breakpoints",null),p([y()],t.prototype,"orientation",void 0),p([y()],t.prototype,"widthBreakpoint",void 0),p([y()],t.prototype,"heightBreakpoint",void 0),t=p([G("esri.views.BreakpointsOwner")],t),t};function GM(e){return typeof e=="string"?document.getElementById(e):e??null}function $O(e,t){for(;;){const r=e.firstChild;if(!r)break;t.appendChild(r)}}let th=class extends He{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(t,r,n={}){return this._installWatch(t,r,n,dt)}addWhen(t,r,n={}){return this._installWatch(t,r,n,Pa)}addOnCollectionChange(t,r,{initial:n=!1,final:i=!1}={}){const s=++this._handleId;return this.addHandles([ph(t,"after-changes",this._createSyncUpdatingCallback(),Hl),ph(t,"change",r,{onListenerAdd:n?o=>r({added:o.toArray(),removed:[]}):void 0,onListenerRemove:i?o=>r({added:[],removed:o.toArray()}):void 0})],s),Dt(()=>this.removeHandles(s))}addPromise(t){if(t==null)return t;const r=++this._handleId;this.addHandles(Dt(()=>{this._pendingPromises.delete(t)&&(this._pendingPromises.size!==0||this.hasHandles(O1)||this._set("updating",!1))}),r),this._pendingPromises.add(t),this._set("updating",!0);const n=()=>this.removeHandles(r);return t.then(n,n),t}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(t,r,n={},i){const s=++this._handleId;n.sync||this._installSyncUpdatingWatch(t,s);const o=i(t,r,n);return this.addHandles(o,s),Dt(()=>this.removeHandles(s))}_installSyncUpdatingWatch(t,r){const n=this._createSyncUpdatingCallback(),i=dt(t,n,{sync:!0,equals:()=>!1});return this.addHandles(i,r),i}_createSyncUpdatingCallback(){return()=>{this.removeHandles(O1),++this._scheduleHandleId;const t=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(G0(()=>{t===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(O1))}),O1)}}};p([y({readOnly:!0})],th.prototype,"updating",void 0),th=p([G("esri.core.support.UpdatingHandles")],th);const O1=-42;/*!
 * @esri/arcgis-html-sanitizer - v4.1.0-next.3 - Wed Sep 25 2024 10:04:57 GMT-0400 (Eastern Daylight Time)
 * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qw=function(){return qw=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},qw.apply(this,arguments)},YT={exports:{}},Or={},JT={exports:{}},bh={};function gF(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function kK(e,t,r){}function AK(e,t,r){}var CK=/javascript\s*\:/img;function RK(e,t){return CK.test(t)?"":t}bh.whiteList=gF();bh.getDefaultWhiteList=gF;bh.onAttr=kK;bh.onIgnoreAttr=AK;bh.safeAttrValue=RK;var PK={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Em=PK;function OK(e,t){e=Em.trimRight(e),e[e.length-1]!==";"&&(e+=";");var r=e.length,n=!1,i=0,s=0,o="";function l(){if(!n){var m=Em.trim(e.slice(i,s)),g=m.indexOf(":");if(g!==-1){var w=Em.trim(m.slice(0,g)),S=Em.trim(m.slice(g+1));if(w){var $=t(i,o.length,w,S,m);$&&(o+=$+"; ")}}}i=s+1}for(;s<r;s++){var c=e[s];if(c==="/"&&e[s+1]==="*"){var d=e.indexOf("*/",s+2);if(d===-1)break;s=d+1,i=s+1,n=!1}else c==="("?n=!0:c===")"?n=!1:c===";"?n||l():c===`
`&&l()}return Em.trim(o)}var IK=OK,I1=bh,NK=IK;function xO(e){return e==null}function LK(e){var t={};for(var r in e)t[r]=e[r];return t}function vF(e){e=LK(e||{}),e.whiteList=e.whiteList||I1.whiteList,e.onAttr=e.onAttr||I1.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||I1.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||I1.safeAttrValue,this.options=e}vF.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,n=r.whiteList,i=r.onAttr,s=r.onIgnoreAttr,o=r.safeAttrValue,l=NK(e,function(c,d,m,g,w){var S=n[m],$=!1;if(S===!0?$=S:typeof S=="function"?$=S(g):S instanceof RegExp&&($=S.test(g)),$!==!0&&($=!1),g=o(m,g),!!g){var x={position:d,sourcePosition:c,source:w,isWhite:$};if($){var M=i(m,g,x);return xO(M)?m+":"+g:M}else{var M=s(m,g,x);if(!xO(M))return M}}});return l};var DK=vF;(function(e,t){var r=bh,n=DK;function i(o,l){var c=new n(l);return c.process(o)}t=e.exports=i,t.FilterCSS=n;for(var s in r)t[s]=r[s]})(JT,JT.exports);var VM=JT.exports,BM={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,r=t.exec(e);return r?r.index:-1}},FK=VM.FilterCSS,UK=VM.getDefaultWhiteList,Zw=BM;function wF(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var _F=new FK;function jK(e,t,r){}function zK(e,t,r){}function GK(e,t,r){}function VK(e,t,r){}function SF(e){return e.replace(HK,"&lt;").replace(WK,"&gt;")}function BK(e,t,r,n){if(r=MF(r),t==="href"||t==="src"){if(r=Zw.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(t==="background"){if(N1.lastIndex=0,N1.test(r))return""}else if(t==="style"){if(MO.lastIndex=0,MO.test(r)||(kO.lastIndex=0,kO.test(r)&&(N1.lastIndex=0,N1.test(r))))return"";n!==!1&&(n=n||_F,r=n.process(r))}return r=kF(r),r}var HK=/</g,WK=/>/g,qK=/"/g,ZK=/&quot;/g,YK=/&#([a-zA-Z0-9]*);?/gim,JK=/&colon;?/gim,KK=/&newline;?/gim,N1=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,MO=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,kO=/u\s*r\s*l\s*\(.*/gi;function bF(e){return e.replace(qK,"&quot;")}function EF(e){return e.replace(ZK,'"')}function TF(e){return e.replace(YK,function(r,n){return n[0]==="x"||n[0]==="X"?String.fromCharCode(parseInt(n.substr(1),16)):String.fromCharCode(parseInt(n,10))})}function $F(e){return e.replace(JK,":").replace(KK," ")}function xF(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return Zw.trim(t)}function MF(e){return e=EF(e),e=TF(e),e=$F(e),e=xF(e),e}function kF(e){return e=bF(e),e=SF(e),e}function XK(){return""}function QK(e,t){typeof t!="function"&&(t=function(){});var r=!Array.isArray(e);function n(o){return r?!0:Zw.indexOf(e,o)!==-1}var i=[],s=!1;return{onIgnoreTag:function(o,l,c){if(n(o))if(c.isClosing){var d="[/removed]",m=c.position+d.length;return i.push([s!==!1?s:c.position,m]),s=!1,d}else return s||(s=c.position),"[removed]";else return t(o,l,c)},remove:function(o){var l="",c=0;return Zw.forEach(i,function(d){l+=o.slice(c,d[0]),c=d[1]}),l+=o.slice(c),l}}}function eX(e){for(var t="",r=0;r<e.length;){var n=e.indexOf("<!--",r);if(n===-1){t+=e.slice(r);break}t+=e.slice(r,n);var i=e.indexOf("-->",n);if(i===-1)break;r=i+3}return t}function tX(e){var t=e.split("");return t=t.filter(function(r){var n=r.charCodeAt(0);return n===127?!1:n<=31?n===10||n===13:!0}),t.join("")}Or.whiteList=wF();Or.getDefaultWhiteList=wF;Or.onTag=jK;Or.onIgnoreTag=zK;Or.onTagAttr=GK;Or.onIgnoreTagAttr=VK;Or.safeAttrValue=BK;Or.escapeHtml=SF;Or.escapeQuote=bF;Or.unescapeQuote=EF;Or.escapeHtmlEntities=TF;Or.escapeDangerHtml5Entities=$F;Or.clearNonPrintableCharacter=xF;Or.friendlyAttrValue=MF;Or.escapeAttrValue=kF;Or.onIgnoreTagStripAll=XK;Or.StripTagBody=QK;Or.stripCommentTag=eX;Or.stripBlankChar=tX;Or.cssFilter=_F;Or.getDefaultCSSWhiteList=UK;var rS={},Ju=BM;function rX(e){var t=Ju.spaceIndex(e),r;return t===-1?r=e.slice(1,-1):r=e.slice(1,t+1),r=Ju.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function nX(e){return e.slice(0,2)==="</"}function iX(e,t,r){var n="",i=0,s=!1,o=!1,l=0,c=e.length,d="",m="";e:for(l=0;l<c;l++){var g=e.charAt(l);if(s===!1){if(g==="<"){s=l;continue}}else if(o===!1){if(g==="<"){n+=r(e.slice(i,l)),s=l,i=l;continue}if(g===">"){n+=r(e.slice(i,s)),m=e.slice(s,l+1),d=rX(m),n+=t(s,n.length,d,m,nX(m)),i=l+1,s=!1;continue}if(g==='"'||g==="'")for(var w=1,S=e.charAt(l-w);S.trim()===""||S==="=";){if(S==="="){o=g;continue e}S=e.charAt(l-++w)}}else if(g===o){o=!1;continue}}return i<e.length&&(n+=r(e.substr(i))),n}var sX=/[^a-zA-Z0-9\\_:.-]/gim;function oX(e,t){var r=0,n=0,i=[],s=!1,o=e.length;function l(w,S){if(w=Ju.trim(w),w=w.replace(sX,"").toLowerCase(),!(w.length<1)){var $=t(w,S||"");$&&i.push($)}}for(var c=0;c<o;c++){var d=e.charAt(c),m,g;if(s===!1&&d==="="){s=e.slice(r,c),r=c+1,n=e.charAt(r)==='"'||e.charAt(r)==="'"?r:lX(e,c+1);continue}if(s!==!1&&c===n){if(g=e.indexOf(d,c+1),g===-1)break;m=Ju.trim(e.slice(n+1,g)),l(s,m),s=!1,c=g,r=c+1;continue}if(/\s|\n|\t/.test(d))if(e=e.replace(/\s|\n|\t/g," "),s===!1)if(g=aX(e,c),g===-1){m=Ju.trim(e.slice(r,c)),l(m),s=!1,r=c+1;continue}else{c=g-1;continue}else if(g=uX(e,c-1),g===-1){m=Ju.trim(e.slice(r,c)),m=AO(m),l(s,m),s=!1,r=c+1;continue}else continue}return r<e.length&&(s===!1?l(e.slice(r)):l(s,AO(Ju.trim(e.slice(r))))),Ju.trim(i.join(" "))}function aX(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="="?t:-1}}function lX(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="'"||r==='"'?t:-1}}function uX(e,t){for(;t>0;t--){var r=e[t];if(r!==" ")return r==="="?t:-1}}function cX(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function AO(e){return cX(e)?e.substr(1,e.length-2):e}rS.parseTag=iX;rS.parseAttr=oX;var dX=VM.FilterCSS,Mo=Or,AF=rS,hX=AF.parseTag,pX=AF.parseAttr,Pv=BM;function L1(e){return e==null}function fX(e){var t=Pv.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=Pv.trim(e.slice(t+1,-1));var r=e[e.length-1]==="/";return r&&(e=Pv.trim(e.slice(0,-1))),{html:e,closing:r}}function mX(e){var t={};for(var r in e)t[r]=e[r];return t}function yX(e){var t={};for(var r in e)Array.isArray(e[r])?t[r.toLowerCase()]=e[r].map(function(n){return n.toLowerCase()}):t[r.toLowerCase()]=e[r];return t}function CF(e){e=mX(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Mo.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=yX(e.whiteList||e.allowList):e.whiteList=Mo.whiteList,e.onTag=e.onTag||Mo.onTag,e.onTagAttr=e.onTagAttr||Mo.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Mo.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Mo.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Mo.safeAttrValue,e.escapeHtml=e.escapeHtml||Mo.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new dX(e.css))}CF.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,n=r.whiteList,i=r.onTag,s=r.onIgnoreTag,o=r.onTagAttr,l=r.onIgnoreTagAttr,c=r.safeAttrValue,d=r.escapeHtml,m=t.cssFilter;r.stripBlankChar&&(e=Mo.stripBlankChar(e)),r.allowCommentTag||(e=Mo.stripCommentTag(e));var g=!1;r.stripIgnoreTagBody&&(g=Mo.StripTagBody(r.stripIgnoreTagBody,s),s=g.onIgnoreTag);var w=hX(e,function(S,$,x,M,P){var F={sourcePosition:S,position:$,isClosing:P,isWhite:Object.prototype.hasOwnProperty.call(n,x)},V=i(x,M,F);if(!L1(V))return V;if(F.isWhite){if(F.isClosing)return"</"+x+">";var U=fX(M),z=n[x],Z=pX(U.html,function(Q,pe){var ye=Pv.indexOf(z,Q)!==-1,ge=o(x,Q,pe,ye);return L1(ge)?ye?(pe=c(x,Q,pe,m),pe?Q+'="'+pe+'"':Q):(ge=l(x,Q,pe,ye),L1(ge)?void 0:ge):ge});return M="<"+x,Z&&(M+=" "+Z),U.closing&&(M+=" /"),M+=">",M}else return V=s(x,M,F),L1(V)?d(M):V},d);return g&&(w=g.remove(w)),w};var gX=CF;(function(e,t){var r=Or,n=rS,i=gX;function s(l,c){var d=new i(c);return d.process(l)}t=e.exports=s,t.filterXSS=s,t.FilterXSS=i,function(){for(var l in r)t[l]=r[l];for(var c in n)t[c]=n[c]}();function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=e.exports)})(YT,YT.exports);var ip=YT.exports,vX=function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},wX=function(){function e(t,r){var n=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=qw(qw({},ip.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(s,o,l,c){return s==="a"&&o==="href"||(s==="img"||s==="source")&&o==="src"?n.sanitizeUrl(l):ip.safeAttrValue(s,o,l,c)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var i;t&&!r?i=t:t&&r?(i=Object.create(this.arcgisFilterOptions),i.css={whiteList:this.arcgisCSSWhiteList},Object.keys(t).forEach(function(s){if(s==="whiteList")i.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,t.whiteList||{}]);else if(s==="css"){var o=t.css.whiteList;o!=null&&t.css instanceof Object&&Object.keys(o).forEach(function(l){return i.css.whiteList[l]=o[l]})}else i[s]=t[s]})):(i=Object.create(this.arcgisFilterOptions),i.whiteList=this.arcgisWhiteList,i.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=i,this._xssFilter=new ip.FilterXSS(i)}return e.prototype.sanitize=function(t,r){switch(r===void 0&&(r={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,r);default:return r.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,r){var n=(r??{}).isProtocolRequired,i=n===void 0?!0:n,s=this._trim(t.substring(0,t.indexOf(":"))),o=t==="/",l=/^#/.test(t),c=s&&this.allowedProtocols.indexOf(s.toLowerCase())>-1;return o||l||c?ip.escapeAttrValue(t):!s&&!i?ip.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,r,n,i){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,r,n,i):ip.safeAttrValue(t,r,n,i)},e.prototype.validate=function(t,r){r===void 0&&(r={});var n=this.sanitize(t,r);return{isValid:t===n,sanitized:n}},e.prototype.encodeHTML=function(t){var r=this;return String(t).replace(/[&<>"'\/]/g,function(n){return r._entityMap[n]})},e.prototype.encodeAttrValue=function(t){var r=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(n,i){return r.test(n)?n:"&#x".concat(Number(t.charCodeAt(i)).toString(16),";")})},e.prototype._extendObjectOfArrays=function(t){var r={};return t.forEach(function(n){Object.keys(n).forEach(function(i){Array.isArray(n[i])&&Array.isArray(r[i])?r[i]=r[i].concat(n[i]):r[i]=n[i]})}),r},e.prototype._iterateOverObject=function(t,r){var n=this;r===void 0&&(r={});try{var i=!1,s=void 0;if(Array.isArray(t))s=t.reduce(function(l,c){var d=n.validate(c,r);return d.isValid?l.concat([c]):(i=!0,l.concat([d.sanitized]))},[]);else if(vX(t)){var o=Object.keys(t);s=o.reduce(function(l,c){var d=t[c],m=n.validate(d,r);return m.isValid?l[c]=d:(i=!0,l[c]=m.sanitized),l},{})}else return r.allowUndefined&&typeof t>"u"?void 0:null;return i?s:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const nS=new Map;function RF(){nS.clear()}function _X(e){return nS.get(e)}function SX(e,t){nS.set(e,t)}function Wb(e){nS.delete(e)}function bX(...e){const t=ni.acquire();for(let n=0;n<e.length;n++){const i=e[n],s=typeof i;if(s==="string")t.push(i);else if(Array.isArray(i))t.push.apply(t,i);else if(s==="object")for(const o in i)i[o]&&t.push(o)}const r=t.join(" ");return ni.release(t),r}(()=>{const e=new Map,t=new ResizeObserver(n=>{RF();for(const i of n)e.get(i.target)?.(i)}),r=(n,i,s)=>(e.set(n,i),t.observe(n,s),Dt(()=>{t.unobserve(n),e.delete(n)}));return(n,i,s)=>{let o=null;return D0([dt(()=>typeof n=="function"?n():n,l=>{o?.remove(),l&&(o=r(l,i,s))},rs),Dt(()=>o?.remove())])}})();function EX(e){const t=e?.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function Q1e(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function eve(e){const t="data-node-ref";this[e.getAttribute(t)]=e}const TX=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],$X=TX.reduce((e,t)=>(e[t]=[],e),{}),xX=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],PF=new wX({whiteList:$X,onTagAttr:(e,t,r)=>{const n=`${t}="${r}"`;if(xX.includes(t))return n},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function MX(e){return e==="Enter"||e===" "}async function kX(e,t){await TB(z0(t));const r=typeof e=="function"?e():e;r&&("setFocus"in r&&typeof r.setFocus=="function"?await r.setFocus():r instanceof HTMLElement&&r.focus())}const OF="http://www.w3.org/",iS=`${OF}2000/svg`,IF=`${OF}1999/xlink`;let CO=[],HM=(e,t)=>{let r={};return Object.keys(e).forEach(n=>{r[n]=e[n]}),t&&Object.keys(t).forEach(n=>{r[n]=t[n]}),r},WM=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),NF=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},AX=(e,t,r)=>{if(t.vnodeSelector!==""){for(let n=r;n<e.length;n++)if(WM(e[n],t))return n}return-1},qb=(e,t,r,n)=>{let i=e[t];if(i.vnodeSelector==="")return;let s=i.properties;if(!(s&&(s.key===void 0?s.bind:s.key))){for(let o=0;o<e.length;o++)if(o!==t){let l=e[o];if(WM(l,i))throw new Error(`${r.vnodeSelector} had a ${i.vnodeSelector} child ${n==="added"?n:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},CX=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},KT=[],XT=!1,LF=e=>{(e.children||[]).forEach(LF),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},RO=()=>{XT=!1,KT.forEach(LF),KT.length=0},PO=e=>{KT.push(e),XT||(XT=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(RO,{timeout:16}):setTimeout(RO,16))},OO=e=>{let t=e.domNode;if(e.properties){let r=e.properties.exitAnimation;if(r)return t.style.pointerEvents="none",void r(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),PO(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),PO(e))},RX=(e,t,r)=>{if(!t)return;let n=r.eventHandlerInterceptor,i=Object.keys(t),s=i.length;for(let o=0;o<s;o++){let l=i[o],c=t[l];if(l==="className")throw new Error('Property "className" is not supported, use "class".');if(l==="class")e$(e,c,!0);else if(l==="classes"){let d=Object.keys(c),m=d.length;for(let g=0;g<m;g++){let w=d[g];c[w]&&e.classList.add(w)}}else if(l==="styles"){let d=Object.keys(c),m=d.length;for(let g=0;g<m;g++){let w=d[g],S=c[w];S&&(NF(S),r.styleApplyer(e,w,S))}}else if(l!=="key"&&c!=null){let d=typeof c;d==="function"?(l.lastIndexOf("on",0)===0&&(n&&(c=n(l,c,e,t)),l==="oninput"&&function(){let m=c;c=function(g){m.apply(this,[g]),g.target["oninput-value"]=g.target.value}}()),e[l]=c):r.namespace===iS?l==="href"?e.setAttributeNS(IF,l,c):e.setAttribute(l,c):d==="string"&&l!=="value"?l==="innerHTML"?e[l]=PF.sanitize(c):QT(e)&&l in e?e[l]=c:e.setAttribute(l,c):e[l]=c}}};function QT(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let Yw,PX=(e,t,r)=>{if(t)for(let n of t)Up(n,e,void 0,r)},DF=(e,t,r)=>{PX(e,t.children,r),t.text&&(e.textContent=t.text),RX(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},Up=(e,t,r,n)=>{let i,s=0,o=e.vnodeSelector,l=t.ownerDocument;if(o==="")i=e.domNode=l.createTextNode(e.text),r!==void 0?t.insertBefore(i,r):t.appendChild(i);else{for(let c=0;c<=o.length;++c){let d=o.charAt(c);if(c===o.length||d==="."||d==="#"){let m=o.charAt(s-1),g=o.slice(s,c);m==="."?i.classList.add(g):m==="#"?i.id=g:(g==="svg"&&(n=HM(n,{namespace:iS})),n.namespace!==void 0?i=e.domNode=l.createElementNS(n.namespace,g):(i=e.domNode=e.domNode||l.createElement(g),g==="input"&&e.properties&&e.properties.type!==void 0&&i.setAttribute("type",e.properties.type)),r!==void 0?t.insertBefore(i,r):i.parentNode!==t&&t.appendChild(i)),s=c+1}}DF(i,e,n)}},e$=(e,t,r)=>{t&&t.split(" ").forEach(n=>{n&&e.classList.toggle(n,r)})},OX=(e,t,r,n)=>{if(!r)return;let i=!1,s=Object.keys(r),o=s.length;for(let l=0;l<o;l++){let c=s[l],d=r[c],m=t[c];if(c==="class")m!==d&&(e$(e,m,!1),e$(e,d,!0));else if(c==="classes"){let g=e.classList,w=Object.keys(d),S=w.length;for(let $=0;$<S;$++){let x=w[$],M=!!d[x];M!==!!m[x]&&(i=!0,M?g.add(x):g.remove(x))}}else if(c==="styles"){let g=Object.keys(d),w=g.length;for(let S=0;S<w;S++){let $=g[S],x=d[$];x!==m[$]&&(i=!0,x?(NF(x),n.styleApplyer(e,$,x)):n.styleApplyer(e,$,""))}}else if(d||typeof m!="string"||(d=""),c!=="value"||QT(e)){if(d!==m){let g=typeof d;g==="function"&&n.eventHandlerInterceptor||(n.namespace===iS?c==="href"?e.setAttributeNS(IF,c,d):e.setAttribute(c,d):g==="string"?c==="innerHTML"?e[c]=PF.sanitize(d):c==="role"&&d===""?e.removeAttribute(c):QT(e)&&c in e?e[c]=d:e.setAttribute(c,d):e[c]!==d&&(e[c]=d),i=!0)}}else{let g=e[c];g!==d&&(e["oninput-value"]?g===e["oninput-value"]:d!==m)&&(e[c]=d,e["oninput-value"]=void 0),d!==m&&(i=!0)}}return i},IX=(e,t,r,n,i)=>{if(r===n)return!1;n=n||CO;let s,o=(r=r||CO).length,l=n.length,c=0,d=0,m=!1;for(;d<l;){let g=c<o?r[c]:void 0,w=n[d];if(g!==void 0&&WM(g,w))m=Yw(g,w,i)||m,c++;else{let S=AX(r,w,c+1);if(S>=0){for(s=c;s<S;s++)OO(r[s]),qb(r,s,e,"removed");m=Yw(r[S],w,i)||m,c=S+1}else Up(w,t,c<o?r[c].domNode:void 0,i),CX(w),qb(n,d,e,"added")}d++}if(o>c)for(s=c;s<o;s++)OO(r[s]),qb(r,s,e,"removed");return m};Yw=(e,t,r)=>{let n=e.domNode,i=!1;if(e===t)return!1;let s=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let o=n.ownerDocument.createTextNode(t.text);return n.parentNode.replaceChild(o,n),t.domNode=o,i=!0,i}t.domNode=n}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(r=HM(r,{namespace:iS})),e.text!==t.text&&(s=!0,t.text===void 0?n.removeChild(n.firstChild):n.textContent=t.text),t.domNode=n,s=IX(t,n,e.children,t.children,r)||s,s=OX(n,e.properties,t.properties,r)||s,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[n,r,t.vnodeSelector,t.properties,t.children]);return s&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(n,t.properties,e.properties),i};let Tm=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let n=e;e=r,Yw(n,r,t)},domNode:e.domNode});const NX={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}};let mp=e=>HM(NX,e),ac={create:(e,t)=>(t=mp(t),Up(e,document.createElement("div"),void 0,t),Tm(e,t)),append:(e,t,r)=>(r=mp(r),Up(t,e,void 0,r),Tm(t,r)),insertBefore:(e,t,r)=>(r=mp(r),Up(t,e.parentNode,e,r),Tm(t,r)),merge:(e,t,r)=>(r=mp(r),t.domNode=e,DF(e,t,r),Tm(t,r)),replace:(e,t,r)=>(r=mp(r),Up(t,e.parentNode,e,r),e.parentNode.removeChild(e),Tm(t,r))},FF,LX=(e,t)=>{let r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r};FF=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let DX=(e,t)=>{let r=e;return t.forEach(n=>{r=r&&r.children?FF(r.children,i=>i.domNode===n):void 0}),r},FX=(e,t,r)=>{let n=function(i){r("domEvent",i);let s=t(),o=LX(i.currentTarget,s.domNode);o.reverse();let l,c=DX(s.getLastRender(),o);return e.scheduleRender(),c&&(l=c.properties[`on${i.type}`].apply(c.properties.bind||this,arguments)),r("domEventProcessed",i),l};return(i,s,o,l)=>n},IO=e=>{let t,r,n=mp(e),i=n.performanceLogger,s=!0,o=!1,l=[],c=[],d=(g,w,S)=>{let $,x=()=>$;n.eventHandlerInterceptor=FX(t,x,i),$=g(w,S(),n),l.push($),c.push(S)},m=()=>{if(r=void 0,s){s=!1,i("renderStart",void 0);for(let g=0;g<l.length;g++){let w=c[g]();i("rendered",void 0),l[g].update(w),i("patched",void 0)}i("renderDone",void 0),s=!0}};return t={renderNow:m,scheduleRender:()=>{r||o||(r=requestAnimationFrame(m))},stop:()=>{r&&(cancelAnimationFrame(r),r=void 0),o=!0},resume:()=>{o=!1,s=!0,t.scheduleRender()},append:(g,w)=>{d(ac.append,g,w)},insertBefore:(g,w)=>{d(ac.insertBefore,g,w)},merge:(g,w)=>{d(ac.merge,g,w)},replace:(g,w)=>{d(ac.replace,g,w)},detach:g=>{for(let w=0;w<c.length;w++)if(c[w]===g)return c.splice(w,1),l.splice(w,1)[0];throw new Error("renderFunction was not found")}},t},Ru=class extends He{constructor(){super(...arguments),this.items=new Ye,this._watchUpdatingTracking=new th,this._callbacks=new Map,this._projector=IO(),this._hiddenProjector=IO()}get needsRender(){return this.items.length>0}get updating(){return this._watchUpdatingTracking?.updating??!1}initialize(){const t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,r=>{for(const n of r.added){const i=()=>n.render();this._callbacks.set(n,i),this._projector.append(this.surface,i)}for(const n of r.removed){const i=this._projector.detach(this._callbacks.get(n));this.surface.removeChild(i.domNode),this._callbacks.delete(n)}})}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach(t=>this._projector.detach(t)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){const r=this._hiddenSurface,n=this._hiddenProjector;let i;const s=()=>(i=t.render(),i);n.append(r,s),n.renderNow();const o={left:0,top:0,right:0,bottom:0};if(i?.domNode){const l=i.domNode.getBoundingClientRect();o.left=l.left,o.top=l.top,o.right=l.right,o.bottom=l.bottom}for(n.detach(s);r.firstChild;)r.removeChild(r.firstChild);return o}overlaps(t,r){const n=this.computeBoundingRect(t),i=this.computeBoundingRect(r);return Math.max(n.left,i.left)<=Math.min(n.right,i.right)&&Math.max(n.top,i.top)<=Math.min(n.bottom,i.bottom)}get hasVisibleItems(){return this.items.some(t=>t.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(t,r){const n=!!r?.disableDecorations;if(!this.items.some(s=>s.visible&&!(n&&s.isDecoration)))return;const i=t.getContext("2d");i.save(),i.font=this._fontString(),this.items.forEach(s=>{n&&s.isDecoration||(i.save(),s.renderCanvas(i),i.restore())}),i.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};p([y({readOnly:!0})],Ru.prototype,"surface",void 0),p([y({readOnly:!0})],Ru.prototype,"items",void 0),p([y({readOnly:!0})],Ru.prototype,"needsRender",null),p([y({readOnly:!0})],Ru.prototype,"_watchUpdatingTracking",void 0),p([y({readOnly:!0})],Ru.prototype,"updating",null),Ru=p([G("esri.views.overlay.ViewOverlay")],Ru);const NO=Ru,Zb=[0,0];function UX(e){const t=(e.ownerDocument||window.document).defaultView,r=e.getBoundingClientRect();return Zb[0]=r.left+(t?.pageXOffset??0),Zb[1]=r.top+(t?.pageYOffset??0),Zb}function LO(e){e&&(e.textContent="",e.parentNode&&e.parentNode.removeChild(e))}function jX(e){const t=document.createElement("div");return e.appendChild(t),t}const $m=16,D1=750,zX=512,GX=2,VX=e=>{let t=class extends e{constructor(...r){super(...r),this._freqInfo={freq:$m,time:D1},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([dt(()=>this.cursor,n=>{const{surface:i}=this;i&&i.setAttribute("data-cursor",n)}),dt(()=>this.navigating,n=>{const{surface:i}=this;i&&i.setAttribute("data-navigating",n.toString())})])}initialize(){this.addHandles([dt(()=>this.ui,(r,n)=>this._handleUIChange(r,n),Hn),this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui=wr(this.ui),this.container=null)}get container(){return this._get("container")??null}set container(r){const n=this._get("container"),i=GM(r);if(i||typeof r!="string"||Ne.getLogger(this).error("#container",`element with id '${r}' not found`),n===i)return;if(this._stopMeasuring(),n&&(n.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(LO(this.root),this._set("root",null)),this.userContent&&($O(this.userContent,n),LO(this.userContent),this._set("userContent",null))),!i)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);i.classList.add("esri-view");const s=document.createElement("div");s.className="esri-view-user-storage",$O(i,s),i.appendChild(s),this._set("userContent",s);const o=document.createElement("div");o.className="esri-view-root",i.insertBefore(o,i.firstChild),this._set("root",o);const l=document.createElement("div");l.className="esri-view-surface",l.setAttribute("role","application"),l.tabIndex=0,o.appendChild(l),this._set("surface",l);const c=new NO;o.appendChild(c.surface),this._set("overlay",c),this.addHandles(dt(()=>c.needsRender,d=>{d&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=of({render:()=>this.overlay?.render()}):this._overlayRenderTaskHandle=_r(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",i),this._startMeasuring()}get focused(){const r=document.activeElement===this.surface;return document.hasFocus()&&r}get size(){return[this.width,this.height]}blur(){this.surface?.blur()}focus(){this.surface?.focus()}pageToContainer(r,n,i){const s=this.position;return r-=s?s[0]:0,n-=s?s[1]:0,i?(i[0]=r,i[1]=n):i=[r,n],i}containerToPage(r,n,i){const s=this.position;return r+=s?s[0]:0,n+=s?s[1]:0,i?(i[0]=r,i[1]=n):i=[r,n],i}_handleUIChange(r,n){this.removeHandles("ui"),n&&n!==r&&n.destroy(),r&&(r.view=this,this.addHandles(dt(()=>this.root,i=>{r.container=i?jX(i):null},Hn),"ui")),this._set("ui",r)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const r=this._freqInfo;r.freq=$m,r.time=D1,this.addHandles([j0(window,"resize",()=>{r.freq=$m,r.time=D1}),of({prepare:n=>{const i=this._measure(),s=this._freqInfo;if(s.time+=n.deltaTime,i&&(s.freq=$m,this._get("resizing")||this._set("resizing",!0)),s.time<s.freq)return;s.time=0;const o=this._position();s.freq=o||i?$m:Math.min(D1,s.freq*GX),!i&&s.freq>=zX&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const r=this.container,n=r?r.clientWidth:0,i=r?r.clientHeight:0;if(n===0||i===0)return this.suspended||this._set("suspended",!0),!1;const s=this.width,o=this.height;return n===s&&i===o?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",n),this._set("height",i),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:s,oldHeight:o,width:n,height:i}),!0)}_position(){const r=this.container,n=this.position,i=r&&UX(r);return!!i&&(!n||i[0]!==n[0]||i[1]!==n[1])&&(this._set("position",[i[0],i[1]]),!0)}forceDOMReadyCycle(){}};return p([y()],t.prototype,"container",null),p([y({readOnly:!0})],t.prototype,"focused",null),p([y({readOnly:!0})],t.prototype,"height",void 0),p([y()],t.prototype,"messagesCommon",void 0),p([y({type:NO})],t.prototype,"overlay",void 0),p([y({readOnly:!0})],t.prototype,"position",void 0),p([y({readOnly:!0})],t.prototype,"resizing",void 0),p([y({readOnly:!0})],t.prototype,"root",void 0),p([y({value:null,readOnly:!0})],t.prototype,"size",null),p([y({readOnly:!0})],t.prototype,"surface",void 0),p([y({readOnly:!0})],t.prototype,"suspended",void 0),p([y()],t.prototype,"ui",void 0),p([y({readOnly:!0})],t.prototype,"userContent",void 0),p([y({readOnly:!0})],t.prototype,"width",void 0),p([y()],t.prototype,"widthBreakpoint",void 0),t=p([G("esri.views.DOMContainer")],t),t},BX=ie("mac")?"Meta":"Control",HX=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),WX=e=>HX.has(e);let qX=class{constructor(t,r=[]){this.eventType=t,this.keyModifiers=r}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const r=t.modifiers;for(const n of this.keyModifiers)if(!r.has(n))return!1;return!0}},tn=class{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const r=this._incoming[t];for(const n of r)this._incomingEventMatches.push(n.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager||(t.setEventCallback(r=>this._handleEvent(r)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,r,n){let i;typeof r=="function"?(n=r,i=[]):i=r||[];const s=typeof t=="string"?new qX(t,i):t,o=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},l=m=>{const g=this._incoming[m.match.eventType];if(g){const w=g.indexOf(m);g.splice(w,1),o(),this._manager&&this._manager.updateDependencies()}},c=new ZX(s,n,{onPause:l,onRemove:l,onResume:m=>{const g=this._incoming[m.match.eventType];g&&!g.includes(m)&&(g.push(m),o(),this._manager&&this._manager.updateDependencies())}});let d=this._incoming[s.eventType];return d||(d=[],this._incoming[s.eventType]=d),d.push(c),o(),this._manager&&this._manager.updateDependencies(),c}registerOutgoing(t){if(this._outgoing[t])throw new Error("There is already a callback registered for this outgoing InputEvent: "+t);const r=new YX(t,{onEmit:(n,i,s,o)=>{this._manager?.emit(n.eventType,i,s,o)},onRemove:n=>{delete this._outgoing[n.eventType],this._manager?.updateDependencies()}});return this._outgoing[t]=r,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),r}startCapturingPointer(t){this._manager?.setPointerCapture(t,!0)}stopCapturingPointer(t){this._manager?.setPointerCapture(t,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(t){const r=this._incoming[t.type];if(r){for(const n of r)if(n.match.matches(t)&&(n.callback?.(t),t.shouldStopPropagation()))break}}},ZX=class{constructor(t,r,n){this.match=t,this._callback=r,this._handler=n}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},YX=class{constructor(t,r){this.eventType=t,this._removed=!1,this._handler=r}emit(t,r,n){this._removed||this._handler.onEmit(this,t,r,n)}remove(){this._removed=!0,this._handler.onRemove(this)}},JX=class extends tn{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",r=>this._update(r.data))}_update(t){const r=t.native.pointerType==="touch"?"touch":"mouse",{x:n,y:i}=t;r===this._value&&this._x===n&&this._y===i||(this._value=r,this._x=n,this._y=i,this._onChange(r,n,i))}},KX=class{constructor(t,r){this._observable=new W0,this._value=t,this._equalityFunction=r}get value(){return Ze(this._observable),this._value}set value(t){this._equalityFunction(t,this._value)||(this._value=t,this._observable.notify())}mutate(t){t(this._value),this._observable.notify()}};function v0(e,t=m4){return new KX(e,t)}let XX=class extends tn{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=v0(!1),this._onPointerAdd=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.add(t.native.pointerId),this._update())},this._onPointerRemove=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.delete(t.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},QX=class{constructor(t,r){this._owner=r,this._properties={},this._afterDispatchHandle=null;for(const n in t){const i=t[n],s=new Z4(i,void 0,void 0,2,2);this._properties[n]={pool:s,acquired:[]}}this._afterDispatchHandle=DB(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const t in this._properties){const r=this._properties[t];for(const n of r.acquired)JR(n)||r.pool.release(n);r.pool.destroy(),r.pool=null,r.acquired=null}this._properties=null,this._owner=null}get(t){const r=this._owner._get(t),n=this._properties[t];let i=n.pool.acquire();for(n.acquired.push(i);i===r;)n.acquired.push(i),i=n.pool.acquire();return i}_release(){for(const t in this._properties){const r=this._properties[t];let n=0;for(const i of r.acquired)JR(i)?r.acquired[n++]=i:r.pool.release(i);r.acquired.length=n}}},Ms=class extends He{constructor(t){super(t),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=BX,this._latestPointerType="mouse",this._propertiesPool=new QX({latestPointerLocation:rQ},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const t=Object.keys(this._nameToGroup);for(const r of t)this.uninstallHandlers(r);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(t=>t.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(t,r,n=dc.INTERNAL){if(this._nameToGroup[t]||r.length===0)return;const i={name:t,handlers:r.map(s=>({handler:s,active:!0,removed:!1,priorityIndex:0,groupPriority:n,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[t]=i;for(let s=i.handlers.length-1;s>=0;s--){const o=i.handlers[s];this._handlers.push(o),o.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(l,c,d,m,g)=>{this._emitInputEvent(o.priorityIndex+1,l,c,d,g,m)},setPointerCapture:(l,c)=>{this._setPointerCapture(i,o,l,c)},setEventCallback:l=>{o.eventCallback=l},setUninstallCallback:l=>{o.uninstallCallback=l},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(t){const r=this._nameToGroup[t];r?(r.handlers.forEach(n=>{n.removed=!0,n.uninstallCallback?.()}),delete this._nameToGroup[t],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):Ne.getLogger(this).error("There is no InputHandler group registered under the name `"+t+"`")}hasHandlers(t){return this._nameToGroup[t]!==void 0}isModifierKeyDown(t){return this._activeKeyModifiers.has(t)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const t=new Set,r=new Set;this._handlersPriority=[];for(let n=this._handlers.length-1;n>=0;n--){const i=this._handlers[n];i.priorityIndex=n,this._handlersPriority.push(i)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let n=this._handlersPriority.length-1;n>=0;n--){const i=this._handlersPriority[n];i.priorityIndex=n;let s=i.handler.hasSideEffects;if(!s){for(const o of i.handler.outgoingEventTypes)if(t.has(o)){s=!0;break}}if(s)for(const o of i.handler.incomingEventMatches){t.add(o.eventType);for(const l of o.keyModifiers)WX(l)||r.add(l)}i.active=s}this._sourceEvents=t,this._keyModifiers=r,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(t,r,n){this._latestPointerType=t;const i=this._get("latestPointerLocation");if(i==null||i.x!==r||i.y!==n){const s=this._propertiesPool.get("latestPointerLocation");s.x=r,s.y=n,this._set("latestPointerLocation",s)}}_onEventReceived(t,r){if(t==="pointer-capture-lost"){const s=r;this._pointerCaptures.delete(s.native.pointerId)}this._updateKeyModifiers(t,r);const n=this.test.timestamp!=null?this.test.timestamp:r.native?r.native.timestamp:void 0,i=r.native?r.native.cancelable:void 0;this._emitInputEventFromSource(t,r,n,i)}_updateKeyModifiers(t,r){if(!r)return;let n=!1;const i=()=>{n||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),n=!0)},s=(l,c)=>{c&&!this._activeKeyModifiers.has(l)?(i(),this._activeKeyModifiers.add(l)):!c&&this._activeKeyModifiers.has(l)&&(i(),this._activeKeyModifiers.delete(l))};if(t==="key-down"||t==="key-up"){const l=r.key;this._keyModifiers.has(l)&&s(l,t==="key-down")}const o=r.native;s("Alt",!!o?.altKey),s("Control",!!o?.ctrlKey),s("Ctrl",!!o?.ctrlKey),s("Shift",!!o?.shiftKey),s("Meta",!!o?.metaKey),s("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new JX((t,r,n)=>this._setLatestPointer(t,r,n)),this._multiTouchHandler=new XX,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],dc.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,dc.INTERNAL)}_setPointerCapture(t,r,n,i){const s=t.name+"-"+r.priorityIndex,o=this._pointerCaptures.get(n.pointerId)||new Set;this._pointerCaptures.set(n.pointerId,o),i?(o.add(s),o.size===1&&this.eventSource&&this.eventSource.setPointerCapture(n,!0)):o.has(s)&&(o.delete(s),o.size===0&&(this._pointerCaptures.delete(n.pointerId),this.eventSource&&this.eventSource.setPointerCapture(n,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(t=>!t.removed),this.updateDependencies()}_emitInputEventFromSource(t,r,n,i){this._emitInputEvent(0,t,r,n,i)}_emitInputEvent(t,r,n,i,s,o){const l=i!==void 0?i:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),c=s!==void 0&&s,d={event:new eQ(r,n,l,o||this._activeKeyModifiers,c),priorityIndex:t};this._currentPropagation?this._currentPropagation.events.push(d):this._doNewPropagation(d)}_doNewPropagation(t){this._currentPropagation={events:new zw,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:t.event.timestamp},this._currentPropagation.events.push(t),this._continuePropagation()}_continuePropagation(){this._paused=!1;const t=this._currentPropagation;if(t){for(;t.events.length>0;){const{event:r,priorityIndex:n}=t.events.pop(),i=r.data?.eventId;if(!(i!=null&&this._stoppedPropagationEventIds.has(i)))for(t.currentHandler=this._handlersPriority[n];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!r.shouldStopPropagation()&&t.currentHandler.eventCallback?.(r),r.shouldStopPropagation()){i!=null&&this._stoppedPropagationEventIds.add(i);break}if(r.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:r,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(t){const r=new zw;r.push(t);const n=this._currentPropagation;if(n){for(;n.events.length;)r.push(n.events.pop());n.events=r,n.currentHandler=null,this._paused=!0}}_compareHandlerPriority(t,r){if(t.handler.hasSideEffects!==r.handler.hasSideEffects)return t.handler.hasSideEffects?1:-1;if(t.groupPriority!==r.groupPriority)return t.groupPriority>r.groupPriority?-1:1;for(const n of t.handler.incomingEventMatches)for(const i of r.handler.incomingEventMatches){if(n.eventType!==i.eventType)continue;const s=n.keyModifiers.filter(o=>i.keyModifiers.includes(o));if(s.length===n.keyModifiers.length!=(s.length===i.keyModifiers.length))return n.keyModifiers.length>i.keyModifiers.length?-1:1}return t.priorityIndex>r.priorityIndex?-1:1}_sortHandlersPriority(t){const r=[];for(const n of t){let i=0;for(;i<r.length&&this._compareHandlerPriority(n,r[i])>=0;)i++;r.splice(i,0,n)}return r}get debug(){const t=r=>{const n=this._setPointerCapture;this._setPointerCapture=()=>{},r(),this._setPointerCapture=n};return{injectEvent:(r,n)=>{t(()=>this._onEventReceived(r,n))},disablePointerCapture:t}}};p([y({readOnly:!0})],Ms.prototype,"hasPendingInputs",null),p([y({constructOnly:!0})],Ms.prototype,"eventSource",void 0),p([y({constructOnly:!0})],Ms.prototype,"recognizers",void 0),p([y()],Ms.prototype,"_latestPointerType",void 0),p([y()],Ms.prototype,"latestPointerType",null),p([y()],Ms.prototype,"multiTouchActive",null),p([y({readOnly:!0})],Ms.prototype,"latestPointerLocation",void 0),p([y()],Ms.prototype,"_paused",void 0),p([y({readOnly:!0})],Ms.prototype,"updating",null),Ms=p([G("esri.views.input.InputManager")],Ms);let eQ=class{constructor(t,r,n,i,s){this.type=t,this.data=r,this.timestamp=n,this.modifiers=i,this.cancelable=s,this._propagationState=Ku.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=Ku.STOPPED}shouldStopPropagation(){return!!(this._propagationState&Ku.STOPPED)}async(t){this._propagationState|=Ku.PAUSED;const r=(n,i)=>{this._propagationState&=~Ku.PAUSED;const s=this._resumeCallback;if(this._resumeCallback=null,s&&s(),i)throw n;return n};return(typeof t=="function"?t():t).then(n=>r(n,!1),n=>r(n,!0))}shouldPausePropagation(t){return!!(this._propagationState&Ku.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}};var Ku;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(Ku||(Ku={}));const dc={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};let tQ=class{};const rQ=tQ;function Tu(e){return e!=null&&"open"in e&&"declaredClass"in e}function DO(e){return e!=null&&"declaredClass"in e&&"dockOptions"in e}const nQ=e=>{let t=class extends e{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([dt(()=>[this.ui,this.popup],([r,n],i)=>{const s="popup",o="manual";if(i){const[l,c]=i;l&&Tu(c)&&(c.view=null,DO(c)&&l.remove(c,s))}r&&Tu(n)&&(n.view=this,DO(n)&&r.add(n,{key:s,position:o,internal:!0}))},Hn),this.on("click",r=>{this.popup&&this.popupEnabled&&(r.pointerType!=="mouse"||r.button===0)&&(Tu(this.popup)?this.popup.viewModel.handleViewClick(r):r.async(async()=>{await this.setupPopup(),Tu(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(r)}))},dc.WIDGET)]),bM(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>{ke(()=>import("./Popup-EzQvZXkF.js"),__vite__mapDeps([144,1,145,66,146,147,148,149,102,74,112,150,151,152,85,38,153,29,34,32,154,109,8,9,83,77,6,7,10,155,156,157,64,62,63,19,22,65,158,159,31,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,87,175,176,177,178,179,180,181,182,183,184,185,136,186,187]))})}destroy(){this.destroyed||this.closePopup()}async openPopup(r){if(Tu(this.popup))return this.popup.open(r);try{if(await this.setupPopup(),!this.popup)return void Ne.getLogger(this).error(new fe("view:null-popup","Popup is null and can't be opened"));this.popup.open(r)}catch{}}closePopup(){this._popupSetupTask?.abort(),Tu(this.popup)&&this.popup.close()}async fetchPopupFeatures(r,n){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(r,n),n)}async setupPopup(){if(this._popupSetupTask?.abort(),this.popup&&!Tu(this.popup))return this._popupSetupTask=_M(async r=>{const{default:n}=await ke(()=>import("./Popup-EzQvZXkF.js"),__vite__mapDeps([144,1,145,66,146,147,148,149,102,74,112,150,151,152,85,38,153,29,34,32,154,109,8,9,83,77,6,7,10,155,156,157,64,62,63,19,22,65,158,159,31,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,87,175,176,177,178,179,180,181,182,183,184,185,136,186,187]));if(br(r),!this.popup||Tu(this.popup))return;const i=this.popup;delete i.open,delete i.close,this.popup=new n(i)}),this._popupSetupTask.promise}async _popupHitsToFeatures({location:r,hits:n},i){const s=[],o=[];let l=!1;const c=fB(i,ie("popup-view-fetch-timeout")??sQ),d=w=>{const S=new iQ(w);return o.push(S),s.push(S.promise),S},m=w=>{const S=o.at(-1);return S&&S.layerView===w&&!l?S:d(w)};for(const w of n)"graphic"in w?(m(w.layerView).graphics.push(w.graphic),l=!1):(s.push(w.layerView.fetchPopupFeaturesAtLocation(w.mapPoint,c)),l=!0);o.map(w=>w.resolve(c));const g=pB(s).then(w=>w.filter(S=>!!S).flat());return{pendingFeatures:s,allGraphicsPromise:g,location:r}}async _getPopupHits(r,n){const{hits:i,location:s}=await this.popupHitTest(r);br(n);const o=[];for(const l of i)if("graphic"in l){if(this._isValidPopupGraphic(l.graphic,n)){const c=this._isValidPopupGraphicsLayerView(l.layerView)?l.layerView:void 0;o.push({graphic:l.graphic,layerView:c})}}else this._isValidPopupLocationLayerView(l.layerView)&&o.push({mapPoint:l.mapPoint,layerView:l.layerView});return{hits:o,location:s}}_isValidPopupGraphic(r,n){return r&&!!r.getEffectivePopupTemplate(n?.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(r){return!r||(!("layer"in r)||!r.suspended)&&"fetchPopupFeaturesFromGraphics"in r}_isValidPopupLocationLayerView(r){return(!("layer"in r)||!r.suspended)&&"fetchPopupFeaturesAtLocation"in r}};return p([y()],t.prototype,"popup",void 0),p([y()],t.prototype,"popupEnabled",void 0),t=p([G("esri.views.PopupView")],t),t};let iQ=class{constructor(t){this.layerView=t,this._resolver=Vs(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(t){const{layerView:r,graphics:n,_resolver:i}=this;if(!r)return i.resolve(n),i.promise;let s;return r.fetchPopupFeaturesFromGraphics(n,t).catch(o=>(s=o,null)).then(o=>{o?i.resolve(o):i.reject(s)}),i.promise}};const sQ=5e3;function vc(e,t,r=Ye){return t||(t=new r),t===e||(t.removeAll(),oQ(e)?t.addMany(e):e&&t.add(e)),t}function UF(e){return e}function oQ(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var Xu;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(Xu||(Xu={}));let aQ=class{constructor(){this._resolver=Vs(),this._status=Xu.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Xu.RESOLVED,this._cleanUp()},()=>{this._status=Xu.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===Xu.RESOLVED}isRejected(){return this._status===Xu.REJECTED}isFulfilled(){return this._status!==Xu.PENDING}abort(){this._resolver.reject(Sr())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=Vs(),r=[...this._resolvingPromises,t.promise],n=this._allPromise=Promise.all(r);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()},i=>{this.isFulfilled()||this._allPromise!==n||Li(i)||this._resolver.reject(i)}),t.resolve()}};const qM=e=>{let t=class extends e{constructor(...r){super(...r),this._promiseProps=new aQ,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,n){return this._promiseProps.promise.then(()=>this).then(r,n)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return t=p([G("esri.core.Promise")],t),t};let Jw=class extends qM(He){};Jw=p([G("esri.core.Promise")],Jw);const lQ="not-loaded",uQ="loading",cQ="failed",FO="loaded",jF=e=>{let t=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(n=>{const i=this.load.bind(this);this.load=s=>{const o=new Promise((l,c)=>{const d=W3(s,c);this.destroyed&&c(new fe("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(l,c).finally(()=>{d&&d.remove()})});if(this.loadStatus===lQ){this._set("loadStatus",uQ);const l=this._loadController=new AbortController;i({signal:l.signal})}return n(),o}})),this.when(()=>{this._set("loadStatus",FO),this._loadController=null},n=>{this._set("loadStatus",cQ),this._set("loadError",n),this._loadController=null})}destroy(){this._loadController&&(this._loadController=a0(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===FO}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new fe("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return p([y({readOnly:!0})],t.prototype,"loaded",null),p([y({readOnly:!0})],t.prototype,"loadError",void 0),p([y({clonable:!1})],t.prototype,"loadStatus",void 0),p([y({type:[Bl],readOnly:!0})],t.prototype,"loadWarnings",null),t=p([G("esri.core.Loadable")],t),t};let Wm=class extends jF(Jw){};Wm=p([G("esri.core.Loadable")],Wm),function(e){function t(r){return!(!r||!r.load)}e.LoadableMixin=jF,e.isLoadable=t}(Wm||(Wm={}));const wc=Wm;async function zF(e,t){return await e.load(),dQ(e,t)}async function dQ(e,t){const r=[],n=(...s)=>{for(const o of s)o!=null&&(Array.isArray(o)?n(...o):Ye.isCollection(o)?o.forEach(l=>n(l)):wc.isLoadable(o)&&r.push(o))};t(n);let i=null;if(await Dq(r,async s=>{const o=await wM(hQ(s)?s.loadAll():s.load());o.ok!==!1||i||(i=o)}),i)throw i.error;return e}function hQ(e){return"loadAll"in e&&typeof e.loadAll=="function"}let F1;function pQ(e){return F1&&!F1.destroyed||(F1=e()),F1}var t$;const fQ=new en({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let ks=t$=class extends He{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new t$({categories:this.categories?me(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r=[];this.categories&&(r=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let n="";if(this.extent){const o=V_(this.extent,_t.WGS84);o!=null&&(n=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i="("+i+")"+e.extraQuery);const s={categories:r,bbox:n,q:i,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(o=>fQ.toJSON(o.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...t,...s}}}};p([y()],ks.prototype,"categories",void 0),p([y()],ks.prototype,"disableExtraQuery",void 0),p([y({type:tr})],ks.prototype,"extent",void 0),p([y()],ks.prototype,"filter",void 0),p([y()],ks.prototype,"num",void 0),p([y()],ks.prototype,"query",void 0),p([y()],ks.prototype,"sortField",void 0),p([y()],ks.prototype,"sortOrder",null),p([y()],ks.prototype,"start",void 0),ks=t$=p([G("esri.portal.PortalQueryParams")],ks);const $a=ks;var r$;let Hr=r$=class extends ze{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const r=t.categorySchema||[];return r.some(n=>n.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):r})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new fe("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new r$({sourceJSON:e});return t.read(e),t}queryItems(e,t){let r=oi($a,e);const n=this.portal;return parseFloat(n.currentVersion)>5?(r=r||new $a,n.queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new $a,r.query="group:"+this.id+(r.query?" "+r.query:""),n.queryItems(r,t))}_fetchCategorySchemaSet(e,t){const r=this.portal;return r.fetchSelf(r.authMode,!0,t).then(n=>{const i=n.contentCategorySetsGroupQuery;if(i){const s=new $a({disableExtraQuery:!0,num:1,query:i});return r.queryGroups(s,t)}throw new fe("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(n=>{if(n.total){const i=n.results[0],s=new $a({num:1,query:`typekeywords:"${e}"`});return i.queryItems(s,t)}throw new fe("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(n=>n.total?n.results[0].fetchData("json",t).then(i=>{const s=i?.categorySchema;return s?.length?s:[]}):[])}};p([y()],Hr.prototype,"access",void 0),p([y({type:Date})],Hr.prototype,"created",void 0),p([y()],Hr.prototype,"description",void 0),p([y()],Hr.prototype,"id",void 0),p([y()],Hr.prototype,"isInvitationOnly",void 0),p([y({type:Date})],Hr.prototype,"modified",void 0),p([y()],Hr.prototype,"owner",void 0),p([y()],Hr.prototype,"portal",void 0),p([y()],Hr.prototype,"snippet",void 0),p([y()],Hr.prototype,"sortField",void 0),p([y()],Hr.prototype,"sortOrder",void 0),p([y()],Hr.prototype,"sourceJSON",void 0),p([y()],Hr.prototype,"tags",void 0),p([y()],Hr.prototype,"thumbnail",void 0),p([y({readOnly:!0})],Hr.prototype,"thumbnailUrl",null),p([y()],Hr.prototype,"title",void 0),p([y({readOnly:!0})],Hr.prototype,"url",null),Hr=r$=p([G("esri.portal.PortalGroup")],Hr);const n$=Hr;let hd=class extends He{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};p([y()],hd.prototype,"nextQueryParams",void 0),p([y()],hd.prototype,"queryParams",void 0),p([y()],hd.prototype,"results",void 0),p([y()],hd.prototype,"total",void 0),hd=p([G("esri.portal.PortalQueryResult")],hd);const mQ=hd;let fl=class extends ze{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new fe("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};p([y({type:Date})],fl.prototype,"created",void 0),p([y()],fl.prototype,"id",void 0),p([y()],fl.prototype,"portal",void 0),p([y()],fl.prototype,"title",void 0),p([y({readOnly:!0})],fl.prototype,"url",null),p([y()],fl.prototype,"username",void 0),fl=p([G("esri.portal.PortalFolder")],fl);const yQ=fl;var i$;let sr=i$=class extends ze{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e?.data,n=e?.folder,i={method:"post"};t&&(i.query=t.createPostQuery(),r!=null&&(typeof r=="string"?i.query.text=r:typeof r=="object"&&(i.query.text=JSON.stringify(r))));let s=this.userContentUrl;return n&&(s+="/"+(typeof n=="string"?n:n.id)),this.portal.request(s+"/addItem",i).then(o=>(t.id=o.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let r=this.userContentUrl;e.ownerFolder&&(r+="/"+e.ownerFolder);const n=t?{permanentDelete:!0}:{};await this.portal.request(r+`/items/${e.id}/delete`,{method:"post",query:n}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const r=this.userContentUrl+"/deleteItems",n=[],i=e.map(s=>s.id);if(i.length){const s={method:"post",query:{items:i.join(","),permanentDelete:t}},o=await this.portal.request(r,s);for(const l of o.results){const c=e.find(g=>l.itemId===g.id),d=l.success;let m=null;d?(c.id=null,c.portal=null):l.error&&(m=new fe("portal:delete-item-failed",l.error.message,l.error)),n.push({item:c,success:d,error:m})}}return n}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let r;return r=t&&t.folders?t.folders.map(n=>{const i=yQ.fromJSON(n);return i.portal=this.portal,i}):[],r})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(r=>{const n=n$.fromJSON(r);return n.portal=this.portal,n}):[],t})}async fetchItems(e){e??={};let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:r}=await ke(()=>Promise.resolve().then(()=>BF),void 0),n={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},i=await this.portal.request(t,{query:n});let s;return i?.items?(s=i.items.map(o=>{const l=r.fromJSON(o);return l.portal=this.portal,l}),await Promise.all(s.map(o=>o.load())),{items:s,nextStart:i.nextStart,total:i.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new n$({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new fe("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const r=this.userContentUrl,n=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(r+`/items/${e.id}/restore`,{method:"post",query:n})}toJSON(){throw new fe("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new i$({sourceJSON:e});return t.read(e),t}};p([y()],sr.prototype,"access",void 0),p([y({type:Date})],sr.prototype,"created",void 0),p([y()],sr.prototype,"culture",void 0),p([y()],sr.prototype,"description",void 0),p([y()],sr.prototype,"email",void 0),p([y()],sr.prototype,"favGroupId",void 0),p([y()],sr.prototype,"fullName",void 0),p([y({type:Date})],sr.prototype,"modified",void 0),p([y()],sr.prototype,"orgId",void 0),p([y()],sr.prototype,"portal",void 0),p([y()],sr.prototype,"preferredView",void 0),p([y()],sr.prototype,"privileges",void 0),p([y()],sr.prototype,"region",void 0),p([y()],sr.prototype,"role",void 0),p([y()],sr.prototype,"roleId",void 0),p([y()],sr.prototype,"sourceJSON",void 0),p([y()],sr.prototype,"thumbnail",void 0),p([y({readOnly:!0})],sr.prototype,"thumbnailUrl",null),p([y()],sr.prototype,"units",void 0),p([y({readOnly:!0})],sr.prototype,"userContentUrl",null),p([y({readOnly:!0})],sr.prototype,"url",null),p([y()],sr.prototype,"username",void 0),p([y()],sr.prototype,"userLicenseTypeId",void 0),p([y()],sr.prototype,"userType",void 0),sr=i$=p([G("esri.portal.PortalUser")],sr);const ZM=sr;var Ji;let xm;const UO={PortalGroup:()=>Promise.resolve({default:n$}),PortalItem:()=>ke(()=>Promise.resolve().then(()=>BF),void 0),PortalUser:()=>Promise.resolve({default:ZM})};let be=Ji=class extends V0(wc){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Vt.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){jO.unregister(this),this.defaultBasemap=wr(this.defaultBasemap),this.defaultDevBasemap=wr(this.defaultDevBasemap),this.defaultVectorBasemap=wr(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=_r(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)Vt.request.trustedServers.includes(t)||Vt.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get hasAPIKey(){return C5(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.slice(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=ZM.fromJSON(e),t.portal=this),t}load(e){const t=ke(()=>Promise.resolve().then(()=>GQ),void 0).then(({default:r})=>{br(e),xm=r}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(r=>{if(!this.hasAPIKey&&er){const n=er;this.credential=n.findCredential(this.restUrl),this.credential||this.authMode!==Ji.AUTH_MODE_AUTO&&this.authMode!==Ji.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=n.on("credential-create",gQ(new WeakRef(this))),jO.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await ke(async()=>{const{default:r}=await import("./ElevationLayer-CFhEjFMc.js");return{default:r}},__vite__mapDeps([188,189,190,191,66,29,167]))).default;return e?e.map(r=>new t({id:r.id,url:r.url})):[]}async fetchBasemaps(e,t){const r=await this._fetchBasemaps(e,t);if(t?.include3d===!0&&this.use3dBasemaps!==!1){const n=await this._fetchBasemaps3D(e,t);r.unshift(...n)}return r}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const t=new $a;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;const r=(await this.queryItems(t,e)).results.find(n=>n.type==="Web Scene");return r?new xm({portalItem:r}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):Do(e)?Promise.reject(Sr()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new $a({num:100,sortField:"title"});if(t?.length){const n=[];for(const i of t)n.push(`(title:"${i.title}" AND owner:${i.owner})`);return r.query=n.join(" OR "),this.queryGroups(r,e).then(i=>i.results)}return Do(e)?Promise.reject(Sr()):Promise.resolve([])}fetchRegions(e){const t=this.user?.culture||this.culture||Oi();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){const t=this.user?.culture||this.culture||Oi();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return pQ(()=>new Ji)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,r){const n=this.restUrl+"/portals/self",i={authMode:e,query:{culture:Oi().toLowerCase()},withCredentials:!0,...r};return i.authMode==="auto"&&(i.authMode="no-prompt"),t&&(i.query.default=!0),this.request(n,i)}queryPortal(e,t,r,n){const i=oi($a,t),s=o=>this.request(this.restUrl+e,{...i.toRequestOptions(this),...n}).then(l=>{const c=i.clone();return c.start=l.nextStart,new mQ({nextQueryParams:c,queryParams:i,total:l.total,results:Ji._resultsToTypedArray(o,{portal:this},l,n)})}).then(l=>Promise.all(l.results.map(c=>typeof c.when=="function"?c.when():l)).then(()=>l,c=>(Wu(c),l)));return r&&UO[r]?UO[r]().then(({default:o})=>(br(n),s(o))):s()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new fe("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===Ji.AUTH_MODE_ANONYMOUS||this.authMode===Ji.AUTH_MODE_NO_PROMPT&&!er)return Promise.reject(new fe("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return er?er.getCredential(this.restUrl,{prompt:this.authMode!==Ji.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){const t=this.credential?.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,r){return this.request(e,t).then(n=>{const i=Ji._resultsToTypedArray(r,{portal:this},n);return Promise.all(i.map(s=>typeof s.when=="function"?s.when():n)).then(()=>i,()=>i)})}request(e,t={}){const r={f:"json",...t.query},{authMode:n=this.authMode===Ji.AUTH_MODE_ANONYMOUS||this.authMode===Ji.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:i=null,cacheBust:s=!1,method:o="auto",responseType:l="json",signal:c}=t,d={authMode:n,body:i,cacheBust:s,method:o,query:r,responseType:l,timeout:0,signal:c};return t.withCredentials&&(d.withCredentials=!0),Ar(this._normalizeSSL(e),d).then(m=>m.data)}toJSON(){throw new fe("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Ji({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new fe("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const r=new $a;r.query=e||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0;const n=await this.queryGroups(r,t);if(!n.total)return[];const i=n.results[0];r.num=100,r.query='type:"Web Map" -type:"Web Application"',r.sortField=i.sortField||"name",r.sortOrder=i.sortOrder||"desc";const s=await i.queryItems(r,t);return s.total?s.results.filter(o=>o.type==="Web Map").map(o=>new xm({portalItem:o})):[]}async _fetchBasemaps3D(e,t){const r=e||this.basemapGalleryGroupQuery3D;if(!r)return[];const n=new $a({query:r,disableExtraQuery:!0}),i=await this.queryGroups(n,t);if(!i.total)return[];const s=i.results[0];n.num=100,n.query='type:"Web Scene"',n.sortField=s.sortField||"name",n.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(n,t);return o.total?o.results.filter(l=>l.type==="Web Scene").map(l=>new xm({portalItem:l})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=xm.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,r,n){let i;if(r){const s=n!=null?n.signal:null;i=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(i=i.map(o=>{const l=Object.assign(e?e.fromJSON(o):o,t);return typeof l.load=="function"&&l.load(s),l}))}else i=[];return i}};be.AUTH_MODE_ANONYMOUS="anonymous",be.AUTH_MODE_AUTO="auto",be.AUTH_MODE_IMMEDIATE="immediate",be.AUTH_MODE_NO_PROMPT="no-prompt",p([y()],be.prototype,"access",void 0),p([y()],be.prototype,"allSSL",void 0),p([y()],be.prototype,"authMode",void 0),p([y()],be.prototype,"authorizedCrossOriginDomains",void 0),p([At("authorizedCrossOriginDomains")],be.prototype,"readAuthorizedCrossOriginDomains",null),p([y()],be.prototype,"basemapGalleryGroupQuery",void 0),p([y({json:{name:"3DBasemapGalleryGroupQuery"}})],be.prototype,"basemapGalleryGroupQuery3D",void 0),p([y()],be.prototype,"bingKey",void 0),p([y()],be.prototype,"canListApps",void 0),p([y()],be.prototype,"canListData",void 0),p([y()],be.prototype,"canListPreProvisionedItems",void 0),p([y()],be.prototype,"canProvisionDirectPurchase",void 0),p([y()],be.prototype,"canSearchPublic",void 0),p([y()],be.prototype,"canShareBingPublic",void 0),p([y()],be.prototype,"canSharePublic",void 0),p([y()],be.prototype,"canSignInArcGIS",void 0),p([y()],be.prototype,"canSignInIDP",void 0),p([y()],be.prototype,"colorSetsGroupQuery",void 0),p([y()],be.prototype,"commentsEnabled",void 0),p([y({type:Date})],be.prototype,"created",void 0),p([y()],be.prototype,"credential",void 0),p([y()],be.prototype,"culture",void 0),p([y()],be.prototype,"currentVersion",void 0),p([y()],be.prototype,"customBaseUrl",void 0),p([y()],be.prototype,"default3DBasemapQuery",void 0),p([y()],be.prototype,"defaultBasemap",void 0),p([At("defaultBasemap")],be.prototype,"readDefaultBasemap",null),p([y()],be.prototype,"defaultDevBasemap",void 0),p([At("defaultDevBasemap")],be.prototype,"readDefaultDevBasemap",null),p([y({type:tr})],be.prototype,"defaultExtent",void 0),p([y()],be.prototype,"defaultVectorBasemap",void 0),p([At("defaultVectorBasemap")],be.prototype,"readDefaultVectorBasemap",null),p([y()],be.prototype,"description",void 0),p([y()],be.prototype,"devBasemapGalleryGroupQuery",void 0),p([y()],be.prototype,"eueiEnabled",void 0),p([y({readOnly:!0})],be.prototype,"extraQuery",null),p([y()],be.prototype,"featuredGroups",void 0),p([y()],be.prototype,"featuredItemsGroupQuery",void 0),p([y()],be.prototype,"galleryTemplatesGroupQuery",void 0),p([y()],be.prototype,"layoutGroupQuery",void 0),p([y()],be.prototype,"livingAtlasGroupQuery",void 0),p([y({readOnly:!0})],be.prototype,"hasAPIKey",null),p([y()],be.prototype,"hasCategorySchema",void 0),p([y()],be.prototype,"hasClassificationSchema",void 0),p([y()],be.prototype,"helpBase",void 0),p([y()],be.prototype,"helperServices",void 0),p([y()],be.prototype,"helpMap",void 0),p([y()],be.prototype,"homePageFeaturedContent",void 0),p([y()],be.prototype,"homePageFeaturedContentCount",void 0),p([y()],be.prototype,"httpPort",void 0),p([y()],be.prototype,"httpsPort",void 0),p([y()],be.prototype,"id",void 0),p([y()],be.prototype,"ipCntryCode",void 0),p([y({readOnly:!0})],be.prototype,"isOrganization",null),p([y()],be.prototype,"isPortal",void 0),p([y()],be.prototype,"isReadOnly",void 0),p([y({readOnly:!0})],be.prototype,"itemPageUrl",null),p([y()],be.prototype,"layerTemplatesGroupQuery",void 0),p([y()],be.prototype,"maxTokenExpirationMinutes",void 0),p([y({type:Date})],be.prototype,"modified",void 0),p([y()],be.prototype,"name",void 0),p([y()],be.prototype,"portalHostname",void 0),p([y()],be.prototype,"portalMode",void 0),p([y()],be.prototype,"portalProperties",void 0),p([y()],be.prototype,"region",void 0),p([y()],be.prototype,"recycleBinEnabled",void 0),p([y({readOnly:!0})],be.prototype,"restUrl",null),p([y()],be.prototype,"rotatorPanels",void 0),p([y()],be.prototype,"showHomePageDescription",void 0),p([y()],be.prototype,"sourceJSON",void 0),p([y()],be.prototype,"staticImagesUrl",void 0),p([y({json:{name:"2DStylesGroupQuery"}})],be.prototype,"stylesGroupQuery2d",void 0),p([y({json:{name:"stylesGroupQuery"}})],be.prototype,"stylesGroupQuery3d",void 0),p([y()],be.prototype,"supportsHostedServices",void 0),p([y()],be.prototype,"symbolSetsGroupQuery",void 0),p([y()],be.prototype,"templatesGroupQuery",void 0),p([y()],be.prototype,"thumbnail",void 0),p([y({readOnly:!0})],be.prototype,"thumbnailUrl",null),p([y()],be.prototype,"units",void 0),p([y()],be.prototype,"url",void 0),p([y()],be.prototype,"urlKey",void 0),p([At("urlKey")],be.prototype,"readUrlKey",null),p([y()],be.prototype,"user",void 0),p([At("user")],be.prototype,"readUser",null),p([y()],be.prototype,"use3dBasemaps",void 0),p([y()],be.prototype,"useDefault3dBasemap",void 0),p([y()],be.prototype,"useStandardizedQuery",void 0),p([y()],be.prototype,"useVectorBasemaps",void 0),p([y()],be.prototype,"vectorBasemapGalleryGroupQuery",void 0),be=Ji=p([G("esri.portal.Portal")],be);const Na=be,jO=new FinalizationRegistry(e=>{e.remove()});function gQ(e){const t=er;return()=>{const r=e.deref();r&&t.findCredential(r.restUrl)&&r.signIn().catch(()=>{})}}let ml=class extends He{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t?.portalItem&&t.path?{...t,path:zO(t.path,t.portalItem)}:t}set path(t){t!=null&&os(t)?Ne.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return zO(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",r){const n=this.cdnUrl;if(n==null)throw new fe("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(n,{responseType:t,query:{token:this.portalItem.apiKey,_ts:r?.cacheBust?Date.now():null},signal:r?.signal})}async update(t,r){const{addOrUpdateResources:n}=await ke(()=>import("./resourceUtils-Bh0-PKv2.js"),[]);return await n(this.portalItem,[{resource:this,content:t,compress:r?.compress,access:r?.access}],"update",r),this}hasPath(){return this.path!=null}};function zO(e,t){return e==null?e:(e=e.replace(/^\/+/,""),t!=null&&os(e)&&(e=tM(e,t.itemUrl)),e?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}p([y()],ml.prototype,"portalItem",void 0),p([y({type:String,value:null})],ml.prototype,"path",null),p([jr("path")],ml.prototype,"_castPath",null),p([y({type:String,readOnly:!0})],ml.prototype,"url",null),p([y({type:String,readOnly:!0})],ml.prototype,"cdnUrl",null),p([y({type:String,readOnly:!0})],ml.prototype,"itemRelativeUrl",null),ml=p([G("esri.portal.PortalItemResource")],ml);const vQ=ml;let qm=class extends He{constructor(t){super(t),this.created=null,this.rating=null}};p([y()],qm.prototype,"created",void 0),p([y()],qm.prototype,"rating",void 0),qm=p([G("esri.portal.PortalRating")],qm);const Yb=qm;function X0(e,t){const r=t?.url?.path;if(e&&r&&(e=Ls(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const n=tM(e,t.portalItem.itemUrl);n!=null&&wQ.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return(e=s$(e,t?.portal))&&oS.test(e)?JM(e):e}function sS(e,t,r=w0.YES){if((e=e&&oS.test(e)?VF(e):e)==null)return e;!os(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let n=Ls(e);if(t){const i=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(i){const s=s$(i,t.portal),o=s$(n,t.portal);n=tM(o,s,s),n!=null&&n!==o&&n!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=GF(n,t?.portal),os(n)&&(n=Oo(n)),t?.resources&&t?.portalItem&&!os(n)&&!_h(n)&&r===w0.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n),compress:!1}),n}function YM(e,t,r){return X0(e,r)}function fh(e,t,r,n){const i=sS(e,n);i!==void 0&&(t[r]=i)}const oS=/\/items\/([^/]+)\/resources\/(.*)/,wQ=/^\.\/resources\//;function _Q(e){return(e?.match(oS)??null)?.[1]??null}function SQ(e){const t=e?.match(oS)??null;if(t==null)return null;const r=t[2],n=r.lastIndexOf("/");if(n===-1){const{path:o,extension:l}=eP(r);return{prefix:null,filename:o,extension:l}}const{path:i,extension:s}=eP(r.slice(n+1));return{prefix:r.slice(0,n),filename:i,extension:s}}function GF(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?pT(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function s$(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,n=K3();return af(n,`${n.scheme}://${r}`)?pT(e,t.portalHostname,r):pT(e,r,t.portalHostname)}function JM(e){if(!e)return e||null;let t=e;return t&&er&&!er.findCredential(t)&&(t=y5(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function VF(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&er&&!er.findCredential(t)&&(t=y5(t)),t}var w0;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(w0||(w0={}));const Sve=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return w0},ensureMainOnlineDomain:GF,fromCDNUrl:VF,fromJSON:X0,itemIdFromResourceUrl:_Q,prefixAndFilenameFromResourceUrl:SQ,read:YM,toCDNUrl:JM,toJSON:sS,write:fh},Symbol.toStringTag,{value:"Module"}));var pd;const bQ=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),EQ=new Set(["KML","GeoJson","CSV"]);let mt=pd=class extends V0(wc){static from(e){return C_(pd,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return e==="Feature Service"||e==="Feature Collection"?r=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?r=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?r="Scene Layer":e==="Video Service"?r="Video Layer":e==="Scene Package"?r="Scene Layer Package":e==="Stream Service"?r="Feature Layer":e==="Geoprocessing Service"?r=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geoenrichment Service"?r="GeoEnrichment Service":e==="Geocoding Service"?r="Locator":e==="Microsoft Powerpoint"?r="Microsoft PowerPoint":e==="GeoJson"?r="GeoJSON":e==="Globe Service"?r="Globe Layer":e==="Vector Tile Service"?r="Tile Layer":e==="netCDF"?r="NetCDF":e==="Map Service"?r=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e?.toLowerCase().includes("add in")?r=e.replaceAll(/(add in)/gi,"Add-In"):e==="datastore catalog service"?r="Big Data File Share":e==="Compact Tile Package"?r="Tile Package (tpkx)":e==="Raster function template"?r="Raster Function Template":e==="OGCFeatureServer"?r="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")?r="Instant App":e==="Insights Page"?r="Insights Report":e==="Excalibur Imagery Project"?r="Excalibur Project":e==="3DTiles Service"?r="3D tiles layer":e==="3DTiles Package"&&(r="3D tiles package"),r}readExtent(e){return e&&e.length?new tr(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type?.toLowerCase()||"",t=this.typeKeywords||[],r="esri/images/portal/",n="16";let i,s=!1,o=!1,l=!1,c=!1,d=!1,m=!1,g=!1,w=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(s=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(o=t.includes("Table"),l=t.includes("Route Layer"),c=t.includes("Markup"),d=t.includes("Spatiotemporal"),m=t.includes("UtilityNetwork"),i=d&&o?"spatiotemporaltable":o?"table":l?"routelayer":c?"markup":d?"spatiotemporal":m?"utilitynetwork":s?"featureshosted":"features"):e==="map service"||e==="wms"||e==="wmts"?(d=t.includes("Spatiotemporal"),g=t.includes("Relational"),i=d||g?"mapimages":s||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages"):i=e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="video service"?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":e==="geoprocessing service"?t.includes("Web Tool")?"tool":"layers":e==="geodata service"?"geodataservice":e==="3dtiles service"?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):e==="web map"||e==="cityengine web scene"?i="maps":e==="web scene"?i=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?i="instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?i="apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?i="mapsgray":e==="service definition"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="netcdf"||e==="administrative report"?i="datafiles":e==="360 vr experience"?i="360vr":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?i="appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?i="addindesktop":e==="pdf"?i="pdf":e==="microsoft word"?i="word":e==="microsoft excel"?i="excel":e==="microsoft powerpoint"?i="ppt":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?i="datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?i="toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?i="layersgray":e==="analysis model"?i="analysismodel":e==="scene package"?i="scenepackage":e==="3dtiles package"?i="3dtileslayerpackage":e==="3dtiles service"?i="3dtileslayer":e==="mobile scene package"?i="mobilescenepackage":e==="tile package"||e==="compact tile package"?i="tilepackage":e==="task file"?i="taskfile":e==="report template"?i="report-template":e==="statistical data collection"?i="statisticaldatacollection":e==="insights workbook"?i="workbook":e==="insights model"?i="insightsmodel":e==="insights page"?i="insightspage":e==="insights theme"?i="insightstheme":e==="hub initiative"?i="hubinitiative":e==="hub page"?i="hubpage":e==="hub site application"?i="hubsite":e==="hub event"?i="hubevent":e==="hub project"?i="hubproject":e==="relational database connection"?i="relationaldatabaseconnection":e==="big data file share"?i="datastorecollection":e==="image collection"?i="imagecollection":e==="desktop style"?i="desktopstyle":e==="style"?i=t.includes("Dictionary")?"dictionarystyle":"style":e==="dashboard"?i="dashboard":e==="raster function template"?i="rasterprocessingtemplate":e==="vector tile package"?i="vectortilepackage":e==="ortho mapping project"?i="orthomappingproject":e==="ortho mapping template"?i="orthomappingtemplate":e==="solution"?i="solutions":e==="geopackage"?i="geopackage":e==="deep learning package"?i="deeplearningpackage":e==="real time analytic"?i="realtimeanalytics":e==="reality mapping project"?i="realitymappingproject":e==="big data analytic"?i="bigdataanalytics":e==="feed"?i="feed":e==="excalibur imagery project"?i="excaliburimageryproject":e==="notebook"?i="notebook":e==="storymap"?i="storymap":e==="survey123 add in"?i="survey123addin":e==="mission"?i="mission":e==="mission report"?i="missionreport":e==="mission template"?i="missiontemplate":e==="quickcapture project"?i="quickcaptureproject":e==="pro report"?i="proreport":e==="pro report template"?i="proreporttemplate":e==="urban model"?i="urbanmodel":e==="urban project"?i="urbanproject":e==="web experience"?i="experiencebuilder":e==="web experience template"?i="webexperiencetemplate":e==="experience builder widget"?i="experiencebuilderwidget":e==="experience builder widget package"?i="experiencebuilderwidgetpackage":e==="workflow"?i="workflow":e==="kernel gateway connection"?i="kernelgatewayconnection":e==="insights script"?i="insightsscript":e==="hub initiative template"?i="hubinitiativetemplate":e==="storymap theme"?i="storymaptheme":e==="knowledge graph"?i="knowledgegraph":e==="knowledge graph layer"?i="knowledgegraphlayer":e==="knowledge studio project"?i="knowledgestudio":e==="native application"?i="nativeapp":e==="native application installer"?i="nativeappinstaller":e==="web link chart"?i="linkchart":e==="knowledge graph web investigation"?i="investigation":e==="ogcfeatureserver"?i="features":e==="pro presentation"?i="propresentation":e==="pro project"?i="proproject":e==="insights workbook package"?i="insightsworkbookpackage":e==="apache parquet"?i="apacheparquet":e==="notebook code snippet library"?i="notebookcodesnippets":e==="suitability model"?i="suitabilitymodel":e==="esri classifier definition"?i="classifierdefinition":e==="esri classification schema"?i="classificationschema":e==="insights data engineering workbook"?i="dataengineeringworkbook":e==="insights data engineering model"?i="dataengineeringmodel":e==="deep learning studio project"?i="deeplearningproject":e==="discussion"?i="discussion":e==="allsource project"?i="allsourceproject":e==="api key"?i="apikey":e==="data pipeline"?i="datapipelines":e==="group layer"?(w=t.includes("Map"),i=w?"layergroup2d":"layergroup"):i=e==="media layer"?"onlinemedialayer":e==="form"?t.includes("Survey123")?"survey":"datafilesgray":e==="csv"?"csv":e==="image"?"image":"maps",i?zt(r+i+n+".png"):null}get isLayer(){return this.type!=null&&bQ.has(this.type)}get itemCdnUrl(){return JM(this.itemUrl)}get itemPageUrl(){const e=this.portal?.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){const e=this.portal?.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`)??null:null}get userItemUrl(){const e=this.portal?.restUrl;if(!e)return null;const t=this.owner||this.portal?.user?.username;return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=Na.getDefault()),r=t.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:e!=null?e.signal:null,query:{token:this.apiKey}}):{}).then(n=>{this.sourceJSON=n,this.read(n)});return this.addResolvingPromise(r),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}};return e instanceof Yb&&(e=e.rating),e==null||isNaN(e)||typeof e!="number"||(t.query.rating=e),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new Yb({rating:e,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:me(this.applicationProxies),avgRating:this.avgRating,categories:me(this.categories),classification:me(this.classification),created:me(this.created),culture:this.culture,description:this.description,extent:me(this.extent),groupCategories:me(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:me(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:me(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:me(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:me(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new pd({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){const e=this.toJSON();for(const t of["tags","typeKeywords","categories"])e[t]=e[t]?.join(", ");for(const t of["extent","classification"]){const r=e[t];r&&(e[t]=JSON.stringify(r))}return e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return t.rating!=null?(t.created=new Date(t.created),new Yb(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},pd)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.applicationProxies&&!Object.hasOwn(e,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e?.data,r={method:"post"};r.query=this.createPostQuery();for(const n in r.query)r.query[n]===null&&(r.query[n]="");return r.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?r.query.text=t:typeof t=="object"&&(r.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,r).then(()=>this.reload())}):Promise.reject(new fe("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new fe("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:r}=this;await t.signIn();const{copyResources:n,folder:i,tags:s,title:o}=e||{},l={method:"post",query:{copyPrivateResources:n==="all",folder:typeof i=="string"?i:i?.id,includeResources:!!n,tags:s?.join(","),title:o}},{itemId:c}=await t.request(`${r}/copy`,l);return new pd({id:c,portal:t})}updateThumbnail(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e.thumbnail,r=e.filename,n={method:"post"};if(typeof t=="string")_h(t)?n.query={data:t}:n.query={url:Ls(t)},r!=null&&(n.query.filename=r);else{const i=new FormData;r!=null?i.append("file",t,r):i.append("file",t),n.body=i}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,n).then(()=>this.reload())}):Promise.reject(new fe("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:r}=await ke(()=>import("./resourceUtils-Bh0-PKv2.js"),[]);return r(this,e,t)}async addResource(e,t,r){const{addOrUpdateResources:n}=await ke(()=>import("./resourceUtils-Bh0-PKv2.js"),[]);return e.portalItem=this,await n(this,[{resource:e,content:t,compress:r?.compress,access:r?.access}],"add",r),e}async removeResource(e,t){const{removeResource:r}=await ke(()=>import("./resourceUtils-Bh0-PKv2.js"),[]);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new fe("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await ke(()=>import("./resourceUtils-Bh0-PKv2.js"),[]);return t(this,e)}resourceFromPath(e){return new vQ({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:me(this.categories),classification:me(this.classification),created:this.created?.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:me(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:me(this.typeKeywords),url:this.url};return VG(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new pd({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};p([y({type:["private","shared","org","public"]})],mt.prototype,"access",void 0),p([y()],mt.prototype,"accessInformation",void 0),p([y({type:String})],mt.prototype,"apiKey",void 0),p([y({json:{read:{source:"appProxies"}}})],mt.prototype,"applicationProxies",void 0),p([y()],mt.prototype,"avgRating",void 0),p([y()],mt.prototype,"categories",void 0),p([y()],mt.prototype,"classification",void 0),p([y({type:Date})],mt.prototype,"created",void 0),p([y()],mt.prototype,"culture",void 0),p([y()],mt.prototype,"description",void 0),p([y({readOnly:!0})],mt.prototype,"displayName",null),p([y({type:tr})],mt.prototype,"extent",void 0),p([At("extent")],mt.prototype,"readExtent",null),p([y()],mt.prototype,"groupCategories",void 0),p([y({readOnly:!0})],mt.prototype,"iconUrl",null),p([y()],mt.prototype,"id",void 0),p([y({readOnly:!0})],mt.prototype,"isLayer",null),p([y({type:Boolean,readOnly:!0})],mt.prototype,"isOrgItem",void 0),p([y()],mt.prototype,"itemControl",void 0),p([y({readOnly:!0})],mt.prototype,"itemPageUrl",null),p([y({readOnly:!0})],mt.prototype,"itemUrl",null),p([y()],mt.prototype,"licenseInfo",void 0),p([y({type:Date})],mt.prototype,"modified",void 0),p([y()],mt.prototype,"name",void 0),p([y()],mt.prototype,"numComments",void 0),p([y()],mt.prototype,"numRatings",void 0),p([y()],mt.prototype,"numViews",void 0),p([y()],mt.prototype,"owner",void 0),p([y()],mt.prototype,"ownerFolder",void 0),p([y({type:Na})],mt.prototype,"portal",void 0),p([y()],mt.prototype,"screenshots",void 0),p([y()],mt.prototype,"size",void 0),p([y()],mt.prototype,"snippet",void 0),p([y()],mt.prototype,"sourceJSON",void 0),p([y({type:String})],mt.prototype,"sourceUrl",void 0),p([y({type:String})],mt.prototype,"spatialReference",void 0),p([y()],mt.prototype,"tags",void 0),p([y()],mt.prototype,"thumbnail",void 0),p([y({readOnly:!0})],mt.prototype,"thumbnailUrl",null),p([y()],mt.prototype,"title",void 0),p([y()],mt.prototype,"type",void 0),p([y()],mt.prototype,"typeKeywords",void 0),p([y({type:String,json:{read(e,t){if(EQ.has(t.type)){const r=this.portal?.restUrl;e||=r&&this.id?`${r}/content/items/${this.id}/data`:null}return e}}})],mt.prototype,"url",void 0),p([y({readOnly:!0})],mt.prototype,"userItemUrl",null),mt=pd=p([G("esri.portal.PortalItem")],mt);const Gy=mt,BF=Object.freeze(Object.defineProperty({__proto__:null,default:Gy},Symbol.toStringTag,{value:"Module"}));async function TQ(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,r=await Z6("esri/t9n/basemaps");return r[e]||r[t]}const o$={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return zt("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return zt("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return zt("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return zt("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return zt("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return zt("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return zt("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return zt("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return zt("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return zt("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return zt("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return zt("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return zt("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return zt("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return zt("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return zt("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return zt("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return zt("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return zt("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return zt("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return zt("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return zt("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return zt("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return zt("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return zt("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return zt("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return zt("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}},$Q=new Set(["ar","bs","ca","hr","cs","da","nl","en","et","fi","fr","de","el","he","hu","id","it","ja","ko","lv","lt","nb","pl","ro","ru","sr","es","sv","th","tr","uk","vi"]);let yl=class extends He{constructor(t){super(t),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps",this.worldview=null}getLanguageParamValue(){if(this.language)return this.language;const t=Oi().toLowerCase();switch(t){case"pt-br":return"pt-BR";case"pt-pt":return"pt-PT";case"zh-cn":return"zh-CN";case"zh-hk":return"zh-HK";case"zh-tw":return"zh-TW"}const r=eZ(t);return r==="pt"?"pt-BR":r&&$Q.has(r)?r:"global"}};p([y()],yl.prototype,"apiKey",void 0),p([y()],yl.prototype,"id",void 0),p([y()],yl.prototype,"language",void 0),p([y()],yl.prototype,"places",void 0),p([y()],yl.prototype,"serviceUrl",void 0),p([y()],yl.prototype,"worldview",void 0),yl=p([G("esri.support.BasemapStyle")],yl);const xQ=yl;function MQ(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function fd(e){return e?.type==="subtype-sublayer"}const Eve={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function Tve(e){const t=e?.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function aS(e){return e?.type==="feature"&&!e.url&&e.source?.type==="memory"}function $ve(e){const t=e?.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&e.source?.type==="feature-layer"}async function kQ(e,t){const r=er?.findServerInfo(e);if(r?.currentVersion!=null)return r.owningSystemUrl||null;const n=e.toLowerCase().indexOf("/rest/services");if(n===-1)return null;const i=`${e.slice(0,n)}/rest/info`,s=t!=null?t.signal:null,{data:o}=await Ar(i,{query:{f:"json"},responseType:"json",signal:s});return o?.owningSystemUrl||null}function AQ(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function CQ(e){return AQ(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function RQ(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function PQ(e){return!!RQ(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const OQ=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),IQ=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function NQ(e){return e.layerContainerType==="basemap"?OQ:e.layerContainerType==="operational-layers"?IQ:null}function LQ(e,t){if(t.restrictedWebMapWriting){const r=NQ(t);return r==null||r.has(e.type)&&!aS(e)}return!0}function DQ(e,t){if(t)if(aS(e)){const r=A_("featureCollection.layers",t),n=r?.[0]?.layerDefinition;n&&GO(e,n)}else e.type!=="group"&&GO(e,t)}function GO(e,t){"maxScale"in e&&(t.maxScale=Sw(e.maxScale)??void 0),"minScale"in e&&(t.minScale=Sw(e.minScale)??void 0)}function FQ(e,t){if(DQ(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=Sw(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts"))if(aS(e)){const r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function VO(e,t,r){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return r?.messages&&r.messages.push(new fe("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(aS(e)&&!e.isTable)t=e.resourceInfo;else if(LQ(e,r)){const n={};return e.write(n,r)?n:null}return t!=null&&FQ(e,t=me(t)),t}var Zm;let UQ=0,Ki=Zm=class extends V0(wc){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+UQ++,this.baseLayers=new Ye,this.referenceLayers=new Ye;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type==="elevation"&&Ne.getLogger(this).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=n=>{n.parent=null};this.addHandles([this.baseLayers.on("after-add",n=>t(n.item)),this.referenceLayers.on("after-add",n=>t(n.item)),this.baseLayers.on("after-remove",n=>r(n.item)),this.referenceLayers.on("after-remove",n=>r(n.item))])}initialize(){this.when().catch(e=>{Ne.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const r of e)r.destroy();const t=this.referenceLayers.toArray();for(const r of t)r.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=wr(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",vc(e,this._get("baseLayers")))}_writeBaseLayers(e,t,r){const n=[];e&&(r={...r,layerContainerType:"basemap"},this.baseLayers.forEach(i=>{const s=VO(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);s!=null&&n.push(s)}),this.referenceLayers.forEach(i=>{const s=VO(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);s!=null&&(i.type!=="scene"&&(s.isReference=!0),n.push(s))})),t.baseMapLayers=n}set referenceLayers(e){this._set("referenceLayers",vc(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return zF(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(t=>fw(t)?t.clone():t),referenceLayers:this.referenceLayers.map(t=>fw(t)?t.clone():t)};return this.loaded&&(e.loadStatus="loaded"),new Zm({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t?.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(r=>{const n=me(r);return n.url&&Fo(n.url)&&(n.url=`https:${n.url}`),n.templateUrl&&Fo(n.templateUrl)&&(n.templateUrl=`https:${n.templateUrl}`),n})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:r,style:n}=this;br(e);const i=[];if(t){const s=t.context?t.context.url:null;if(i.push(this._loadLayersFromJSON(t.data,s,e)),t.data.id&&!t.data.title){const o=t.data.id;i.push(TQ(o).then(l=>{l&&this.read({title:l},t.context)}))}}else r?i.push(this._loadFromItem(r,e)):n&&i.push(this._loadFromStylesService(n,e));await Promise.all(i)}async _loadLayersFromJSON(e,t,r){const n=this.resourceInfo?.context,i=this.portalItem?.portal||n?.portal||null,s=zQ[n?.origin||""]??"web-map",{populateOperationalLayers:o}=await ke(async()=>{const{populateOperationalLayers:c}=await import("./layersCreator-BODoRgS6.js");return{populateOperationalLayers:c}},__vite__mapDeps([192,193,194,195,184])),l=[];if(br(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const c={context:{...n,origin:s,url:t,portal:i,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},d=w=>s==="web-scene"&&w.layerType==="ArcGISSceneServiceLayer"||w.isReference,m=o(this.baseLayers,e.baseMapLayers.filter(w=>!d(w)),c);l.push(m);const g=o(this.referenceLayers,e.baseMapLayers.filter(d),c);l.push(g)}await Promise.allSettled(l)}async _loadFromItem(e,t){const r=await e.load(t),n=await r.fetchData("json",t),i=ai(e.itemUrl??"");return this._set("resourceInfo",{data:n.baseMap??{},context:{origin:jQ[e.type||""]??"web-map",portal:e.portal||Na.getDefault(),url:i}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||Na.getDefault(),url:i}),this._loadLayersFromJSON(this.resourceInfo.data,i,t)}async _loadFromStylesService(e,t){const r=`${e.serviceUrl}/${e.id}`,n=(await Ar(r,{query:{language:e.getLanguageParamValue(),places:e.places,worldview:e.worldview,token:e.apiKey},signal:t?.signal})).data,i=ai(r);if(this._set("resourceInfo",{data:n.baseMap??{},context:{origin:"web-map",url:i}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,i,t),e.apiKey)for(const s of[...this.baseLayers,...this.referenceLayers])"apiKey"in s&&(s.apiKey=e.apiKey)}static fromId(e){const t=o$[e];return t?t.itemId?new Zm({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):Zm.fromJSON(t,{origin:t.is3d?"web-scene":"web-map"}):null}};p([y({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,r,n){this._writeBaseLayers(e,t,n)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:Ye}},writer(e,t,r,n){this._writeBaseLayers(e,t,n)}}}}}})],Ki.prototype,"baseLayers",null),p([y({type:String,json:{origins:{"web-scene":{write:!0}}}})],Ki.prototype,"id",void 0),p([y({type:Gy})],Ki.prototype,"portalItem",void 0),p([y()],Ki.prototype,"referenceLayers",null),p([y({readOnly:!0})],Ki.prototype,"resourceInfo",void 0),p([y({type:_t})],Ki.prototype,"spatialReference",void 0),p([y({type:xQ})],Ki.prototype,"style",void 0),p([y()],Ki.prototype,"thumbnailUrl",void 0),p([y({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],Ki.prototype,"title",void 0),p([wt("title")],Ki.prototype,"writeTitle",null),Ki=Zm=p([G("esri.Basemap")],Ki);const jQ={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},zQ={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},Vy=Ki,GQ=Object.freeze(Object.defineProperty({__proto__:null,default:Vy},Symbol.toStringTag,{value:"Module"})),Kw={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function HF(e){return!!Kw[e]||!!Kw[e.toLowerCase()]}function KM(e){return Kw[e]??Kw[e.toLowerCase()]}function VQ(e){return[...KM(e)]}function Jb(e,t,r){r<0&&++r,r>1&&--r;const n=6*r;return n<1?e+(t-e)*n:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function WF(e,t,r,n=1){const i=(e%360+360)%360/360,s=r<=.5?r*(t+1):r+t-r*t,o=2*r-s;return[Math.round(255*Jb(o,s,i+1/3)),Math.round(255*Jb(o,s,i)),Math.round(255*Jb(o,s,i-1/3)),n]}function BQ(e){const t=e.length>5,r=t?8:4,n=(1<<r)-1,i=t?1:17,s=t?e.length===9:e.length===5;let o=+("0x"+e.slice(1));if(isNaN(o))return null;const l=[0,0,0,1];let c;return s&&(c=o&n,o>>=r,l[3]=i*c/255),c=o&n,o>>=r,l[2]=i*c,c=o&n,o>>=r,l[1]=i*c,c=o&n,o>>=r,l[0]=i*c,l}function U1(e){return Uo(j3(e),0,255)}function j1(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}function z1(e,t){const r=e.toString(16).padStart(2,"0");return t?r.slice(0,1):r}let Ov=class Xr{static blendColors(t,r,n,i=new Xr){return i.r=Math.round(t.r+(r.r-t.r)*n),i.g=Math.round(t.g+(r.g-t.g)*n),i.b=Math.round(t.b+(r.b-t.b)*n),i.a=t.a+(r.a-t.a)*n,i._sanitize()}static fromRgb(t,r){const n=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(n){const i=n[2].split(/\s*,\s*/),s=n[1];if(s==="rgb"&&i.length===3||s==="rgba"&&i.length===4){const o=i[0];if(o.charAt(o.length-1)==="%"){const l=i.map(c=>2.56*parseFloat(c));return i.length===4&&(l[3]=parseFloat(i[3])),Xr.fromArray(l,r)}return Xr.fromArray(i.map(l=>parseFloat(l)),r)}if(s==="hsl"&&i.length===3||s==="hsla"&&i.length===4)return Xr.fromArray(WF(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])),r)}return null}static fromHex(t,r=new Xr){if(t[0]!=="#"||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const n=parseInt(t.slice(1,2),16),i=parseInt(t.slice(2,3),16),s=parseInt(t.slice(3,4),16),o=t.length===5?15:parseInt(t.slice(4),16);return Xr.fromArray([n+16*n,i+16*i,s+16*s,(o+16*o)/255],r)}case 7:case 9:{const n=parseInt(t.slice(1,3),16),i=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16),o=t.length===7?255:parseInt(t.slice(7),16);return Xr.fromArray([n,i,s,o/255],r)}default:return null}}static fromArray(t,r=new Xr){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const n=HF(t)?KM(t):null;return n&&Xr.fromArray(n,r)||Xr.fromRgb(t,r)||Xr.fromHex(t,r)}static fromJSON(t){return t!=null?new Xr([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?Xr.fromString(t,this):Array.isArray(t)?Xr.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof Xr||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const r=t?.capitalize??!1,n=t?.digits??6,i=n===3||n===4,s=n===4||n===8,o=`#${z1(this.r,i)}${z1(this.g,i)}${z1(this.b,i)}${s?z1(Math.round(255*this.a),i):""}`;return r?o.toUpperCase():o}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=Xr.AlphaMode.ALWAYS){const r=U1(this.r),n=U1(this.g),i=U1(this.b);return t===Xr.AlphaMode.ALWAYS||this.a!==1?[r,n,i,U1(255*this.a)]:[r,n,i]}clone(){return new Xr(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(j1(this.r,0,255)),this.g=Math.round(j1(this.g,0,255)),this.b=Math.round(j1(this.b,0,255)),this.a=j1(this.a,0,1),this}_set(t,r,n,i){this.r=t,this.g=r,this.b=n,this.a=i}};Ov.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(Ov||(Ov={}));const Ot=Ov;function xve(e){}function HQ(e){return()=>e}function at(e,t={}){const r=e instanceof en?e:new en(e,t),{alwaysWriteDefaults:n,default:i,ignoreUnknown:s=!0,name:o,nonNullable:l,readOnly:c=!1}=t;return y({type:s?r.apiValues:String,json:{type:r.jsonValues,default:i,name:o,read:!c&&{reader:r.read},write:{writer:r.write,alwaysWriteDefaults:n}},nonNullable:l,readOnly:c})}var a$;let Iv=a$=class extends ze{constructor(e){super(e),this.type="none"}clone(){return new a$({type:this.type})}};p([at({none:"none",stayAbove:"stay-above"})],Iv.prototype,"type",void 0),Iv=a$=p([G("esri.ground.NavigationConstraint")],Iv);function qF(e){const t=j3(100*(1-e));return Math.max(0,Math.min(t,100))}function Xw(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}var l$;let gl=l$=class extends V0(wc){constructor(e){super(e),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new Ye;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type!=="elevation"&&n.type!=="base-elevation"&&Ne.getLogger(this).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},r=n=>{n.parent=null};this.addHandles([this.layers.on("after-add",n=>t(n.item)),this.layers.on("after-remove",n=>r(n.item))])}initialize(){this.when().catch(e=>{Li(e)||Ne.getLogger(this).error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)wr(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set layers(e){this._set("layers",vc(e,this._get("layers")))}writeLayers(e,t,r,n){const i=[];e&&(n={...n,layerContainerType:"ground"},e.forEach(s=>{if("write"in s){const o={};HQ(s)().write(o,n)&&i.push(o)}else n?.messages&&n.messages.push(new fe("layer:unsupported",`Layers (${s.title}, ${s.id}) of type '${s.declaredClass}' cannot be persisted in the ground`,{layer:s}))})),t.layers=i}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return zF(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t?.signal});const{ElevationQuery:r}=await ke(()=>import("./ElevationQuery-r8yOB_Ug.js"),[]);br(t);const n=new r,i=this.layers.filter(BO).toArray();return n.queryAll(i,e,t)}async createElevationSampler(e,t){await this.load({signal:t?.signal});const{ElevationQuery:r}=await ke(()=>import("./ElevationQuery-r8yOB_Ug.js"),[]);br(t);const n=new r,i=this.layers.filter(BO).toArray();return n.createSamplerAll(i,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:me(this.surfaceColor),navigationConstraint:me(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new l$({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,r){const n=t?.origin||"web-scene",i=t?.portal||null,s=t?.url||null,{populateOperationalLayers:o}=await ke(async()=>{const{populateOperationalLayers:c}=await import("./layersCreator-BODoRgS6.js");return{populateOperationalLayers:c}},__vite__mapDeps([192,193,194,195,184]));br(r);const l=[];if(e.layers&&Array.isArray(e.layers)){const c={context:{origin:n,url:s,portal:i,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};l.push(o(this.layers,e.layers,c))}await Promise.allSettled(l)}};function WQ(e){return e&&"createElevationSampler"in e}function BO(e){return e.type==="elevation"||WQ(e)}p([y({json:{read:!1}})],gl.prototype,"layers",null),p([wt("layers")],gl.prototype,"writeLayers",null),p([y({readOnly:!0})],gl.prototype,"resourceInfo",void 0),p([y({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:or,read:{reader:Xw,source:"transparency"},write:{writer:(e,t)=>{t.transparency=qF(e)},target:"transparency"}}})],gl.prototype,"opacity",void 0),p([y({type:Ot,json:{type:[or],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],gl.prototype,"surfaceColor",void 0),p([y({type:Iv,json:{write:!0}})],gl.prototype,"navigationConstraint",void 0),gl=l$=p([G("esri.Ground")],gl);const Qw=gl,G1=new WeakMap;function ZF(e){return!e.destroyed&&(G1.has(e)||e.addHandles([dt(()=>{const t=e.parent;return!(!t||!("type"in t))&&(t.type==="catalog-dynamic-group"||ZF(t))},t=>G1.set(e,t),rs),Dt(()=>G1.delete(e))]),G1.get(e))}function qQ(e){return typeof e=="object"&&e!=null&&"loaded"in e&&e.loaded===!0&&"type"in e}function ZQ(e){return!(!qQ(e)||!CQ(e)?.operations?.supportsEditing||"editingEnabled"in e&&!PQ(e)||ZF(e))}const YQ=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,JQ="screenUtils.toPt: input not recognized!",YF=96;function Mve(e){return e?e/72*YF:0}function _c(e){return e?72*e/YF:0}function $r(e){if(typeof e=="string"){const t=e.match(YQ);if(t){const r=Number(t[1]),n=t[3]&&t[3].toLowerCase(),i=e.charAt(0)==="-",s=n==="px"?_c(r):r;return i?-s:s}return console.warn(JQ),null}return e}function hn(e=0,t=0){return{x:e,y:t}}function kve(e){return e?hn(e.x,e.y):null}function Ave(e=0,t=0){return[e,t]}function Cve(e=0,t=0,r=0){return[e,t,r]}function Rve(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}function lS(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function KQ(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function XQ(e,t,r,n,i,s,o,l,c,d,m,g,w,S,$,x){const M=new Float32Array(16);return M[0]=e,M[1]=t,M[2]=r,M[3]=n,M[4]=i,M[5]=s,M[6]=o,M[7]=l,M[8]=c,M[9]=d,M[10]=m,M[11]=g,M[12]=w,M[13]=S,M[14]=$,M[15]=x,M}function QQ(e,t){return new Float32Array(e,t,16)}const eee=lS();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:eee,clone:KQ,create:lS,createView:QQ,fromValues:XQ},Symbol.toStringTag,{value:"Module"}));let XM=1e-6;function Ii(){return XM}function tee(e){XM=e}const QM=Math.random,ree=Math.PI/180,nee=180/Math.PI;function ek(e){return e*ree}function iee(e){return e*nee}function see(e,t){return Math.abs(e-t)<=XM*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:QM,equals:see,getEpsilon:Ii,setEpsilon:tee,toDegree:iee,toRadian:ek},Symbol.toStringTag,{value:"Module"}));function JF(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Ac(e,t,r,n,i,s,o,l,c,d,m,g,w,S,$,x,M){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=o,e[6]=l,e[7]=c,e[8]=d,e[9]=m,e[10]=g,e[11]=w,e[12]=S,e[13]=$,e[14]=x,e[15]=M,e}function uS(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Cc(e,t){if(e===t){const r=t[1],n=t[2],i=t[3],s=t[6],o=t[7],l=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=s,e[11]=t[14],e[12]=i,e[13]=o,e[14]=l}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function oee(e,t){return KF(e,t)||uS(e),e}function KF(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],l=t[5],c=t[6],d=t[7],m=t[8],g=t[9],w=t[10],S=t[11],$=t[12],x=t[13],M=t[14],P=t[15],F=r*l-n*o,V=r*c-i*o,U=r*d-s*o,z=n*c-i*l,Z=n*d-s*l,Q=i*d-s*c,pe=m*x-g*$,ye=m*M-w*$,ge=m*P-S*$,Pe=g*M-w*x,Me=g*P-S*x,De=w*P-S*M;let Ae=F*De-V*Me+U*Pe+z*ge-Z*ye+Q*pe;return Ae?(Ae=1/Ae,e[0]=(l*De-c*Me+d*Pe)*Ae,e[1]=(i*Me-n*De-s*Pe)*Ae,e[2]=(x*Q-M*Z+P*z)*Ae,e[3]=(w*Z-g*Q-S*z)*Ae,e[4]=(c*ge-o*De-d*ye)*Ae,e[5]=(r*De-i*ge+s*ye)*Ae,e[6]=(M*U-$*Q-P*V)*Ae,e[7]=(m*Q-w*U+S*V)*Ae,e[8]=(o*Me-l*ge+d*pe)*Ae,e[9]=(n*ge-r*Me-s*pe)*Ae,e[10]=($*Z-x*U+P*F)*Ae,e[11]=(g*U-m*Z-S*F)*Ae,e[12]=(l*ye-o*Pe-c*pe)*Ae,e[13]=(r*Pe-n*ye+i*pe)*Ae,e[14]=(x*V-$*z-M*F)*Ae,e[15]=(m*z-g*V+w*F)*Ae,e):null}function aee(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],l=t[5],c=t[6],d=t[7],m=t[8],g=t[9],w=t[10],S=t[11],$=t[12],x=t[13],M=t[14],P=t[15];return e[0]=l*(w*P-S*M)-g*(c*P-d*M)+x*(c*S-d*w),e[1]=-(n*(w*P-S*M)-g*(i*P-s*M)+x*(i*S-s*w)),e[2]=n*(c*P-d*M)-l*(i*P-s*M)+x*(i*d-s*c),e[3]=-(n*(c*S-d*w)-l*(i*S-s*w)+g*(i*d-s*c)),e[4]=-(o*(w*P-S*M)-m*(c*P-d*M)+$*(c*S-d*w)),e[5]=r*(w*P-S*M)-m*(i*P-s*M)+$*(i*S-s*w),e[6]=-(r*(c*P-d*M)-o*(i*P-s*M)+$*(i*d-s*c)),e[7]=r*(c*S-d*w)-o*(i*S-s*w)+m*(i*d-s*c),e[8]=o*(g*P-S*x)-m*(l*P-d*x)+$*(l*S-d*g),e[9]=-(r*(g*P-S*x)-m*(n*P-s*x)+$*(n*S-s*g)),e[10]=r*(l*P-d*x)-o*(n*P-s*x)+$*(n*d-s*l),e[11]=-(r*(l*S-d*g)-o*(n*S-s*g)+m*(n*d-s*l)),e[12]=-(o*(g*M-w*x)-m*(l*M-c*x)+$*(l*w-c*g)),e[13]=r*(g*M-w*x)-m*(n*M-i*x)+$*(n*w-i*g),e[14]=-(r*(l*M-c*x)-o*(n*M-i*x)+$*(n*c-i*l)),e[15]=r*(l*w-c*g)-o*(n*w-i*g)+m*(n*c-i*l),e}function lee(e){const t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],o=e[5],l=e[6],c=e[7],d=e[8],m=e[9],g=e[10],w=e[11],S=e[12],$=e[13],x=e[14],M=e[15];return(t*o-r*s)*(g*M-w*x)-(t*l-n*s)*(m*M-w*$)+(t*c-i*s)*(m*x-g*$)+(r*l-n*o)*(d*M-w*S)-(r*c-i*o)*(d*x-g*S)+(n*c-i*l)*(d*$-m*S)}function XF(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],l=t[4],c=t[5],d=t[6],m=t[7],g=t[8],w=t[9],S=t[10],$=t[11],x=t[12],M=t[13],P=t[14],F=t[15];let V=r[0],U=r[1],z=r[2],Z=r[3];return e[0]=V*n+U*l+z*g+Z*x,e[1]=V*i+U*c+z*w+Z*M,e[2]=V*s+U*d+z*S+Z*P,e[3]=V*o+U*m+z*$+Z*F,V=r[4],U=r[5],z=r[6],Z=r[7],e[4]=V*n+U*l+z*g+Z*x,e[5]=V*i+U*c+z*w+Z*M,e[6]=V*s+U*d+z*S+Z*P,e[7]=V*o+U*m+z*$+Z*F,V=r[8],U=r[9],z=r[10],Z=r[11],e[8]=V*n+U*l+z*g+Z*x,e[9]=V*i+U*c+z*w+Z*M,e[10]=V*s+U*d+z*S+Z*P,e[11]=V*o+U*m+z*$+Z*F,V=r[12],U=r[13],z=r[14],Z=r[15],e[12]=V*n+U*l+z*g+Z*x,e[13]=V*i+U*c+z*w+Z*M,e[14]=V*s+U*d+z*S+Z*P,e[15]=V*o+U*m+z*$+Z*F,e}function uee(e,t,r){const n=r[0],i=r[1],s=r[2];if(t===e)e[12]=t[0]*n+t[4]*i+t[8]*s+t[12],e[13]=t[1]*n+t[5]*i+t[9]*s+t[13],e[14]=t[2]*n+t[6]*i+t[10]*s+t[14],e[15]=t[3]*n+t[7]*i+t[11]*s+t[15];else{const o=t[0],l=t[1],c=t[2],d=t[3],m=t[4],g=t[5],w=t[6],S=t[7],$=t[8],x=t[9],M=t[10],P=t[11];e[0]=o,e[1]=l,e[2]=c,e[3]=d,e[4]=m,e[5]=g,e[6]=w,e[7]=S,e[8]=$,e[9]=x,e[10]=M,e[11]=P,e[12]=o*n+m*i+$*s+t[12],e[13]=l*n+g*i+x*s+t[13],e[14]=c*n+w*i+M*s+t[14],e[15]=d*n+S*i+P*s+t[15]}return e}function cee(e,t,r){const n=r[0],i=r[1],s=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function dee(e,t,r,n){let i=n[0],s=n[1],o=n[2],l=Math.sqrt(i*i+s*s+o*o);if(l<=Ii())return void JF(e,t);l=1/l,i*=l,s*=l,o*=l;const c=Math.sin(r),d=Math.cos(r),m=1-d,g=t[0],w=t[1],S=t[2],$=t[3],x=t[4],M=t[5],P=t[6],F=t[7],V=t[8],U=t[9],z=t[10],Z=t[11],Q=i*i*m+d,pe=s*i*m+o*c,ye=o*i*m-s*c,ge=i*s*m-o*c,Pe=s*s*m+d,Me=o*s*m+i*c,De=i*o*m+s*c,Ae=s*o*m-i*c,$t=o*o*m+d;e[0]=g*Q+x*pe+V*ye,e[1]=w*Q+M*pe+U*ye,e[2]=S*Q+P*pe+z*ye,e[3]=$*Q+F*pe+Z*ye,e[4]=g*ge+x*Pe+V*Me,e[5]=w*ge+M*Pe+U*Me,e[6]=S*ge+P*Pe+z*Me,e[7]=$*ge+F*Pe+Z*Me,e[8]=g*De+x*Ae+V*$t,e[9]=w*De+M*Ae+U*$t,e[10]=S*De+P*Ae+z*$t,e[11]=$*De+F*Ae+Z*$t,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15])}function hee(e,t,r){const n=Math.sin(r),i=Math.cos(r),s=t[4],o=t[5],l=t[6],c=t[7],d=t[8],m=t[9],g=t[10],w=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*i+d*n,e[5]=o*i+m*n,e[6]=l*i+g*n,e[7]=c*i+w*n,e[8]=d*i-s*n,e[9]=m*i-o*n,e[10]=g*i-l*n,e[11]=w*i-c*n,e}function pee(e,t,r){const n=Math.sin(r),i=Math.cos(r),s=t[0],o=t[1],l=t[2],c=t[3],d=t[8],m=t[9],g=t[10],w=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*i-d*n,e[1]=o*i-m*n,e[2]=l*i-g*n,e[3]=c*i-w*n,e[8]=s*n+d*i,e[9]=o*n+m*i,e[10]=l*n+g*i,e[11]=c*n+w*i,e}function fee(e,t,r){const n=Math.sin(r),i=Math.cos(r),s=t[0],o=t[1],l=t[2],c=t[3],d=t[4],m=t[5],g=t[6],w=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*i+d*n,e[1]=o*i+m*n,e[2]=l*i+g*n,e[3]=c*i+w*n,e[4]=d*i-s*n,e[5]=m*i-o*n,e[6]=g*i-l*n,e[7]=w*i-c*n,e}function mee(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function yee(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function gee(e,t,r){if(t===0)return uS(e);let n=r[0],i=r[1],s=r[2],o=Math.sqrt(n*n+i*i+s*s);if(o<=Ii())return null;o=1/o,n*=o,i*=o,s*=o;const l=Math.sin(t),c=Math.cos(t),d=1-c;return e[0]=n*n*d+c,e[1]=i*n*d+s*l,e[2]=s*n*d-i*l,e[3]=0,e[4]=n*i*d-s*l,e[5]=i*i*d+c,e[6]=s*i*d+n*l,e[7]=0,e[8]=n*s*d+i*l,e[9]=i*s*d-n*l,e[10]=s*s*d+c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function vee(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function wee(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function _ee(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function QF(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],l=n+n,c=i+i,d=s+s,m=n*l,g=n*c,w=n*d,S=i*c,$=i*d,x=s*d,M=o*l,P=o*c,F=o*d;return e[0]=1-(S+x),e[1]=g+F,e[2]=w-P,e[3]=0,e[4]=g-F,e[5]=1-(m+x),e[6]=$+M,e[7]=0,e[8]=w+P,e[9]=$-M,e[10]=1-(m+S),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function See(e,t){const r=bee,n=-t[0],i=-t[1],s=-t[2],o=t[3],l=t[4],c=t[5],d=t[6],m=t[7],g=n*n+i*i+s*s+o*o;return g>0?(r[0]=2*(l*o+m*n+c*s-d*i)/g,r[1]=2*(c*o+m*i+d*n-l*s)/g,r[2]=2*(d*o+m*s+l*i-c*n)/g):(r[0]=2*(l*o+m*n+c*s-d*i),r[1]=2*(c*o+m*i+d*n-l*s),r[2]=2*(d*o+m*s+l*i-c*n)),QF(e,t,r),e}const bee=xc();function Eee(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function Tee(e,t){const r=t[0],n=t[1],i=t[2],s=t[4],o=t[5],l=t[6],c=t[8],d=t[9],m=t[10];return e[0]=Math.sqrt(r*r+n*n+i*i),e[1]=Math.sqrt(s*s+o*o+l*l),e[2]=Math.sqrt(c*c+d*d+m*m),e}function $ee(e,t){const r=t[0]+t[5]+t[10];let n=0;return r>0?(n=2*Math.sqrt(r+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e}function xee(e,t,r,n){const i=t[0],s=t[1],o=t[2],l=t[3],c=i+i,d=s+s,m=o+o,g=i*c,w=i*d,S=i*m,$=s*d,x=s*m,M=o*m,P=l*c,F=l*d,V=l*m,U=n[0],z=n[1],Z=n[2];return e[0]=(1-($+M))*U,e[1]=(w+V)*U,e[2]=(S-F)*U,e[3]=0,e[4]=(w-V)*z,e[5]=(1-(g+M))*z,e[6]=(x+P)*z,e[7]=0,e[8]=(S+F)*Z,e[9]=(x-P)*Z,e[10]=(1-(g+$))*Z,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function Mee(e,t,r,n,i){const s=t[0],o=t[1],l=t[2],c=t[3],d=s+s,m=o+o,g=l+l,w=s*d,S=s*m,$=s*g,x=o*m,M=o*g,P=l*g,F=c*d,V=c*m,U=c*g,z=n[0],Z=n[1],Q=n[2],pe=i[0],ye=i[1],ge=i[2],Pe=(1-(x+P))*z,Me=(S+U)*z,De=($-V)*z,Ae=(S-U)*Z,$t=(1-(w+P))*Z,kt=(M+F)*Z,it=($+V)*Q,de=(M-F)*Q,$e=(1-(w+x))*Q;return e[0]=Pe,e[1]=Me,e[2]=De,e[3]=0,e[4]=Ae,e[5]=$t,e[6]=kt,e[7]=0,e[8]=it,e[9]=de,e[10]=$e,e[11]=0,e[12]=r[0]+pe-(Pe*pe+Ae*ye+it*ge),e[13]=r[1]+ye-(Me*pe+$t*ye+de*ge),e[14]=r[2]+ge-(De*pe+kt*ye+$e*ge),e[15]=1,e}function kee(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=r+r,l=n+n,c=i+i,d=r*o,m=n*o,g=n*l,w=i*o,S=i*l,$=i*c,x=s*o,M=s*l,P=s*c;return e[0]=1-g-$,e[1]=m+P,e[2]=w-M,e[3]=0,e[4]=m-P,e[5]=1-d-$,e[6]=S+x,e[7]=0,e[8]=w+M,e[9]=S-x,e[10]=1-d-g,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Aee(e,t,r,n,i,s,o){const l=1/(r-t),c=1/(i-n),d=1/(s-o);return e[0]=2*s*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*s*c,e[6]=0,e[7]=0,e[8]=(r+t)*l,e[9]=(i+n)*c,e[10]=(o+s)*d,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*s*2*d,e[15]=0,e}function Cee(e,t,r,n,i){const s=1/Math.tan(t/2);let o;return e[0]=s/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(o=1/(n-i),e[10]=(i+n)*o,e[14]=2*i*n*o):(e[10]=-1,e[14]=-2*n),e}function Ree(e,t,r,n){const i=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),l=Math.tan(t.rightDegrees*Math.PI/180),c=2/(o+l),d=2/(i+s);return e[0]=c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=d,e[6]=0,e[7]=0,e[8]=-(o-l)*c*.5,e[9]=(i-s)*d*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function Pee(e,t,r,n,i,s,o){const l=1/(t-r),c=1/(n-i),d=1/(s-o);return e[0]=-2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*d,e[11]=0,e[12]=(t+r)*l,e[13]=(i+n)*c,e[14]=(o+s)*d,e[15]=1,e}function Oee(e,t,r,n){const i=t[0],s=t[1],o=t[2];let l=i-r[0],c=s-r[1],d=o-r[2];const m=Ii();if(Math.abs(l)<m&&Math.abs(c)<m&&Math.abs(d)<m)return void uS(e);let g=1/Math.sqrt(l*l+c*c+d*d);l*=g,c*=g,d*=g;const w=n[0],S=n[1],$=n[2];let x=S*d-$*c,M=$*l-w*d,P=w*c-S*l;g=Math.sqrt(x*x+M*M+P*P),g?(g=1/g,x*=g,M*=g,P*=g):(x=0,M=0,P=0);let F=c*P-d*M,V=d*x-l*P,U=l*M-c*x;g=Math.sqrt(F*F+V*V+U*U),g?(g=1/g,F*=g,V*=g,U*=g):(F=0,V=0,U=0),e[0]=x,e[1]=F,e[2]=l,e[3]=0,e[4]=M,e[5]=V,e[6]=c,e[7]=0,e[8]=P,e[9]=U,e[10]=d,e[11]=0,e[12]=-(x*i+M*s+P*o),e[13]=-(F*i+V*s+U*o),e[14]=-(l*i+c*s+d*o),e[15]=1}function Iee(e,t,r,n){const i=t[0],s=t[1],o=t[2],l=n[0],c=n[1],d=n[2];let m=i-r[0],g=s-r[1],w=o-r[2],S=m*m+g*g+w*w;S>0&&(S=1/Math.sqrt(S),m*=S,g*=S,w*=S);let $=c*w-d*g,x=d*m-l*w,M=l*g-c*m;return S=$*$+x*x+M*M,S>0&&(S=1/Math.sqrt(S),$*=S,x*=S,M*=S),e[0]=$,e[1]=x,e[2]=M,e[3]=0,e[4]=g*M-w*x,e[5]=w*$-m*M,e[6]=m*x-g*$,e[7]=0,e[8]=m,e[9]=g,e[10]=w,e[11]=0,e[12]=i,e[13]=s,e[14]=o,e[15]=1,e}function Nee(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Lee(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function Dee(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function e8(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function Fee(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function Uee(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function jee(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function zee(e,t){if(e===t)return!0;const r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],l=e[5],c=e[6],d=e[7],m=e[8],g=e[9],w=e[10],S=e[11],$=e[12],x=e[13],M=e[14],P=e[15],F=t[0],V=t[1],U=t[2],z=t[3],Z=t[4],Q=t[5],pe=t[6],ye=t[7],ge=t[8],Pe=t[9],Me=t[10],De=t[11],Ae=t[12],$t=t[13],kt=t[14],it=t[15],de=Ii();return Math.abs(r-F)<=de*Math.max(1,Math.abs(r),Math.abs(F))&&Math.abs(n-V)<=de*Math.max(1,Math.abs(n),Math.abs(V))&&Math.abs(i-U)<=de*Math.max(1,Math.abs(i),Math.abs(U))&&Math.abs(s-z)<=de*Math.max(1,Math.abs(s),Math.abs(z))&&Math.abs(o-Z)<=de*Math.max(1,Math.abs(o),Math.abs(Z))&&Math.abs(l-Q)<=de*Math.max(1,Math.abs(l),Math.abs(Q))&&Math.abs(c-pe)<=de*Math.max(1,Math.abs(c),Math.abs(pe))&&Math.abs(d-ye)<=de*Math.max(1,Math.abs(d),Math.abs(ye))&&Math.abs(m-ge)<=de*Math.max(1,Math.abs(m),Math.abs(ge))&&Math.abs(g-Pe)<=de*Math.max(1,Math.abs(g),Math.abs(Pe))&&Math.abs(w-Me)<=de*Math.max(1,Math.abs(w),Math.abs(Me))&&Math.abs(S-De)<=de*Math.max(1,Math.abs(S),Math.abs(De))&&Math.abs($-Ae)<=de*Math.max(1,Math.abs($),Math.abs(Ae))&&Math.abs(x-$t)<=de*Math.max(1,Math.abs(x),Math.abs($t))&&Math.abs(M-kt)<=de*Math.max(1,Math.abs(M),Math.abs(kt))&&Math.abs(P-it)<=de*Math.max(1,Math.abs(P),Math.abs(it))}function Gee(e){const t=Ii(),r=e[0],n=e[1],i=e[2],s=e[4],o=e[5],l=e[6],c=e[8],d=e[9],m=e[10];return Math.abs(1-(r*r+s*s+c*c))<=t&&Math.abs(1-(n*n+o*o+d*d))<=t&&Math.abs(1-(i*i+l*l+m*m))<=t}function Vee(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[8]===0&&e[9]===0&&e[10]===1}const Bee=XF,Hee=e8;Object.freeze(Object.defineProperty({__proto__:null,add:Dee,adjoint:aee,copy:JF,determinant:lee,equals:zee,exactEquals:jee,frob:Lee,fromQuat:kee,fromQuat2:See,fromRotation:gee,fromRotationTranslation:QF,fromRotationTranslationScale:xee,fromRotationTranslationScaleOrigin:Mee,fromScaling:yee,fromTranslation:mee,fromXRotation:vee,fromYRotation:wee,fromZRotation:_ee,frustum:Aee,getRotation:$ee,getScaling:Tee,getTranslation:Eee,hasIdentityRotation:Vee,identity:uS,invert:KF,invertOrIdentity:oee,isOrthoNormal:Gee,lookAt:Oee,mul:Bee,multiply:XF,multiplyScalar:Fee,multiplyScalarAndAdd:Uee,ortho:Pee,perspective:Cee,perspectiveFromFieldOfView:Ree,rotate:dee,rotateX:hee,rotateY:pee,rotateZ:fee,scale:cee,set:Ac,str:Nee,sub:Hee,subtract:e8,targetTo:Iee,translate:uee,transpose:Cc},Symbol.toStringTag,{value:"Module"}));const Wee=(e,t)=>{const r=Ac(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return Cc(r,r)},qee=(e,t)=>{const r=Ac(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return Cc(r,r)},Zee=(e,t)=>{const r=1-t,n=Ac(e,.2126+.7874*r,.7152-.7152*r,.0722-.0722*r,0,.2126-.2126*r,.7152+.2848*r,.0722-.0722*r,0,.2126-.2126*r,.7152-.7152*r,.0722+.9278*r,0,0,0,0,1);return Cc(n,n)},Yee=(e,t)=>{const r=Math.sin(t*Math.PI/180),n=Math.cos(t*Math.PI/180),i=Ac(e,.213+.787*n-.213*r,.715-.715*n-.715*r,.072-.072*n+.928*r,0,.213-.213*n+.143*r,.715+.285*n+.14*r,.072-.072*n-.283*r,0,.213-.213*n-.787*r,.715-.715*n+.715*r,.072+.928*n+.072*r,0,0,0,0,1);return Cc(i,i)},Jee=(e,t)=>{const r=1-2*t,n=Ac(e,r,0,0,t,0,r,0,t,0,0,r,t,0,0,0,1);return Cc(n,n)},Kee=(e,t)=>{const r=Ac(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return Cc(r,r)},Xee=(e,t)=>{const r=1-t,n=Ac(e,.393+.607*r,.769-.769*r,.189-.189*r,0,.349-.349*r,.686+.314*r,.168-.168*r,0,.272-.272*r,.534-.534*r,.131+.869*r,0,0,0,0,1);return Cc(n,n)};let t8=class r8{constructor(t,r,n){this.strength=t,this.radius=r,this.threshold=n,this.type="bloom"}interpolate(t,r,n){this.strength=Ai(t.strength,r.strength,n),this.radius=Ai(t.radius,r.radius,n),this.threshold=Ai(t.threshold,r.threshold,n)}clone(){return new r8(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:By(this.radius),strength:this.strength,threshold:this.threshold}}},n8=class i8{constructor(t){this.radius=t,this.type="blur"}interpolate(t,r,n){this.radius=Math.round(Ai(t.radius,r.radius,n))}clone(){return new i8(this.radius)}toJSON(){return{type:"blur",radius:By(this.radius)}}},u$=class s8{constructor(t,r){this.type=t,this.amount=r,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,n){this.amount=Ai(t.amount,r.amount,n),this._updateMatrix()}clone(){return new s8(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||lS();switch(this.type){case"brightness":this._colorMatrix=Wee(t,this.amount);break;case"contrast":this._colorMatrix=qee(t,this.amount);break;case"grayscale":this._colorMatrix=Zee(t,this.amount);break;case"invert":this._colorMatrix=Jee(t,this.amount);break;case"saturate":this._colorMatrix=Kee(t,this.amount);break;case"sepia":this._colorMatrix=Xee(t,this.amount)}}},o8=class a8{constructor(t,r,n,i){this.offsetX=t,this.offsetY=r,this.blurRadius=n,this.color=i,this.type="drop-shadow"}interpolate(t,r,n){this.offsetX=Ai(t.offsetX,r.offsetX,n),this.offsetY=Ai(t.offsetY,r.offsetY,n),this.blurRadius=Ai(t.blurRadius,r.blurRadius,n),this.color[0]=Math.round(Ai(t.color[0],r.color[0],n)),this.color[1]=Math.round(Ai(t.color[1],r.color[1],n)),this.color[2]=Math.round(Ai(t.color[2],r.color[2],n)),this.color[3]=Ai(t.color[3],r.color[3],n)}clone(){return new a8(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:By(this.offsetX),yoffset:By(this.offsetY),blurRadius:By(this.blurRadius),color:t}}},l8=class u8{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,n){this.angle=Ai(t.angle,r.angle,n),this._updateMatrix()}clone(){return new u8(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||lS();this._colorMatrix=Yee(t,this.angle)}},c8=class d8{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,r,n){this.amount=Ai(t.amount,r.amount,n)}clone(){return new d8(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function Ai(e,t,r){return e+(t-e)*r}function By(e){return Math.round(1e3*_c(e))/1e3}function Qee(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new u$(e.type,0);case"saturate":case"brightness":case"contrast":return new u$(e.type,1);case"opacity":return new c8(1);case"hue-rotate":return new l8(0);case"blur":return new n8(0);case"drop-shadow":return new o8(0,0,0,[...KM("transparent")]);case"bloom":return new t8(0,0,1)}}function ete(e,t){const r=e.length>t.length?e:t;return(e.length>t.length?t:e).every((n,i)=>n.type===r[i].type)}function tte(e,t){const r=e.length>t.length?e:t,n=e.length>t.length?t:e;for(let i=n.length;i<r.length;i++)n.push(Qee(r[i]))}function rte(e){const t=e[0];return!!t&&"type"in t}const Kb=()=>Ne.getLogger("esri.support.basemapUtils");function nte(){return{}}function ite(e){for(const t in e){const r=e[t];wr(r),delete e[t]}}function ste(e,t){let r;if(typeof e=="string"){const n=e in o$,i=!n&&e.includes("/");if(!n&&!i){if(Vt.apiKey)Kb().warn(`Unable to find basemap definition for: ${e}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const s=Object.entries(o$).filter(([o,l])=>l.classic||l.is3d).map(([o])=>`"${o}"`).sort().join(", ");Kb().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${s}`)}return null}t&&(r=t[e]),r||(r=n?Vy.fromId(e):new Vy({style:{id:e}}),t&&(t[e]=r))}else r=oi(Vy,e);return r?.destroyed&&(Kb().warn("The provided basemap is already destroyed",{basemap:r}),r=null),r}function ote(e){return new h0({getCollections:()=>[e.tables,e.layers],getChildrenFunction:t=>{const r=[];return"tables"in t&&r.push(t.tables),"layers"in t&&r.push(t.layers),r},itemFilterFunction:t=>{const r=t.parent;return!!r&&"tables"in r&&r.tables.includes(t)}})}function Xb(e){for(const t of e.values())t?.destroy();e.clear()}const HO={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function ate(e){let t=null;if(typeof e=="string")if(e in HO){const r=HO[e];t=new Qw({resourceInfo:{data:{layers:[r]}}})}else Ne.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=oi(Qw,e);return t}let h8=0;const tk=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+h8++})}};return t=p([G("esri.core.Identifiable")],t),t},rk=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:h8++})}};return t=p([G("esri.core.Identifiable.NumericIdentifiable")],t),t};let WO=class extends tk(class{}){};WO=p([G("esri.core.Identifiable")],WO);async function lte(e){const t="portalItem"in e?e:{portalItem:e},{fromItem:r}=await ke(async()=>{const{fromItem:n}=await import("./portalLayers-XbTAjvpD.js").then(i=>i.p);return{fromItem:n}},__vite__mapDeps([193,194,195]));try{return await r(t)}catch(n){const i=t?.portalItem,s=i?.id||"unset",o=i?.portal?.url||Vt.portalUrl;throw Ne.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+o+"', id: '"+s+"')",n),n}}const qO={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function Qb(e,t,r,n=Oa){const i=new zo(NM(n)),s=nt.fromJSDate(e,{zone:i}),o=r==="decades"||r==="centuries"?"year":p8(r);return r==="decades"&&(t*=10),r==="centuries"&&(t*=100),s.plus({[o]:t}).toJSDate()}function Ove(e,t,r="milliseconds"){const n=e.getTime(),i=ute(t,r,"milliseconds");return new Date(n+i)}function ZO(e,t,r=Oa){const n=new zo(NM(r)),i=nt.fromJSDate(e,{zone:n});if(t==="decades"||t==="centuries"){const o=i.startOf("year"),{year:l}=o,c=l-l%(t==="decades"?10:100);return o.set({year:c}).toJSDate()}const s=p8(t);return i.startOf(s).toJSDate()}function ute(e,t,r){return e===0?0:e*qO[t]/qO[r]}function p8(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var As;let es=As=class extends ze{static get allTime(){return YO}static get empty(){return cte}static fromArray(e){return new As({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=e?.getTime()??null}get isAllTime(){return this.equals(As.allTime)}get isEmpty(){return this.equals(As.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=e?.getTime()??null}clone(){return new As({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=this.start?.getTime()??this.start,r=this.end?.getTime()??this.end,n=e.start?.getTime()??e.start,i=e.end?.getTime()??e.end;return t===n&&r===i}expandTo(e,t=Oa){if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=ZO(r,e,t));let n=this.end;if(n){const i=ZO(n,e,t);n=n.getTime()===i.getTime()?i:Qb(i,1,e,t)}return new As({start:r,end:n})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return As.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=this.start?.getTime()??-1/0,r=this.end?.getTime()??1/0,n=e.start?.getTime()??-1/0,i=e.end?.getTime()??1/0;let s,o;return n>=t&&n<=r?s=n:t>=n&&t<=i&&(s=t),r>=n&&r<=i?o=r:i>=t&&i<=r&&(o=i),s==null||o==null||isNaN(s)||isNaN(o)?As.empty:new As({start:s===-1/0?null:new Date(s),end:o===1/0?null:new Date(o)})}offset(e,t,r=Oa){if(this.isEmpty||this.isAllTime)return this.clone();const n=new As,{start:i,end:s}=this;return i!=null&&(n.start=Qb(i,e,t,r)),s!=null&&(n.end=Qb(s,e,t,r)),n}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return YO.clone();const t=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new As({start:t,end:r})}};p([y({type:Date,json:{write:{allowNull:!0}}})],es.prototype,"end",void 0),p([At("end")],es.prototype,"readEnd",null),p([wt("end")],es.prototype,"writeEnd",null),p([y({readOnly:!0,json:{read:!1}})],es.prototype,"isAllTime",null),p([y({readOnly:!0,json:{read:!1}})],es.prototype,"isEmpty",null),p([y({type:Date,json:{write:{allowNull:!0}}})],es.prototype,"start",void 0),p([At("start")],es.prototype,"readStart",null),p([wt("start")],es.prototype,"writeStart",null),es=As=p([G("esri.time.TimeExtent")],es);const _0=es,YO=new es,cte=new es({start:void 0,end:void 0});let dte=0,Lr=class extends $c.EventedMixin(tk(wc)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new tr(-180,-90,180,90,_t.WGS84),this.id=Date.now().toString(16)+"-layer-"+dte++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=_t.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const r=typeof t=="string"?{url:t}:t;return(await ke(async()=>{const{fromUrl:n}=await import("./arcgisLayers-7UE-vNXh.js");return{fromUrl:n}},__vite__mapDeps([196,194,195]))).fromUrl(r)}static fromPortalItem(t){return lte(t)}initialize(){this.when().catch(t=>{Li(t)||Ne.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const t=this.parent;if(t){const r=this;"layers"in t&&t.layers.includes(r)?t.layers.remove(r):"tables"in t&&t.tables.includes(r)?t.tables.remove(r):"baseLayers"in t&&t.baseLayers.includes(r)?t.baseLayers.remove(r):"referenceLayers"in t&&t.referenceLayers.includes(r)&&t.referenceLayers.remove(r),this._set("parent",null)}}get effectiveVisible(){let t=this.visible;const r=this.parent;return t&&r&&"effectiveVisible"in r&&(t&&=r.effectiveVisible),t}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return ai(this.url)}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await Ar(t,{query:{f:"json"},responseType:"json"})).data;throw new fe("layer:no-attribution-data","Layer does not have attribution data")}};p([y({type:String})],Lr.prototype,"attributionDataUrl",void 0),p([y({readOnly:!0})],Lr.prototype,"effectiveVisible",null),p([y({type:tr})],Lr.prototype,"fullExtent",void 0),p([y({readOnly:!0})],Lr.prototype,"hasAttributionData",null),p([y({type:String,clonable:!1})],Lr.prototype,"id",void 0),p([y({type:Boolean,nonNullable:!0})],Lr.prototype,"legendEnabled",void 0),p([y({type:["show","hide","hide-children"]})],Lr.prototype,"listMode",void 0),p([y({type:Number,range:{min:0,max:1},nonNullable:!0})],Lr.prototype,"opacity",void 0),p([y({clonable:!1})],Lr.prototype,"parent",void 0),p([y({readOnly:!0})],Lr.prototype,"parsedUrl",null),p([y({type:Boolean,readOnly:!0})],Lr.prototype,"persistenceEnabled",void 0),p([y({type:Boolean})],Lr.prototype,"popupEnabled",void 0),p([y({type:Boolean})],Lr.prototype,"attributionVisible",void 0),p([y({type:_t})],Lr.prototype,"spatialReference",void 0),p([y({type:String})],Lr.prototype,"title",void 0),p([y({readOnly:!0,json:{read:!1}})],Lr.prototype,"type",void 0),p([y()],Lr.prototype,"url",void 0),p([y({type:_0})],Lr.prototype,"visibilityTimeExtent",void 0),p([y({type:Boolean,nonNullable:!0})],Lr.prototype,"visible",void 0),Lr=p([G("esri.layers.Layer")],Lr);const nk=Lr;function c$(e,t,r){let n,i;if(e)for(let s=0,o=e.length;s<o;s++){if(n=e.at(s),n?.[t]===r)return n;if(n?.type==="group"&&(i=c$(n.layers,t,r),i))return i}}const hte=e=>{let t=class extends e{constructor(...r){super(...r),this.layers=new Ye;const n=o=>{o.parent&&"remove"in o.parent&&o.parent.remove(o)},i=o=>{o.parent=this,this.layerAdded(o),o.type!=="elevation"&&o.type!=="base-elevation"||Ne.getLogger(this).error(`Layer 'title:${o.title}, id:${o.id}' of type '${o.type}' is not supported as an operational layer and will therefore be ignored.`)},s=o=>{o.parent=null,this.layerRemoved(o)};this.addHandles([this.layers.on("before-add",o=>{if(o.item===this)return o.preventDefault(),void Ne.getLogger(this).error("#add()","Cannot add layer to itself.");n(o.item)}),this.layers.on("after-add",o=>i(o.item)),this.layers.on("after-remove",o=>s(o.item))])}destroy(){const r=this.layers.toArray();for(const n of r)n.destroy();this.layers.destroy()}set layers(r){this._set("layers",vc(r,this._get("layers")))}add(r,n){const i=this.layers;if(n=i.getNextIndex(n),r instanceof nk){const s=r;s.parent===this?this.reorder(s,n):i.add(s,n)}else Da(r)?r.then(s=>{this.destroyed||this.add(s,n)}):Ne.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(r,n){const i=this.layers;let s=i.getNextIndex(n);r.slice().forEach(o=>{o.parent!==this?(i.add(o,s),s+=1):this.reorder(o,s)})}findLayerById(r){return c$(this.layers,"id",r)}findLayerByUid(r){return c$(this.layers,"uid",r)}remove(r){return this.layers.remove(r)}removeMany(r){return this.layers.removeMany(r)}removeAll(){return this.layers.removeAll()}reorder(r,n){return this.layers.reorder(r,n)}layerAdded(r){}layerRemoved(r){}};return p([y()],t.prototype,"layers",null),t=p([G("esri.support.LayersMixin")],t),t};function d$(e,t,r){if(e)for(let n=0,i=e.length;n<i;n++){const s=e.at(n);if(s[t]===r)return s;if(s?.type==="group"){const o=d$(s.tables,t,r);if(o)return o}}}const pte=e=>{let t=class extends e{constructor(...r){super(...r),this.tables=new Ye,this.addHandles([this.tables.on("after-add",n=>{const i=n.item;i.parent&&i.parent!==this&&"tables"in i.parent&&i.parent.tables.remove(i),i.parent=this,i.type!=="feature"&&Ne.getLogger(this).error(`Layer 'title:${i.title}, id:${i.id}' of type '${i.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",n=>{n.item.parent=null})])}destroy(){const r=this.tables.toArray();for(const n of r)n.destroy();this.tables.destroy()}set tables(r){this._set("tables",vc(r,this._get("tables")))}findTableById(r){return d$(this.tables,"id",r)}findTableByUid(r){return d$(this.tables,"uid",r)}};return p([y()],t.prototype,"tables",null),t=p([G("esri.support.TablesMixin")],t),t};let vo=class extends pte(hte($c.EventedMixin(He))){constructor(t){super(t),this.allLayers=new h0({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:r=>"layers"in r?r.layers:null}),this.allTables=ote(this),this.basemap=null,this.editableLayers=new h0({getCollections:()=>[this.allLayers],itemFilterFunction:ZQ}),this.ground=new Qw,this._basemapCache=nte()}destroy(){ite(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=wr(this.basemap),wr(this.ground),this._set("ground",null)}castBasemap(t){return ste(t,this._basemapCache)}castGround(t){return ate(t)??this._get("ground")}findLayerById(t){return this.allLayers.find(r=>r.id===t)}findTableById(t){return this.allTables.find(r=>r.id===t)}};p([y({readOnly:!0,dependsOn:[]})],vo.prototype,"allLayers",void 0),p([y({readOnly:!0})],vo.prototype,"allTables",void 0),p([y({type:Vy,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],vo.prototype,"basemap",void 0),p([jr("basemap")],vo.prototype,"castBasemap",null),p([y({readOnly:!0})],vo.prototype,"editableLayers",void 0),p([y({type:Qw,nonNullable:!0})],vo.prototype,"ground",void 0),p([jr("ground")],vo.prototype,"castGround",null),p([y()],vo.prototype,"undoRedo",void 0),vo=p([G("esri.Map")],vo);const f8=vo;let Hy=class extends Ye{constructor(t){super(t),this.addHandles([this.on("before-add",r=>{r.item==null&&r.preventDefault()}),this.on("after-add",r=>this._own(r.item)),this.on("after-remove",r=>this._release(r.item))])}get owner(){return this._get("owner")}set owner(t){t!==this._get("owner")&&(this._releaseAll(),this._set("owner",t),this._ownAll())}_ownAll(){for(const t of this.items)this._own(t)}_releaseAll(){for(const t of this.items)this._release(t)}_createNewInstance(t){return this.itemType?new(Ye.ofType(this.itemType.Type))(t):new Ye(t)}};function h$(e,t){return{type:e,cast:UF,set(r){const n=vc(r,this._get(t),e);n.owner=this,this._set(t,n)}}}p([y()],Hy.prototype,"owner",null),Hy=p([G("esri.core.support.OwningCollection")],Hy);var Ym;const e_=li()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),m8=e_.jsonValues.slice();LG(m8,"orthometric");const Wy=li()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let wo=Ym=class extends ze{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,r){return e_.write(e,t,r)}readHeightModel(e,t,r){return e_.read(e)||(r?.messages&&r.messages.push(fte(e,{context:r})),null)}readHeightUnit(e,t,r){return Wy.read(e)||(r?.messages&&r.messages.push(JO(e,{context:r})),null)}readHeightUnitService(e,t,r){return Z5(e)||Wy.read(e)||(r?.messages&&r.messages.push(JO(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new Ym({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=Y5(t);return new Ym({heightModel:e.heightModel,heightUnit:r??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new Ym;return t.read(e,{origin:"web-scene"}),t}};function JO(e,t){return new Bl("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function fte(e,t){return new Bl("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}p([y({type:e_.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:m8,default:"ellipsoidal"}}}})],wo.prototype,"heightModel",void 0),p([wt("web-scene","heightModel")],wo.prototype,"writeHeightModel",null),p([At(["web-scene","service"],"heightModel")],wo.prototype,"readHeightModel",null),p([y({type:Wy.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:Wy.jsonValues,write:Wy.write}}}})],wo.prototype,"heightUnit",void 0),p([At("web-scene","heightUnit")],wo.prototype,"readHeightUnit",null),p([At("service","heightUnit")],wo.prototype,"readHeightUnitService",null),p([y({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],wo.prototype,"vertCRS",void 0),p([At("service","vertCRS",["vertCRS","ellipsoid","geoid"])],wo.prototype,"readVertCRS",null),wo=Ym=p([G("esri.geometry.HeightModelInfo")],wo);const ik=wo;let t_=class extends Hy{constructor(t){super(t),this.addHandles(this.on("before-add",r=>{r.item!=null&&r.item.parent===this.owner&&(Ne.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),r.preventDefault())}))}_own(t){t.parent=this.owner}_release(t){t.parent=null}};t_=p([G("esri.support.AnalysesCollection")],t_);async function mte(e,t){const{WhereClause:r}=await ke(()=>import("./WhereClause-DbgZ3DzV.js").then(n=>n.W),__vite__mapDeps([30,31,32]));return r.create(e,{fieldsIndex:t})}function Fve(e,t){return e==="1=1"?t??e:t==="1=1"?e??t:e!=null&&e!==""?t!=null&&t!==""?`(${e}) AND (${t})`:e:t}function sk(e){return typeof e=="string"||e instanceof String}var tf;(function(e){e.HM="HH:mm",e.HMS="HH:mm:ss",e.HMS_MS="HH:mm:ss.SSS"})(tf||(tf={}));const yte=[tf.HMS_MS,tf.HMS,tf.HM,"TT"],gte="yyyy-MM-dd";tf.HMS;function KO(e){if(!e||!sk(e))return null;const t=nt.fromFormat(e,gte);return t.isValid?t:null}function XO(e){return e&&sk(e)?YV(yte,t=>{const r=nt.fromFormat(e,t);return r.isValid?r:null})??null:null}function QO(e){if(!e||!sk(e))return null;const t=nt.fromISO(e);return t.isValid?t:null}var gf;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(gf||(gf={}));const vte=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function wte(e){return e!=null&&vte.has(e.type)}function y8(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function g8(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function v8(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function _te(e,t,r){const n=e?.domain;if(!n)return null;switch(n.type){case"range":{const{min:i,max:s}=Ste(e);if(i!=null&&+t<i||s!=null&&+t>s)return gf.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(n.codedValues==null||n.codedValues.every(i=>i==null||i.code!==t))return gf.INVALID_CODED_VALUE}return null}function Ste(e,t){const r=e?.domain;if(!r||r.type!=="range")return;const n="range"in r?r.range[0]:r.minValue,i="range"in r?r.range[1]:r.maxValue,s=wte(e);return y8(e)||v8(e)||g8(e)?{...bte(e,i,n),isInteger:s}:{min:n!=null&&typeof n=="number"?n:null,max:i!=null&&typeof i=="number"?i:null,rawMin:n,rawMax:i,isInteger:s}}function bte(e,t,r){return y8(e)?{min:KO(r)?.toMillis(),max:KO(t)?.toMillis(),rawMin:r,rawMax:t}:v8(e)?{min:XO(r)?.toMillis(),max:XO(t)?.toMillis(),rawMin:r,rawMax:t}:g8(e)?{min:QO(r)?.toMillis(),max:QO(t)?.toMillis(),rawMin:r,rawMax:t}:{max:null,min:null}}const Ete=()=>Ne.getLogger("esri.support.arcadeOnDemand");let eE;function w8(){return eE||(eE=(async()=>{const e=await ke(()=>import("./arcadeUtils-BMaEggE7.js").then(t=>t.i),__vite__mapDeps([197,198,31,32,199,159,35,21,19,22,34]));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),eE}const Uve=(e,t,r)=>_8.create(e,t,r,null,["$feature","$view"],[]),jve=(e,t,r,n)=>_8.create(e,t,r,n,["$feature","$view"],[]);let _8=class S8{constructor(t,r,n,i,s,o,l){this.services=null,this.script=t,this.evaluate=i;const c=Array.isArray(o)?o:o?.fields;this.fields=c??[],this._syntaxTree=n,this._arcade=r,this._arcadeFeature=s,this._spatialReference=l,this._referencesGeometry=r.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,r,n,i,s,o){const{arcade:l,Feature:c,Dictionary:d}=await w8(),m=r instanceof _t?r:_t.fromJSON(r);let g;try{g=l.parseScript(t,o)}catch(pe){return Ete().error(new fe("arcade-bad-expression","Failed to parse arcade script",{script:t,error:pe})),null}const w=s.reduce((pe,ye)=>({...pe,[ye]:null}),{});let S=null;i!=null&&(S=new d(i),S.immutable=!0,w.$config=null);const $=l.scriptUsesGeometryEngine(g),x=$&&l.enableGeometrySupport(),M=l.scriptUsesFeatureSet(g)&&l.enableFeatureSetSupport(),P=l.scriptIsAsync(g),F=P&&l.enableAsyncSupport(),V={vars:w,spatialReference:m,useAsync:!!F};await Promise.all([x,M,F]);const U=new Set;await l.loadDependentModules(U,g,null,P,$);const z=new d;z.immutable=!1,z.setField("scale",0);const Z=l.compileScript(g,V),Q=(pe,ye)=>{const ge=pe.$view?.timeZone;return"$view"in pe&&pe.$view&&(z.setField("scale",typeof pe.$view=="object"&&"scale"in pe.$view?pe.$view.scale:void 0),pe.$view=z),S&&(pe.$config=S),Z({vars:pe,spatialReference:m,services:ye,timeZone:ge})};return new S8(t,l,g,Q,new c,n,m)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const Tte=/^([0-9_])/,$te=/[^a-z0-9_\u0080-\uffff]+/gi;function zve(e){return e==null?null:e.trim().replaceAll($te,"_").replace(Tte,"F$1")||null}const xte=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Mte=["field","normalizationField"];function Gve(e,t){if(e!=null&&t!=null){for(const r of Array.isArray(e)?e:[e])if(eI(xte,r,t),"visualVariables"in r&&r.visualVariables)for(const n of r.visualVariables)eI(Mte,n,t)}}function eI(e,t,r){if(e)for(const n of e){const i=A_(n,t),s=i&&typeof i!="function"&&r.get(i);s&&vh(n,s.name,t)}}function Vve(e,t){if(e!=null&&t?.fields?.length)if("startField"in e){const r=t.get(e.startField),n=t.get(e.endField);e.startField=r?.name??null,e.endField=n?.name??null}else{const r=t.get(e.startTimeField),n=t.get(e.endTimeField);e.startTimeField=r?.name??null,e.endTimeField=n?.name??null}}const tE=new Set;function ok(e,t){return e&&t?(tE.clear(),S0(tE,e,t),Array.from(tE).sort()):[]}function S0(e,t,r){if(r)if(t?.fields?.length)if(r.includes("*"))for(const{name:n}of t.fields)e.add(n);else for(const n of r)cS(e,t,n);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const n of r)n!=null&&e.add(n)}}function cS(e,t,r){if(typeof r=="string")if(t){const n=t.get(r);n&&e.add(n.name)}else e.add(r)}function Bve(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(r=>r.name):t}function Hve(e,t,r=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const n=ok(e,t);return n.length/e.fields.length>=r?["*"]:n}async function Sc(e,t,r){if(!r)return;const{arcadeUtils:n}=await w8(),i=n.extractFieldNames(r,t?.fields?.map(s=>s.name));for(const s of i)cS(e,t,s)}async function b8(e,t,r){if(r&&r!=="1=1"){const n=await mte(r,t);if(!n.isStandardized)throw new fe("fieldUtils:collectFilterFields","Where clause is not standardized",{where:r});S0(e,t,n.fieldNames)}}function Wve({displayField:e,fields:t}){return e||(t?.length?rE(t,"name-or-title")||rE(t,"unique-identifier")||rE(t,"type-or-category")||kte(t):null)}function kte(e){for(const t of e){if(!t?.name)continue;const r=t.name.toLowerCase();if(r.includes("name")||r.includes("title"))return t.name}return null}function rE(e,t){for(const r of e)if(r?.valueType&&r.valueType===t)return r.name;return null}async function qve(e,t){if(!t)return;const r=t.elevationInfo?.featureExpressionInfo;return r?r.collectRequiredFields(e,t.fieldsIndex):void 0}function Ate(e,t,r){r.onStatisticExpression?Sc(e,t,r.onStatisticExpression.expression):e.add(r.onStatisticField)}async function Zve(e,t,r){if(!t||!r||!("fields"in r))return;const n=[],i=r.popupTemplate;n.push(Cte(e,t,i)),r.fields&&n.push(...r.fields.map(async s=>Ate(e,t.fieldsIndex,s))),await Promise.all(n)}async function Cte(e,t,r){const n=[];r?.expressionInfos&&n.push(...r.expressionInfos.map(s=>Sc(e,t.fieldsIndex,s.expression)));const i=r?.content;if(Array.isArray(i))for(const s of i)s.type==="expression"&&s.expressionInfo&&n.push(Sc(e,t.fieldsIndex,s.expressionInfo.expression));await Promise.all(n)}async function Yve(e,t,r){t&&(t.timeInfo&&r?.timeExtent&&S0(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&S0(e,t.fieldsIndex,[t.floorInfo.floorField]),r?.where!=null&&await b8(e,t.fieldsIndex,r.where))}async function Jve(e,t,r){t&&r&&await Promise.all(r.map(n=>Rte(e,t,n)))}async function Rte(e,t,r){t&&r&&(r.valueExpression?await Sc(e,t.fieldsIndex,r.valueExpression):r.field&&cS(e,t.fieldsIndex,r.field))}function Kve(e){return e?ok(e.fieldsIndex,E8(e)):[]}function Pte(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?ok(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}const Ote=new Set(["oid","global-id","guid"]),Ite=new Set(["oid","global-id"]),Nte=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function Lte(e){const t=new Set;T8(e).forEach(n=>t.add(n)),Pte(e).forEach(n=>t.add(n.toLowerCase()));const r=e&&"infoFor3D"in e?e.infoFor3D:void 0;return r&&(Object.values(r.assetMapFieldRoles).forEach(n=>t.add(n.toLowerCase())),Object.values(r.transformFieldRoles).forEach(n=>t.add(n.toLowerCase()))),Array.from(t)}function E8(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:r,creatorField:n,editDateField:i,editorField:s}=t;return[r,n,i,s].filter(Boolean)}function T8(e){return E8(e).map(t=>t.toLowerCase())}function Xve(e,t){return e.editable&&!Ote.has(e.type)&&!T8(t).includes(e.name?.toLowerCase()??"")}function Qve(e,t){const r=e.name?.toLowerCase()??"";return!(t?.objectIdField!=null&&r===t.objectIdField.toLowerCase()||t?.globalIdField!=null&&r===t.globalIdField.toLowerCase()||Lte(t).includes(r)||Ite.has(e.type)||Nte.some(n=>n.test(r)))}async function ewe(e,t){const{labelingInfo:r,fieldsIndex:n}=t;r?.length&&await Promise.all(r.map(i=>Dte(e,n,i)))}async function Dte(e,t,r){if(!r)return;const n=r.getLabelExpression(),i=r.where;if(n.type==="arcade")await Sc(e,t,n.expression);else{const s=n.expression.match(/{[^}]*}/g);s&&s.forEach(o=>{cS(e,t,o.slice(1,-1))})}await b8(e,t,i)}function twe(e){const t=e.defaultValue;return t!==void 0&&M8(e,t)?t:e.nullable?null:void 0}function rwe(e){const t=typeof e=="string"?{type:e}:e;return Yte(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function $8(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function Fte(e){return e===null||$8(e)}function Ute(e){return e===null||Number.isInteger(e)}function x8(e){return e!=null&&typeof e=="string"}function jte(e){return e===null||x8(e)}function zte(){return!0}function M8(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":r=e.nullable?Ute:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?Fte:$8;break;case"string":case"esriFieldTypeString":r=e.nullable?jte:x8;break;default:r=zte}return arguments.length===1?r:r(t)}const Gte=["integer","small-integer","big-integer"],Vte=["single","double"],Bte=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],Hte=["esriFieldTypeSingle","esriFieldTypeDouble"],k8=new Set([...Gte,...Bte]),Wte=new Set([...Vte,...Hte]),qte=r5(k8,Wte);function nwe(e){return e!=null&&k8.has(e.type)}function Zte(e){return e!=null&&qte.has(e.type)}function Yte(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function iwe(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function swe(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function owe(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function awe(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function lwe(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function uwe(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function cwe(e,t){return Jte(e,t)===null}var r_,n_;function dwe(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function Jte(e,t){return e==null||e.nullable&&t===null?null:Zte(e)&&!Kte(e.type,Number(t))?r_.OUT_OF_RANGE:M8(e,t)?e.domain?_te(e,t):null:n_.INVALID_TYPE}function Kte(e,t){const r=typeof e=="string"?A8(e):e;if(!r)return!1;const n=r.min,i=r.max;return r.isInteger?Number.isInteger(t)&&t>=n&&t<=i:t>=n&&t<=i}function A8(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return Xte;case"esriFieldTypeInteger":case"integer":return Qte;case"esriFieldTypeBigInteger":case"big-integer":return ere;case"esriFieldTypeSingle":case"single":return tre;case"esriFieldTypeDouble":case"double":return rre}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(r_||(r_={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(n_||(n_={}));const Xte={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},Qte={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},ere={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},tre={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},rre={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function hwe(e,t,r){switch(e){case gf.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case gf.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case n_.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case r_.OUT_OF_RANGE:{const{min:n,max:i}=A8(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${n} to ${i}`}}}function pwe(e,t){return!nre(e,t,null)}function nre(e,t,r){if(!t?.attributes||!e)return!0;const n=new Set(Object.keys(t.attributes));let i=!1;for(const s of e)if(!n.has(s)&&(i=!0,r==null))break;return i}function fwe(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}function ire(e){const t=e?.match(/{[^}]+}/g);return t?t.map(r=>r.slice(1,-1).split(":")[0].trim()):[]}let Nv=class extends ze{constructor(t){super(t),this.type=null}};p([y({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],Nv.prototype,"type",void 0),Nv=p([G("esri.popup.content.Content")],Nv);const ql=Nv;var p$;let md=p$=class extends ql{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new p$({description:this.description,displayType:this.displayType,title:this.title})}};p([y({type:String,json:{write:!0}})],md.prototype,"description",void 0),p([y({type:["auto","preview","list"],json:{write:!0}})],md.prototype,"displayType",void 0),p([y({type:String,json:{write:!0}})],md.prototype,"title",void 0),p([y({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],md.prototype,"type",void 0),md=p$=p([G("esri.popup.content.AttachmentsContent")],md);const b0=md;var f$;let yd=f$=class extends ql{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new f$({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?me(this.outFields):null})}};p([y()],yd.prototype,"creator",void 0),p([y()],yd.prototype,"destroyer",void 0),p([y()],yd.prototype,"outFields",void 0),p([y({type:["custom"],readOnly:!0})],yd.prototype,"type",void 0),yd=f$=p([G("esri.popup.content.CustomContent")],yd);const sre=yd;var m$;let yp=m$=class extends ze{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new m$({title:this.title,expression:this.expression})}};p([y({type:String,json:{write:!0}})],yp.prototype,"title",void 0),p([y({type:String,json:{write:!0}})],yp.prototype,"expression",void 0),p([y({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],yp.prototype,"returnType",void 0),yp=m$=p([G("esri.popup.ElementExpressionInfo")],yp);const ore=yp;var y$;let Jm=y$=class extends ql{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){return new y$({expressionInfo:this.expressionInfo?.clone()})}};p([y({type:ore,json:{write:!0}})],Jm.prototype,"expressionInfo",void 0),p([y({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Jm.prototype,"type",void 0),Jm=y$=p([G("esri.popup.content.ExpressionContent")],Jm);const dS=Jm;let gp=class extends Bs(ze){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};p([at(pJ)],gp.prototype,"dateFormat",void 0),p([y({type:Boolean,json:{write:!0}})],gp.prototype,"digitSeparator",void 0),p([y({type:or,json:{write:!0}})],gp.prototype,"places",void 0),gp=p([G("esri.popup.support.FieldInfoFormat")],gp);const are=gp;var g$;let _o=g$=class extends ze{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new g$({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};p([y({type:String,json:{write:!0}})],_o.prototype,"fieldName",void 0),p([y({type:are,json:{write:!0}})],_o.prototype,"format",void 0),p([y({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],_o.prototype,"isEditable",void 0),p([y({type:String,json:{write:!0}})],_o.prototype,"label",void 0),p([at(new en({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],_o.prototype,"stringFieldOption",void 0),p([y({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],_o.prototype,"statisticType",void 0),p([y({type:String,json:{write:!0}})],_o.prototype,"tooltip",void 0),p([y({type:Boolean,json:{write:!0}})],_o.prototype,"visible",void 0),_o=g$=p([G("esri.popup.FieldInfo")],_o);const C8=_o;var v$;let vl=v$=class extends ql{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(r=>r.toJSON())}clone(){return new v$(me({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};p([y({type:Object,json:{write:!0}})],vl.prototype,"attributes",void 0),p([y({type:String,json:{write:!0}})],vl.prototype,"description",void 0),p([y({type:[C8]})],vl.prototype,"fieldInfos",void 0),p([wt("fieldInfos")],vl.prototype,"writeFieldInfos",null),p([y({type:String,json:{write:!0}})],vl.prototype,"title",void 0),p([y({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],vl.prototype,"type",void 0),vl=v$=p([G("esri.popup.content.FieldsContent")],vl);const E0=vl;let gd=class extends ze{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};p([y({type:String,json:{write:!0}})],gd.prototype,"altText",void 0),p([y({type:String,json:{write:!0}})],gd.prototype,"caption",void 0),p([y({type:String,json:{write:!0}})],gd.prototype,"title",void 0),p([y({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],gd.prototype,"type",void 0),gd=p([G("esri.popup.content.mixins.MediaInfo")],gd);const ak=gd;var w$;let vd=w$=class extends He{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new w$({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};p([y()],vd.prototype,"color",void 0),p([y()],vd.prototype,"fieldName",void 0),p([y()],vd.prototype,"tooltip",void 0),p([y()],vd.prototype,"value",void 0),vd=w$=p([G("esri.popup.content.support.ChartMediaInfoValueSeries")],vd);const lre=vd;var _$;let Pu=_$=class extends ze{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new _$({colors:me(this.colors),fields:me(this.fields),normalizeField:this.normalizeField,series:me(this.series),tooltipField:this.tooltipField})}};p([y({type:[Ot],json:{type:[[or]],write:!0}})],Pu.prototype,"colors",void 0),p([y({type:[String],json:{write:!0}})],Pu.prototype,"fields",void 0),p([y({type:String,json:{write:!0}})],Pu.prototype,"normalizeField",void 0),p([y({type:[lre],json:{read:!1}})],Pu.prototype,"series",void 0),p([y({type:String,json:{write:!0}})],Pu.prototype,"tooltipField",void 0),Pu=_$=p([G("esri.popup.content.support.ChartMediaInfoValue")],Pu);const ure=Pu;let Km=class extends ak{constructor(t){super(t),this.type=null,this.value=void 0}};p([y({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Km.prototype,"type",void 0),p([y({type:ure,json:{write:!0}})],Km.prototype,"value",void 0),Km=p([G("esri.popup.content.mixins.ChartMediaInfo")],Km);const hS=Km,pS=li()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var S$;let Lv=S$=class extends hS{constructor(e){super(e),this.type="bar-chart"}clone(){return new S$({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};p([y({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:pS.write}})],Lv.prototype,"type",void 0),Lv=S$=p([G("esri.popup.content.BarChartMediaInfo")],Lv);const R8=Lv;var b$;let Dv=b$=class extends hS{constructor(e){super(e),this.type="column-chart"}clone(){return new b$({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};p([y({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:pS.write}})],Dv.prototype,"type",void 0),Dv=b$=p([G("esri.popup.content.ColumnChartMediaInfo")],Dv);const P8=Dv;var E$;let Xm=E$=class extends ze{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new E$({linkURL:this.linkURL,sourceURL:this.sourceURL})}};p([y({type:String,json:{write:!0}})],Xm.prototype,"linkURL",void 0),p([y({type:String,json:{write:!0}})],Xm.prototype,"sourceURL",void 0),Xm=E$=p([G("esri.popup.content.support.ImageMediaInfoValue")],Xm);const cre=Xm;var T$;let vp=T$=class extends ak{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new T$({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};p([y({type:Number,json:{write:!0}})],vp.prototype,"refreshInterval",void 0),p([y({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],vp.prototype,"type",void 0),p([y({type:cre,json:{write:!0}})],vp.prototype,"value",void 0),vp=T$=p([G("esri.popup.content.ImageMediaInfo")],vp);const O8=vp;var $$;let Fv=$$=class extends hS{constructor(e){super(e),this.type="line-chart"}clone(){return new $$({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};p([y({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:pS.write}})],Fv.prototype,"type",void 0),Fv=$$=p([G("esri.popup.content.LineChartMediaInfo")],Fv);const I8=Fv;var x$;let Uv=x$=class extends hS{constructor(e){super(e),this.type="pie-chart"}clone(){return new x$({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};p([y({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:pS.write}})],Uv.prototype,"type",void 0),Uv=x$=p([G("esri.popup.content.PieChartMediaInfo")],Uv);const N8=Uv,M$={base:ak,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":R8,"column-chart":P8,"line-chart":I8,"pie-chart":N8,image:O8}};var k$;let So=k$=class extends ql{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?O8.fromJSON(t):t.type==="barchart"?R8.fromJSON(t):t.type==="columnchart"?P8.fromJSON(t):t.type==="linechart"?I8.fromJSON(t):t.type==="piechart"?N8.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(r=>r.toJSON())}clone(){return new k$(me({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};p([y()],So.prototype,"activeMediaInfoIndex",void 0),p([y({type:Object,json:{write:!0}})],So.prototype,"attributes",void 0),p([y({type:String,json:{write:!0}})],So.prototype,"description",void 0),p([y({types:[M$]})],So.prototype,"mediaInfos",void 0),p([At("mediaInfos")],So.prototype,"readMediaInfos",null),p([wt("mediaInfos")],So.prototype,"writeMediaInfos",null),p([y({type:String,json:{write:!0}})],So.prototype,"title",void 0),p([y({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],So.prototype,"type",void 0),So=k$=p([G("esri.popup.content.MediaContent")],So);const T0=So;var A$;let Qm=A$=class extends ze{constructor(e){super(e),this.field=null,this.order=null}clone(){return new A$({field:this.field,order:this.order})}};p([y({type:String,json:{write:!0}})],Qm.prototype,"field",void 0),p([y({type:["asc","desc"],json:{write:!0}})],Qm.prototype,"order",void 0),Qm=A$=p([G("esri.popup.support.RelatedRecordsInfoFieldOrder")],Qm);const L8=Qm;let ha=class extends Bs(ql){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};p([y({type:String,json:{write:!0}})],ha.prototype,"description",void 0),p([y({type:Number,json:{type:or,write:!0}})],ha.prototype,"displayCount",void 0),p([y({type:["list"],json:{write:!0}})],ha.prototype,"displayType",void 0),p([y({type:[L8],json:{write:!0}})],ha.prototype,"orderByFields",void 0),p([y({type:Number,json:{type:or,write:!0}})],ha.prototype,"relationshipId",void 0),p([y({type:String,json:{write:!0}})],ha.prototype,"title",void 0),p([y({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],ha.prototype,"type",void 0),ha=p([G("esri.popup.content.RelationshipContent")],ha);const $0=ha;var C$;let ey=C$=class extends ql{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new C$({text:this.text})}};p([y({type:String,json:{write:!0}})],ey.prototype,"text",void 0),p([y({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],ey.prototype,"type",void 0),ey=C$=p([G("esri.popup.content.TextContent")],ey);const x0=ey;let pa=class extends Bs(ze){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.open=!1,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};p([y({type:String,json:{write:!0}})],pa.prototype,"title",void 0),p([y({type:String,json:{write:!0}})],pa.prototype,"description",void 0),p([y({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],pa.prototype,"type",void 0),p([y({type:Boolean,json:{read:!1}})],pa.prototype,"open",void 0),p([y({type:Number,json:{type:or,write:!0}})],pa.prototype,"associatedNetworkSourceId",void 0),p([y({type:Number,json:{type:or,write:!0}})],pa.prototype,"associatedAssetGroup",void 0),p([y({type:Number,json:{type:or,write:!0}})],pa.prototype,"associatedAssetType",void 0),pa=p([G("esri.popup.support.UtilityNetworkAssociationType")],pa);const dre=pa;let wd=class extends Bs(ql){constructor(t){super(t),this.description=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};p([y({type:String,json:{write:!0}})],wd.prototype,"description",void 0),p([y({type:String,json:{write:!0}})],wd.prototype,"title",void 0),p([y({type:[dre],json:{write:!0}})],wd.prototype,"associationTypes",void 0),p([at({utilityNetworkAssociations:"utility-network-associations"})],wd.prototype,"type",void 0),wd=p([G("esri.popup.content.UtilityNetworkAssociationsContent")],wd);const lk=wd,hre={base:null,key:"type",typeMap:{attachment:b0,media:T0,text:x0,expression:dS,field:E0,relationship:$0,utilityNetworkAssociations:lk}},pre={base:null,key:"type",typeMap:{attachment:b0,media:T0,text:x0,expression:dS,field:E0,relationship:$0}};var R$;let _d=R$=class extends ze{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new R$({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};p([y({type:String,json:{write:!0}})],_d.prototype,"name",void 0),p([y({type:String,json:{write:!0}})],_d.prototype,"title",void 0),p([y({type:String,json:{write:!0}})],_d.prototype,"expression",void 0),p([y({type:["string","number"],json:{write:!0}})],_d.prototype,"returnType",void 0),_d=R$=p([G("esri.popup.ExpressionInfo")],_d);const fre=_d;var P$;let ty=P$=class extends ze{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new P$({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};p([y({type:Boolean,json:{write:!0}})],ty.prototype,"returnTopmostRaster",void 0),p([y({type:Boolean,json:{write:!0}})],ty.prototype,"showNoDataRecords",void 0),ty=P$=p([G("esri.popup.LayerOptions")],ty);const mre=ty;var O$;let ry=O$=class extends ze{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new O$({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?me(this.orderByFields):null})}};p([y({type:Boolean,json:{write:!0}})],ry.prototype,"showRelatedRecords",void 0),p([y({type:[L8],json:{write:!0}})],ry.prototype,"orderByFields",void 0),ry=O$=p([G("esri.popup.RelatedRecordsInfo")],ry);const tI=ry;var I$;let Cs=I$=class extends tk(He){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new I$({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};p([y()],Cs.prototype,"active",void 0),p([y()],Cs.prototype,"className",void 0),p([y()],Cs.prototype,"disabled",void 0),p([y()],Cs.prototype,"icon",void 0),p([y()],Cs.prototype,"id",void 0),p([y()],Cs.prototype,"indicator",void 0),p([y()],Cs.prototype,"title",void 0),p([y()],Cs.prototype,"type",void 0),p([y()],Cs.prototype,"visible",void 0),Cs=I$=p([G("esri.support.actions.ActionBase")],Cs);const uk=Cs;var N$;let jv=N$=class extends uk{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new N$({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};p([y()],jv.prototype,"image",void 0),jv=N$=p([G("esri.support.actions.ActionButton")],jv);const yre=jv;var L$;let ny=L$=class extends uk{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new L$({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};p([y()],ny.prototype,"image",void 0),p([y()],ny.prototype,"value",void 0),ny=L$=p([G("esri.support.actions.ActionToggle")],ny);const gre=ny,Mm="relationships/",rI="expression/",vre=Ye.ofType({key:"type",defaultKeyValue:"button",base:uk,typeMap:{button:yre,toggle:gre}}),wre={base:ql,key:"type",typeMap:{media:T0,custom:sre,text:x0,attachments:b0,fields:E0,expression:dS,relationship:$0,utilityNetworkAssociations:lk}},D8=new Set(["attachments","fields","media","text","expression","relationship"]),_re=new Set([...D8,"utility-network-associations"]);let Wr=class extends Bs(ze){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(r=>Aa(wre,r)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||Da(t)?t:(Ne.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,r){const{popupElements:n}=r;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(r.description,r.mediaInfos,n):this._readPopupInfo(r)}writeWebSceneContent(t,r,n,i){this._writePopupTemplateContent(t,r,i)}writeWebMapContent(t,r,n,i){this._writePopupTemplateContent(t,r,i)}writeFieldInfos(t,r,n,i){const{content:s}=this,o=Array.isArray(s)?s:null;if(t){const l=o?o.filter(d=>d.type==="fields"):[],c=l.length&&l.every(d=>d.fieldInfos?.length);r.fieldInfos=t.filter(Boolean).map(d=>{const m=d.toJSON(i);return c&&(m.visible=!1),m})}if(o)for(const l of o)l.type==="fields"&&this._writeFieldsContent(l,r)}writeLayerOptions(t,r,n,i){r[n]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(i)}writeTitle(t,r){r.title=t||""}async collectRequiredFields(t,r){const n=this.expressionInfos||[];await this._collectExpressionInfoFields(t,r,[...n,...this._getContentExpressionInfos(this.content,n)]),S0(t,r,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const r=new Set;return await this.collectRequiredFields(r,t),[...r].sort()}_writePopupTemplateContent(t,r,n){typeof t!="string"?Array.isArray(t)&&(r.popupElements=t.filter(i=>n?.origin==="web-scene"?D8.has(i.type):_re.has(i.type)).map(i=>i?.toJSON(n)),r.popupElements.forEach(i=>{i.type==="attachments"?this._writeAttachmentContent(r):i.type==="media"?this._writeMediaContent(i,r):i.type==="text"?this._writeTextContent(i,r):i.type==="relationship"&&this._writeRelationshipContent(i,r)})):r.description=t}_writeFieldsContent(t,r){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const n=me(t.fieldInfos);Array.isArray(r.fieldInfos)?n.forEach(i=>{const s=r.fieldInfos.find(o=>o.fieldName?.toLowerCase()===i.fieldName?.toLowerCase());s?s.visible=!0:r.fieldInfos.push(i)}):r.fieldInfos=n}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,r){const n=t.orderByFields?.map(s=>this._toFieldOrderJSON(s,t.relationshipId))||[],i=[...r.relatedRecordsInfo?.orderByFields||[],...n];r.relatedRecordsInfo={showRelatedRecords:!0,...i?.length&&{orderByFields:i}}}_writeTextContent(t,r){!r.description&&t.text&&(r.description=t.text)}_writeMediaContent(t,r){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const n=me(t.mediaInfos);Array.isArray(r.mediaInfos)?r.mediaInfos=[...r.mediaInfos,...n]:r.mediaInfos=n}_readPopupInfoElements(t,r,n){const i={description:!1,mediaInfos:!1};return n.map(s=>s.type==="media"?(s.mediaInfos||!r||i.mediaInfos||(s.mediaInfos=r,i.mediaInfos=!0),T0.fromJSON(s)):s.type==="text"?(s.text||!t||i.description||(s.text=t,i.description=!0),x0.fromJSON(s)):s.type==="attachments"?b0.fromJSON(s):s.type==="fields"?E0.fromJSON(s):s.type==="expression"?dS.fromJSON(s):s.type==="relationship"?$0.fromJSON(s):s.type==="utilityNetworkAssociations"?lk.fromJSON(s):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:r,order:n}=t;if(!r?.startsWith(Mm))return null;const i=r.replace(Mm,"").split("/");if(i.length!==2)return null;const s=parseInt(i[0],10),o=i[1];return typeof s=="number"&&o?$0.fromJSON({relationshipId:s,orderByFields:[{field:o,order:n}]}):null}_toFieldOrderJSON(t,r){const{order:n,field:i}=t;return{field:`${Mm}${r}/${i}`,order:n}}_readPopupInfo({description:t,mediaInfos:r,showAttachments:n,relatedRecordsInfo:i={showRelatedRecords:!1}}){const s=[];t?s.push(new x0({text:t})):s.push(new E0),Array.isArray(r)&&r.length&&s.push(T0.fromJSON({mediaInfos:r})),n&&s.push(b0.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:l}=i;return o&&l?.length&&l.forEach(c=>{const d=this._toRelationshipContent(c);d&&s.push(d)}),s.length?s:t}_getContentElementFields(t){const r=t?.type;if(r==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(r==="custom")return t.outFields||[];if(r==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(r==="media"){const n=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...n.reduce((i,s)=>[...i,...this._getMediaInfoFields(s)],[])]}return r==="text"?this._extractFieldNames(t.text):r==="relationship"||r==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:r,title:n,value:i}=t,s=i||{},{fields:o,normalizeField:l,tooltipField:c,sourceURL:d,linkURL:m}=s,g=[...this._extractFieldNames(n),...this._extractFieldNames(r),...this._extractFieldNames(d),...this._extractFieldNames(m),...o??[]];return l&&g.push(l),c&&g.push(c),g}_getContentExpressionInfos(t,r){return Array.isArray(t)?t.reduce((n,i)=>[...n,...i.type==="expression"&&i.expressionInfo?[i.expressionInfo]:[]],r):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((r,n)=>[...r,...this._getContentElementFields(n)],[]):[]}async _collectExpressionInfoFields(t,r,n){n&&await Promise.all(n.map(i=>Sc(t,r,i.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:r,visible:n})=>!(n!==void 0&&!n||!r||r.startsWith(Mm)||r.startsWith(rI))).map(r=>r.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((r,n)=>[...r,...this._getActionFields(n)],[]):[]}_getActionFields(t){const{className:r,title:n,type:i}=t,s=i==="button"||i==="toggle"?t.image:"";return[...this._extractFieldNames(n),...this._extractFieldNames(r),...this._extractFieldNames(s)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return ire(t).filter(r=>!(r.indexOf(Mm)===0||r.indexOf(rI)===0))}};p([y({type:vre})],Wr.prototype,"actions",void 0),p([y()],Wr.prototype,"content",void 0),p([jr("content")],Wr.prototype,"castContent",null),p([At("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Wr.prototype,"readContent",null),p([wt("web-scene","content",{popupElements:{type:Ye.ofType(pre)},showAttachments:{type:Boolean},mediaInfos:{type:Ye.ofType(M$)},description:{type:String},relatedRecordsInfo:{type:tI}})],Wr.prototype,"writeWebSceneContent",null),p([wt("content",{popupElements:{type:Ye.ofType(hre)},showAttachments:{type:Boolean},mediaInfos:{type:Ye.ofType(M$)},description:{type:String},relatedRecordsInfo:{type:tI}})],Wr.prototype,"writeWebMapContent",null),p([y({type:[fre],json:{write:!0}})],Wr.prototype,"expressionInfos",void 0),p([y({type:[C8]})],Wr.prototype,"fieldInfos",void 0),p([wt("fieldInfos")],Wr.prototype,"writeFieldInfos",null),p([y({type:mre})],Wr.prototype,"layerOptions",void 0),p([wt("layerOptions")],Wr.prototype,"writeLayerOptions",null),p([y({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Wr.prototype,"lastEditInfoEnabled",void 0),p([y()],Wr.prototype,"outFields",void 0),p([y()],Wr.prototype,"overwriteActions",void 0),p([y()],Wr.prototype,"returnGeometry",void 0),p([y({json:{type:String}})],Wr.prototype,"title",void 0),p([wt("title")],Wr.prototype,"writeTitle",null),Wr=p([G("esri.PopupTemplate")],Wr);const Sre=Wr,nI=new en({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let bre=0,wp=class extends ze{constructor(t){super(t),this.id="sym"+bre++,this.type=null,this.color=new Ot([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,r){}hash(){return JSON.stringify(this.toJSON())}clone(){}};p([y({type:nI.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:nI.write}}})],wp.prototype,"type",void 0),p([y({type:Ot,json:{write:{allowNull:!0}}})],wp.prototype,"color",void 0),p([At("color")],wp.prototype,"readColor",null),wp=p([G("esri.symbols.Symbol")],wp);const Wn=wp;var D$;let Ou=D$=class extends Wn{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){if(this.data?.type==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const n=r.map(i=>{const s=i.valueExpressionInfo;return s?Sc(e,t,s.expression):null});await Promise.all(n)}}}clone(){return new D$({data:me(this.data)})}hash(){return v4(JSON.stringify(this.data)).toString()}};p([y({json:{write:!1}})],Ou.prototype,"color",void 0),p([y({json:{write:!0}})],Ou.prototype,"data",void 0),p([At("data",["symbol"])],Ou.prototype,"readData",null),p([wt("data",{})],Ou.prototype,"writeData",null),p([at({CIMSymbolReference:"cim"},{readOnly:!0})],Ou.prototype,"type",void 0),Ou=D$=p([G("esri.symbols.CIMSymbol")],Ou);const Eh=Ou;let _p=class extends ze{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,r,n){t||(r[n]=t)}};p([y({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],_p.prototype,"enabled",void 0),p([wt("enabled")],_p.prototype,"writeEnabled",null),p([y({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],_p.prototype,"type",void 0),_p=p([G("esri.symbols.Symbol3DLayer")],_p);const Fa=_p;function Ere(e,t){const r=t.transparency!=null?Xw(t.transparency):1,n=t.color;return n&&Array.isArray(n)?new Ot([n[0]||0,n[1]||0,n[2]||0,r]):null}function Tre(e,t){t.color=e.toJSON().slice(0,3);const r=qF(e.a);r!==0&&(t.transparency=r)}const Rc={type:Ot,json:{type:[or],default:null,read:{source:["color","transparency"],reader:Ere},write:{target:{color:{type:[or]},transparency:{type:or}},writer:Tre}}},La={type:Number,cast:$r,json:{write:!0}};let Sd=class extends ze{constructor(t){super(t),this.color=new Ot([0,0,0,1]),this.extensionLength=0,this.size=_c(1)}clone(){}cloneProperties(){return{color:me(this.color),size:this.size,extensionLength:this.extensionLength}}};p([y({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Sd.prototype,"type",void 0),p([y(Rc)],Sd.prototype,"color",void 0),p([y({...La,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],Sd.prototype,"extensionLength",void 0),p([y(La)],Sd.prototype,"size",void 0),Sd=p([G("esri.symbols.edges.Edges3D")],Sd);const ck=Sd;var F$;let zv=F$=class extends ck{constructor(e){super(e),this.type="sketch"}clone(){return new F$(this.cloneProperties())}};p([at({sketch:"sketch"},{readOnly:!0})],zv.prototype,"type",void 0),zv=F$=p([G("esri.symbols.edges.SketchEdges3D")],zv);const $re=zv;var U$;let Gv=U$=class extends ck{constructor(e){super(e),this.type="solid"}clone(){return new U$(this.cloneProperties())}};p([at({solid:"solid"},{readOnly:!0})],Gv.prototype,"type",void 0),Gv=U$=p([G("esri.symbols.edges.SolidEdges3D")],Gv);const xre=Gv,F8={types:{key:"type",base:ck,typeMap:{solid:xre,sketch:$re}},json:{write:!0}};var j$;let ss=j$=class extends ze{constructor(e){super(e),this.color=null,this.emissiveFactor=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?LM(this.emissiveFactor):null};return new j$(e)}};p([y(Rc)],ss.prototype,"color",void 0),p([y({type:[Number],json:{write:!1}})],ss.prototype,"emissiveFactor",void 0),ss=j$=p([G("esri.symbols.support.Symbol3DMaterial")],ss);var z$;let Iu=z$=class extends Fa{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new z$({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};p([at({Extrude:"extrude"},{readOnly:!0})],Iu.prototype,"type",void 0),p([y({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Iu.prototype,"size",void 0),p([y({type:ss,json:{write:!0}})],Iu.prototype,"material",void 0),p([y({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Iu.prototype,"castShadows",void 0),p([y(F8)],Iu.prototype,"edges",void 0),Iu=z$=p([G("esri.symbols.ExtrudeSymbol3DLayer")],Iu);const U8=Iu;let iy=class extends Wn{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};p([at({esriSLS:"simple-line"},{readOnly:!0})],iy.prototype,"type",void 0),p([y({type:Number,cast:$r,json:{write:!0}})],iy.prototype,"width",void 0),iy=p([G("esri.symbols.LineSymbol")],iy);const Mre=iy,kre=["begin","end","begin-end"],j8=["arrow","circle","square","diamond","cross","x"];var G$;let fa=G$=class extends ze{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,n){t[r]=n?.origin==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,n){n?.origin==="web-map"||(t[r]=e)}clone(){return new G$({color:me(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};p([y({type:["begin","end","begin-end"],json:{write:!0}})],fa.prototype,"placement",void 0),p([at({"line-marker":"line-marker"},{readOnly:!0}),y({json:{origins:{"web-map":{write:!1}}}})],fa.prototype,"type",void 0),p([y({type:j8})],fa.prototype,"style",void 0),p([wt("style")],fa.prototype,"writeStyle",null),p([y({type:Ot,value:null,json:{write:{allowNull:!0}}})],fa.prototype,"color",null),p([At("color")],fa.prototype,"readColor",null),p([wt("color")],fa.prototype,"writeColor",null),fa=G$=p([G("esri.symbols.LineSymbolMarker")],fa);const Are=fa;var V$;const nE=new en({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let wl=V$=class extends Mre{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,n,i,s){if(e&&typeof e!="string")return e;const o={};return e!=null&&(o.style=e),t!=null&&(o.color=t),r!=null&&(o.width=$r(r)),n!=null&&(o.cap=n),i!=null&&(o.join=i),s!=null&&(o.miterLimit=$r(s)),o}clone(){return new V$({color:me(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};p([at({esriSLS:"simple-line"},{readOnly:!0})],wl.prototype,"type",void 0),p([y({type:nE.apiValues,json:{read:nE.read,write:nE.write}})],wl.prototype,"style",void 0),p([y({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&r?.origin==null})}}})],wl.prototype,"cap",void 0),p([y({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&r?.origin==null})}}})],wl.prototype,"join",void 0),p([y({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":Are}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],wl.prototype,"marker",void 0),p([y({type:Number,json:{read:!1,write:!1}})],wl.prototype,"miterLimit",void 0),wl=V$=p([G("esri.symbols.SimpleLineSymbol")],wl);const Th=wl;let sy=class extends Wn{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};p([y({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Th}},json:{default:null,write:!0}})],sy.prototype,"outline",void 0),p([y({type:["simple-fill","picture-fill"],readOnly:!0})],sy.prototype,"type",void 0),sy=p([G("esri.symbols.FillSymbol")],sy);const z8=sy;let Vv=class extends ze{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};p([y({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Vv.prototype,"type",void 0),Vv=p([G("esri.symbols.patterns.LinePattern3D")],Vv);const G8=Vv,Cre=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var B$;const Rre=li()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let oy=B$=class extends G8{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new B$(e)}};p([y({type:["style"]})],oy.prototype,"type",void 0),p([at(Rre),y({type:Cre})],oy.prototype,"style",void 0),oy=B$=p([G("esri.symbols.patterns.LineStylePattern3D")],oy);const dk=oy;let Bv=class extends ze{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};p([y({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Bv.prototype,"type",void 0),Bv=p([G("esri.symbols.patterns.Pattern3D")],Bv);const V8=Bv,Pre=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var H$;let ay=H$=class extends V8{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new H$({style:this.style})}};p([y({type:["style"]})],ay.prototype,"type",void 0),p([y({type:Pre,json:{read:!0,write:!0}})],ay.prototype,"style",void 0),ay=H$=p([G("esri.symbols.patterns.StylePattern3D")],ay);const B8=ay,Ore={types:{key:"type",base:V8,typeMap:{style:B8}},json:{write:!0}},H8={types:{key:"type",base:G8,typeMap:{style:dk}},json:{write:!0}},qy=new Ot("white");new Ot("black");const Ire=new Ot([255,255,255,0]);function Nre(e){return e.r===0&&e.g===0&&e.b===0}var W$;let Zy=W$=class extends ss{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?LM(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new W$(e)}};p([at({multiply:"multiply",replace:"replace",tint:"tint"})],Zy.prototype,"colorMixMode",void 0),Zy=W$=p([G("esri.symbols.support.Symbol3DFillMaterial")],Zy);function Lre(e,t=!1){return e<=d4?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function Cwe(e){return(c4(e)?e.length:e.byteLength/8)<=d4?Array.from(e):new Float64Array(e)}function Rwe(e,t,r){return Array.isArray(e)?e.slice(t,t+r):e.subarray(t,t+r)}function Q0(e=Ure){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function hk(e,t,r,n,i,s,o=Q0()){return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=i,o[5]=s,o}function Pwe(e,t=Q0()){return Dre(e,0,e.length/3,t)}function Dre(e,t,r,n=Q0()){return W8(n,q$),Fre(n,e,t,r),n}function Owe(e,t=Lre(24)){const[r,n,i,s,o,l]=e;return t[0]=r,t[1]=n,t[2]=i,t[3]=r,t[4]=n,t[5]=l,t[6]=r,t[7]=o,t[8]=i,t[9]=r,t[10]=o,t[11]=l,t[12]=s,t[13]=n,t[14]=i,t[15]=s,t[16]=n,t[17]=l,t[18]=s,t[19]=o,t[20]=i,t[21]=s,t[22]=o,t[23]=l,t}function Iwe(e,t){const r=isFinite(e[2])||isFinite(e[5]);return new tr(r?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function Nwe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function Lwe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function Fre(e,t,r=0,n=t.length/3){let i=e[0],s=e[1],o=e[2],l=e[3],c=e[4],d=e[5];for(let m=0;m<n;m++)i=Math.min(i,t[r+3*m]),s=Math.min(s,t[r+3*m+1]),o=Math.min(o,t[r+3*m+2]),l=Math.max(l,t[r+3*m]),c=Math.max(c,t[r+3*m+1]),d=Math.max(d,t[r+3*m+2]);e[0]=i,e[1]=s,e[2]=o,e[3]=l,e[4]=c,e[5]=d}function pk(e){return e[0]>=e[3]?0:e[3]-e[0]}function fk(e){return e[1]>=e[4]?0:e[4]-e[1]}function mk(e){return e[2]>=e[5]?0:e[5]-e[2]}function Dwe(e){const t=pk(e),r=mk(e),n=fk(e);return Math.sqrt(t*t+r*r+n*n)}function Fwe(e,t=[0,0,0]){return t[0]=e[0]+pk(e)/2,t[1]=e[1]+fk(e)/2,t[2]=e[2]+mk(e)/2,t}function Uwe(e,t=[0,0,0]){return t[0]=pk(e),t[1]=fk(e),t[2]=mk(e),t}function jwe(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function zwe(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function W8(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Gwe(e){return e?W8(e,q$):Q0(q$)}function Vwe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function Bwe(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=Number.NEGATIVE_INFINITY,e[3]=n,e[4]=i,e[5]=Number.POSITIVE_INFINITY,e}function iI(e){return e.length===6}function Hwe(e,t,r){if(e==null||t==null)return e===t;if(!iI(e)||!iI(t))return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const q$=[1/0,1/0,1/0,-1/0,-1/0,-1/0],Ure=[0,0,0,0,0,0];Q0();function Wwe(e,{isPrimitive:t,width:r,depth:n,height:i}){const s=t?10:1;if(r==null&&i==null&&n==null)return[s*e[0],s*e[1],s*e[2]];const o=kf(r,n,i);let l;for(let c=0;c<3;c++){const d=o[c];if(d!=null){l=d/e[c];break}}for(let c=0;c<3;c++)o[c]==null&&(o[c]=e[c]*l);return o}const jre=hk(-.5,-.5,-.5,.5,.5,.5),zre=hk(-.5,-.5,0,.5,.5,1),Gre=hk(-.5,-.5,0,.5,.5,.5);function qwe(e){switch(e){case"sphere":case"cube":case"diamond":return jre;case"cylinder":case"cone":case"inverted-cone":return zre;case"tetrahedron":return Gre;default:return}}const yk=["butt","square","round"],Vre=[...yk,"none"],q8=["miter","bevel","round"];var Z$;let bd=Z$=class extends ze{constructor(e){super(e),this.color=new Ot([0,0,0,1]),this.size=_c(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new Z$(e)}};p([y(Rc)],bd.prototype,"color",void 0),p([y(La)],bd.prototype,"size",void 0),p([y(H8)],bd.prototype,"pattern",void 0),p([y({type:yk,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],bd.prototype,"patternCap",void 0),bd=Z$=p([G("esri.symbols.support.Symbol3DOutline")],bd);var Hv;let _l=Hv=class extends Fa{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new Hv(e)}static fromSimpleFillSymbol(e){const t=e.outline&&e.outline.style&&e.outline.style!=="solid"?new dk({style:e.outline.style}):null,r={size:e.outline?.width??0,color:(e.outline?.color??qy).clone(),pattern:t};return t&&e.outline?.cap&&(r.patternCap=e.outline.cap),new Hv({material:new Zy({color:(e.color??Ire).clone()}),pattern:e.style&&e.style!=="solid"?new B8({style:e.style}):null,outline:r})}};p([at({Fill:"fill"},{readOnly:!0})],_l.prototype,"type",void 0),p([y({type:Zy,json:{write:!0}})],_l.prototype,"material",void 0),p([y(Ore)],_l.prototype,"pattern",void 0),p([y({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],_l.prototype,"castShadows",void 0),p([y({type:bd,json:{write:!0}})],_l.prototype,"outline",void 0),p([y(F8)],_l.prototype,"edges",void 0),_l=Hv=p([G("esri.symbols.FillSymbol3DLayer")],_l);const eg=_l,Bre=["none","underline","line-through"],Hre=["normal","italic","oblique"],Wre=["normal","lighter","bold","bolder"],Z8={type:Number,cast:e=>{const t=ns(e);return t===0?1:Uo(t,.1,4)},nonNullable:!0},qre=["left","right","center"],Zre=["baseline","top","middle","bottom"],Y8={type:qre,nonNullable:!0},J8={type:Zre,nonNullable:!0},Zwe=8;var Y$;let Sl=Y$=class extends ze{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return $r(e)}clone(){return new Y$({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};p([y({type:Bre,json:{default:"none",write:!0}})],Sl.prototype,"decoration",void 0),p([y({type:String,json:{write:!0}})],Sl.prototype,"family",void 0),p([y({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],Sl.prototype,"size",void 0),p([jr("size")],Sl.prototype,"castSize",null),p([y({type:Hre,json:{default:"normal",write:!0}})],Sl.prototype,"style",void 0),p([y({type:Wre,json:{default:"normal",write:!0}})],Sl.prototype,"weight",void 0),Sl=Y$=p([G("esri.symbols.Font")],Sl);const fS=Sl;var J$;const Yre=li()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Ed=J$=class extends ze{constructor(e){super(e)}readHref(e,t,r){return e?X0(e,r):t.dataURI}writeHref(e,t,r,n){e&&(_h(e)?t.dataURI=e:(t.href=sS(e,n),os(t.href)&&(t.href=Oo(t.href))))}clone(){return new J$({href:this.href,primitive:this.primitive})}};p([y({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Ed.prototype,"href",void 0),p([At("href")],Ed.prototype,"readHref",null),p([wt("href",{href:{type:String},dataURI:{type:String}})],Ed.prototype,"writeHref",null),p([at(Yre)],Ed.prototype,"primitive",void 0),Ed=J$=p([G("esri.symbols.support.IconSymbol3DLayerResource")],Ed);var K$;let jp=K$=class extends He{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new K$({x:this.x,y:this.y})}};p([y({type:Number})],jp.prototype,"x",void 0),p([y({type:Number})],jp.prototype,"y",void 0),jp=K$=p([G("esri.symbols.support.Symbol3DAnchorPosition2D")],jp);var X$;let ly=X$=class extends ze{constructor(e){super(e),this.color=new Ot([0,0,0,1]),this.size=_c(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new X$(e)}};p([y(Rc)],ly.prototype,"color",void 0),p([y(La)],ly.prototype,"size",void 0),ly=X$=p([G("esri.symbols.support.Symbol3DIconOutline")],ly);var Sp;const K8="esri.symbols.IconSymbol3DLayer";let bo=Sp=class extends Fa{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new Sp({anchor:this.anchor,anchorPosition:me(this.anchorPosition),enabled:this.enabled,material:me(this.material),outline:me(this.outline),resource:me(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||qy,r=sI(e),n=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||qy).clone()}:null;return new Sp({size:e.size,angle:e.angle,resource:{primitive:Kre(e.style)},material:{color:t},outline:n,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const t=!e.color||Nre(e.color)?qy:e.color,r=sI(e);return new Sp({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new Sp({resource:{href:E5({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};p([y({type:ss,json:{write:!0}})],bo.prototype,"material",void 0),p([y({type:Ed,json:{write:!0}})],bo.prototype,"resource",void 0),p([at({Icon:"icon"},{readOnly:!0})],bo.prototype,"type",void 0),p([y(La)],bo.prototype,"size",void 0),p([at({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],bo.prototype,"anchor",void 0),p([y({type:jp,json:{type:[Number],read:{reader:e=>new jp({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],bo.prototype,"anchorPosition",void 0),p([y({type:ly,json:{write:!0}})],bo.prototype,"outline",void 0),p([y({type:Number,json:{write:!0,default:0}})],bo.prototype,"angle",void 0),bo=Sp=p([G(K8)],bo);const qd=bo;function sI(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,n=oI(e.xoffset),i=oI(e.yoffset);return(n||i)&&t&&r?{x:-n/t,y:i/r}:null}function oI(e){return isFinite(e)?e:0}const Jre={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function Kre(e){return Jre[e]||(Ne.getLogger(K8).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}let Td=class extends Bs(ze){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};p([y({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Td.prototype,"type",void 0),p([y({type:kre,json:{default:"begin-end",write:!0}})],Td.prototype,"placement",void 0),p([y({type:j8,json:{default:"arrow",write:!0}})],Td.prototype,"style",void 0),p([y({type:Ot,json:{type:[or],default:null,write:!0}})],Td.prototype,"color",void 0),Td=p([G("esri.symbols.LineStyleMarker3D")],Td);const Q$=Td;var Wv;let ma=Wv=class extends Fa{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=_c(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new Wv(e)}static fromSimpleLineSymbol(e){const t={enabled:!0,size:e.width??_c(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new dk({style:e.style}):null,material:new ss({color:(e.color||qy).clone()}),marker:e.marker?new Q$({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new Wv(t)}};p([y({type:ss,json:{write:!0}})],ma.prototype,"material",void 0),p([at({Line:"line"},{readOnly:!0})],ma.prototype,"type",void 0),p([y({type:q8,json:{write:!0,default:"miter"}})],ma.prototype,"join",void 0),p([y({type:yk,json:{write:!0,default:"butt"}})],ma.prototype,"cap",void 0),p([y(La)],ma.prototype,"size",void 0),p([y(H8)],ma.prototype,"pattern",void 0),p([y({types:{key:"type",base:Q$,typeMap:{style:Q$}},json:{write:!0}})],ma.prototype,"marker",void 0),ma=Wv=p([G("esri.symbols.LineSymbol3DLayer")],ma);const tg=ma;var ex;const Xre=li()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let uy=ex=class extends ze{clone(){return new ex({href:this.href,primitive:this.primitive})}};p([y({type:String,json:{read:YM,write:fh}})],uy.prototype,"href",void 0),p([at(Xre)],uy.prototype,"primitive",void 0),uy=ex=p([G("esri.symbols.support.ObjectSymbol3DLayerResource")],uy);var tx;let zd=tx=class extends He{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new tx({x:this.x,y:this.y,z:this.z})}};p([y({type:Number})],zd.prototype,"x",void 0),p([y({type:Number})],zd.prototype,"y",void 0),p([y({type:Number})],zd.prototype,"z",void 0),zd=tx=p([G("esri.symbols.support.Symbol3DAnchorPosition3D")],zd);var rx;let In=rx=class extends Fa{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new rx({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};p([y({type:ss,json:{write:!0}})],In.prototype,"material",void 0),p([y({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],In.prototype,"castShadows",void 0),p([y({type:uy,json:{write:!0}})],In.prototype,"resource",void 0),p([at({Object:"object"},{readOnly:!0})],In.prototype,"type",void 0),p([y({type:Number,json:{write:!0}})],In.prototype,"width",void 0),p([y({type:Number,json:{write:!0}})],In.prototype,"height",void 0),p([y({type:Number,json:{write:!0}})],In.prototype,"depth",void 0),p([at({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],In.prototype,"anchor",void 0),p([y({type:zd,json:{type:[Number],read:{reader:e=>new zd({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],In.prototype,"anchorPosition",void 0),p([y({type:Number,json:{write:!0}})],In.prototype,"heading",void 0),p([y({type:Number,json:{write:!0}})],In.prototype,"tilt",void 0),p([y({type:Number,json:{write:!0}})],In.prototype,"roll",void 0),p([y({readOnly:!0})],In.prototype,"isPrimitive",null),In=rx=p([G("esri.symbols.ObjectSymbol3DLayer")],In);const gk=In;var nx;let ei=nx=class extends Fa{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new nx({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};p([y({type:ss,json:{write:!0}})],ei.prototype,"material",void 0),p([y({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ei.prototype,"castShadows",void 0),p([at({Path:"path"},{readOnly:!0})],ei.prototype,"type",void 0),p([y({type:["circle","quad"],json:{write:!0,default:"circle"}})],ei.prototype,"profile",void 0),p([y({type:q8,json:{write:!0,default:"miter"}})],ei.prototype,"join",void 0),p([y({type:Vre,json:{write:!0,default:"butt"}})],ei.prototype,"cap",void 0),p([y({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],ei.prototype,"width",void 0),p([At("width",["width","size","height"])],ei.prototype,"readWidth",null),p([y({type:Number,json:{write:!0}})],ei.prototype,"height",void 0),p([At("height",["height","size","width"])],ei.prototype,"readHeight",null),p([y({type:["center","bottom","top"],json:{write:!0,default:"center"}})],ei.prototype,"anchor",void 0),p([y({type:["heading","all"],json:{write:!0,default:"all"}})],ei.prototype,"profileRotation",void 0),ei=nx=p([G("esri.symbols.PathSymbol3DLayer")],ei);const vk=ei;var ix;let zp=ix=class extends ze{constructor(){super(...arguments),this.color=new Ot([0,0,0,1]),this.size=0}clone(){const e={color:me(this.color),size:this.size};return new ix(e)}};p([y(Rc)],zp.prototype,"color",void 0),p([y(La)],zp.prototype,"size",void 0),zp=ix=p([G("esri.symbols.support.Symbol3DHalo")],zp);let Yy=class extends Bs(ze){constructor(t){super(t),this.color=null}};p([y(Rc)],Yy.prototype,"color",void 0),Yy=p([G("esri.symbols.support.Symbol3DTextBackground")],Yy);var qv;let xi=qv=class extends Fa{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,r,n){const i={...n,textSymbol3D:!0};t.font=e.write({},i),delete t.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new qv({enabled:this.enabled,font:this.font&&me(this.font),halo:this.halo&&me(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:me(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new qv({font:e.font!=null?e.font.clone():new fS,halo:Qre(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new ss({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new Yy({color:e.backgroundColor.clone()}):null})}};function Qre(e,t){return e&&t!=null&&t>0?new zp({color:me(e),size:t}):null}p([y({type:fS,json:{write:!0}})],xi.prototype,"font",null),p([wt("font")],xi.prototype,"writeFont",null),p([y({type:zp,json:{write:!0}})],xi.prototype,"halo",void 0),p([y({...Y8,json:{default:"center",write:!0}})],xi.prototype,"horizontalAlignment",void 0),p([y({...Z8,json:{default:1,write:!0}})],xi.prototype,"lineHeight",void 0),p([y({type:ss,json:{write:!0}})],xi.prototype,"material",void 0),p([y({type:Yy,json:{write:!0}})],xi.prototype,"background",void 0),p([y(La)],xi.prototype,"size",null),p([y({type:String,json:{write:!0}})],xi.prototype,"text",void 0),p([at({Text:"text"},{readOnly:!0})],xi.prototype,"type",void 0),p([y({...J8,json:{default:"baseline",write:!0}})],xi.prototype,"verticalAlignment",void 0),xi=qv=p([G("esri.symbols.TextSymbol3DLayer")],xi);const Af=xi;var sx;let Nu=sx=class extends Fa{constructor(e){super(e),this.color=ox.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new sx({color:me(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};p([y({type:Ot,nonNullable:!0,json:{type:[or],write:(e,t,r)=>t[r]=e.toArray(Ot.AlphaMode.UNLESS_OPAQUE),default:()=>ox.clone(),defaultEquals:e=>e.toCss(!0)===ox.toCss(!0)}})],Nu.prototype,"color",void 0),p([at({Water:"water"},{readOnly:!0})],Nu.prototype,"type",void 0),p([y({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Nu.prototype,"waterbodySize",void 0),p([y({type:Number,json:{write:!0,default:null}})],Nu.prototype,"waveDirection",void 0),p([y({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Nu.prototype,"waveStrength",void 0),Nu=sx=p([G("esri.symbols.WaterSymbol3DLayer")],Nu);const X8=Nu,ox=new Ot([0,119,190]);var ax;let $d=ax=class extends He{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new ax({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};p([y({type:String})],$d.prototype,"name",void 0),p([y({type:String})],$d.prototype,"styleUrl",void 0),p([y({type:String})],$d.prototype,"styleName",void 0),p([y({type:Na})],$d.prototype,"portal",void 0),$d=ax=p([G("esri.symbols.support.StyleOrigin")],$d);const lx=$d;var ux;let Jy=ux=class extends He{constructor(){super(...arguments),this.url=""}clone(){return new ux({url:this.url})}};p([y({type:String})],Jy.prototype,"url",void 0),Jy=ux=p([G("esri.symbols.support.Thumbnail")],Jy);const Q8={icon:qd,object:gk,line:tg,path:vk,fill:eg,extrude:U8,text:Af,water:X8},ene=Ye.ofType({base:Fa,key:"type",typeMap:Q8,errorContext:"symbol-layer"});let ya=class extends Wn{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const r=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,n=r?.type,i=n||Ye;this._set("symbolLayers",new i)}get color(){return null}set color(t){this.constructed&&Ne.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){vc(t,this._get("symbolLayers"))}readStyleOrigin(t,r,n){if(t.styleUrl&&t.name){const i=X0(t.styleUrl,n);return new lx({styleUrl:i,name:t.name})}if(t.styleName&&t.name)return new lx({portal:n?.portal||Na.getDefault(),styleName:t.styleName,name:t.name});n?.messages&&n.messages.push(new Bl("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:n,definition:t}))}writeStyleOrigin(t,r,n,i){if(t.styleUrl&&t.name){let s=sS(t.styleUrl,i);os(s)&&(s=Oo(s)),r.styleOrigin={styleUrl:s,name:t.name}}else t.styleName&&t.name&&(t.portal&&i?.portal&&!b5(t.portal.restUrl,i.portal.restUrl)?i?.messages&&i.messages.push(new Bl("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):r.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Fa||t&&Q8[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};p([y({json:{read:!1,write:!1}})],ya.prototype,"color",null),p([y({type:ene,nonNullable:!0,json:{write:!0}}),jr(UF)],ya.prototype,"symbolLayers",null),p([y({type:lx})],ya.prototype,"styleOrigin",void 0),p([At("styleOrigin")],ya.prototype,"readStyleOrigin",null),p([wt("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],ya.prototype,"writeStyleOrigin",null),p([y({type:Jy,json:{read:!1}})],ya.prototype,"thumbnail",void 0),p([y({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],ya.prototype,"type",void 0),ya=p([G("esri.symbols.Symbol3D")],ya);const rg=ya;let cy=class extends ze{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};p([y({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],cy.prototype,"type",void 0),p([y({readOnly:!0})],cy.prototype,"visible",void 0),cy=p([G("esri.symbols.callouts.Callout3D")],cy);const e9=cy;var cx;let Zv=cx=class extends ze{constructor(e){super(e),this.color=new Ot("white")}clone(){return new cx({color:me(this.color)})}};p([y(Rc)],Zv.prototype,"color",void 0),Zv=cx=p([G("esri.symbols.callouts.LineCallout3DBorder")],Zv);const tne=Zv;var dx;let Lu=dx=class extends e9{constructor(e){super(e),this.type="line",this.color=new Ot([0,0,0,1]),this.size=_c(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new dx({color:me(this.color),size:this.size,border:me(this.border)})}};p([at({line:"line"})],Lu.prototype,"type",void 0),p([y(Rc)],Lu.prototype,"color",void 0),p([y(La)],Lu.prototype,"size",void 0),p([y({type:tne,json:{write:!0}})],Lu.prototype,"border",void 0),p([y({readOnly:!0})],Lu.prototype,"visible",null),Lu=dx=p([G("esri.symbols.callouts.LineCallout3D")],Lu);const t9=Lu;function wk(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function r9(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!wk(e)}const n9={types:{key:"type",base:e9,typeMap:{line:t9}},json:{write:!0}};var hx;let bp=hx=class extends ze{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new hx({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};p([y(La)],bp.prototype,"screenLength",void 0),p([y({type:Number,nonNullable:!0,json:{write:!0,default:0}})],bp.prototype,"minWorldLength",void 0),p([y({type:Number,json:{write:!0}})],bp.prototype,"maxWorldLength",void 0),bp=hx=p([G("esri.symbols.support.Symbol3DVerticalOffset")],bp);const _k=bp;var Yv;const i9=Ye.ofType({base:null,key:"type",typeMap:{text:Af}});let Du=Yv=class extends rg{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new i9,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return r9(this)}hasVisibleVerticalOffset(){return wk(this)}clone(){return new Yv({styleOrigin:me(this.styleOrigin),symbolLayers:me(this.symbolLayers),thumbnail:me(this.thumbnail),callout:me(this.callout),verticalOffset:me(this.verticalOffset)})}static fromTextSymbol(e){return new Yv({symbolLayers:new Ye([Af.fromTextSymbol(e)])})}};p([y({type:_k,json:{write:!0}})],Du.prototype,"verticalOffset",void 0),p([y(n9)],Du.prototype,"callout",void 0),p([y({json:{read:!1,write:!1}})],Du.prototype,"styleOrigin",void 0),p([y({type:i9})],Du.prototype,"symbolLayers",void 0),p([at({LabelSymbol3D:"label-3d"},{readOnly:!0})],Du.prototype,"type",void 0),Du=Yv=p([G("esri.symbols.LabelSymbol3D")],Du);const Sk=Du;var Jv;const s9=Ye.ofType({base:null,key:"type",typeMap:{line:tg,path:vk}}),rne=Ye.ofType({base:null,key:"type",typeMap:{line:tg,path:vk}});let dy=Jv=class extends rg{constructor(e){super(e),this.symbolLayers=new s9,this.type="line-3d"}clone(){return new Jv({styleOrigin:me(this.styleOrigin),symbolLayers:me(this.symbolLayers),thumbnail:me(this.thumbnail)})}static fromSimpleLineSymbol(e){return new Jv({symbolLayers:new Ye([tg.fromSimpleLineSymbol(e)])})}};p([y({type:s9,json:{type:rne}})],dy.prototype,"symbolLayers",void 0),p([at({LineSymbol3D:"line-3d"},{readOnly:!0})],dy.prototype,"type",void 0),dy=Jv=p([G("esri.symbols.LineSymbol3D")],dy);const mS=dy;let Fu=class extends Wn{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};p([y({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Fu.prototype,"angle",void 0),p([y({type:["simple-marker","picture-marker"],readOnly:!0})],Fu.prototype,"type",void 0),p([y({type:Number,cast:$r,json:{write:!0}})],Fu.prototype,"xoffset",void 0),p([y({type:Number,cast:$r,json:{write:!0}})],Fu.prototype,"yoffset",void 0),p([y({cast:e=>e==="auto"?e:ns($r(e)),json:{write:!0}})],Fu.prototype,"size",void 0),Fu=p([G("esri.symbols.MarkerSymbol")],Fu);const o9=Fu;var Kv;const a9=Ye.ofType({base:null,key:"type",typeMap:{fill:eg}});let hy=Kv=class extends rg{constructor(e){super(e),this.symbolLayers=new a9,this.type="mesh-3d"}clone(){return new Kv({styleOrigin:me(this.styleOrigin),symbolLayers:me(this.symbolLayers),thumbnail:me(this.thumbnail)})}static fromSimpleFillSymbol(e){return new Kv({symbolLayers:new Ye([eg.fromSimpleFillSymbol(e)])})}};p([y({type:a9})],hy.prototype,"symbolLayers",void 0),p([at({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],hy.prototype,"type",void 0),hy=Kv=p([G("esri.symbols.MeshSymbol3D")],hy);const bk=hy;function nne(e,t,r){return t.imageData?E5({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):l9(t.url,r)}function l9(e,t){if(!os(e)){const r=sne(t);if(r)return F_(r,"images",e)}return X0(e,t)}function ine(e,t,r,n){if(_h(e)){const i=lf(e);if(!i)return;t.contentType=i.mediaType,t.imageData=i.data,r&&r.imageData===t.imageData&&r.url&&fh(r.url,t,"url",n)}else fh(e,t,"url",n)}const u9={json:{read:{source:["imageData","url"],reader:nne},write:{writer(e,t,r,n){ine(e,t,this.source,n)}}}},c9={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const n={};return t.imageData&&(n.imageData=t.imageData),t.contentType&&(n.contentType=t.contentType),t.url&&(n.url=l9(t.url,r)),n}}}};function sne(e){if(!e)return null;const{origin:t,layer:r}=e;if(t!=="service"&&t!=="portal-item")return null;const n=r?.type;return n==="feature"||n==="stream"?r.parsedUrl?.path:n==="map-image"||n==="tile"?e.url?.path:null}var px;let Rs=px=class extends z8{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,n){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t&&(i.outline=t),r!=null&&(i.width=$r(r)),n!=null&&(i.height=$r(n)),i}clone(){const e=new px({color:me(this.color),height:this.height,outline:me(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",me(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};p([at({esriPFS:"picture-fill"},{readOnly:!0})],Rs.prototype,"type",void 0),p([y(u9)],Rs.prototype,"url",void 0),p([y({type:Number,json:{write:!0}})],Rs.prototype,"xscale",void 0),p([y({type:Number,json:{write:!0}})],Rs.prototype,"yscale",void 0),p([y({type:Number,cast:$r,json:{write:!0}})],Rs.prototype,"width",void 0),p([y({type:Number,cast:$r,json:{write:!0}})],Rs.prototype,"height",void 0),p([y({type:Number,cast:$r,json:{write:!0}})],Rs.prototype,"xoffset",void 0),p([y({type:Number,cast:$r,json:{write:!0}})],Rs.prototype,"yoffset",void 0),p([y(c9)],Rs.prototype,"source",void 0),Rs=px=p([G("esri.symbols.PictureFillSymbol")],Rs);const Ek=Rs;var fx;let Eo=fx=class extends o9{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t!=null&&(n.width=$r(t)),r!=null&&(n.height=$r(r)),n}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new fx({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",me(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};p([y({json:{write:!1}})],Eo.prototype,"color",void 0),p([at({esriPMS:"picture-marker"},{readOnly:!0})],Eo.prototype,"type",void 0),p([y(u9)],Eo.prototype,"url",void 0),p([y(c9)],Eo.prototype,"source",void 0),p([y({type:Number,cast:$r,json:{write:!0}})],Eo.prototype,"height",void 0),p([At("height",["height","size"])],Eo.prototype,"readHeight",null),p([y({type:Number,cast:$r,json:{write:!0}})],Eo.prototype,"width",void 0),p([y({json:{write:!1}})],Eo.prototype,"size",void 0),Eo=fx=p([G("esri.symbols.PictureMarkerSymbol")],Eo);const yS=Eo;var xd;const d9=Ye.ofType({base:null,key:"type",typeMap:{icon:qd,object:gk,text:Af}});let Md=xd=class extends rg{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new d9,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return r9(this)}hasVisibleVerticalOffset(){return wk(this)}clone(){return new xd({verticalOffset:me(this.verticalOffset),callout:me(this.callout),styleOrigin:me(this.styleOrigin),symbolLayers:me(this.symbolLayers),thumbnail:me(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new xd({symbolLayers:new Ye([qd.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new xd({symbolLayers:new Ye([qd.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){if(e.data?.symbol?.type!=="CIMPointSymbol")return null;const r=e.data.symbol;return new xd(r?.callout?{symbolLayers:new Ye([qd.fromCIMSymbol(e)]),callout:new t9({size:.5,color:new Ot([0,0,0])}),verticalOffset:new _k({screenLength:40})}:{symbolLayers:new Ye([qd.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new xd({symbolLayers:new Ye([Af.fromTextSymbol(e)])})}};p([y({type:_k,json:{write:!0}})],Md.prototype,"verticalOffset",void 0),p([y(n9)],Md.prototype,"callout",void 0),p([y({type:d9,json:{origins:{"web-scene":{write:!0}}}})],Md.prototype,"symbolLayers",void 0),p([at({PointSymbol3D:"point-3d"},{readOnly:!0})],Md.prototype,"type",void 0),Md=xd=p([G("esri.symbols.PointSymbol3D")],Md);const gS=Md;var py;const h9=Ye.ofType({base:null,key:"type",typeMap:{extrude:U8,fill:eg,icon:qd,line:tg,object:gk,text:Af,water:X8}});let fy=py=class extends rg{constructor(e){super(e),this.symbolLayers=new h9,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&o0(Ne.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&o0(Ne.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(ph(()=>this.symbolLayers,"after-add",({item:t})=>e(t),Hl))}clone(){return new py({styleOrigin:me(this.styleOrigin),symbolLayers:me(this.symbolLayers),thumbnail:me(this.thumbnail)})}static fromJSON(e){const t=new py;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const r=t.symbolLayers.at(0),n=t.symbolLayers.at(1);!n.enabled||e.symbolLayers?.[1]&&e.symbolLayers[1].enable===!1||(r.outline={size:n.size,color:n.material!=null?n.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new py({symbolLayers:new Ye([eg.fromSimpleFillSymbol(e)])})}};p([y({type:h9,json:{write:!0}})],fy.prototype,"symbolLayers",void 0),p([at({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],fy.prototype,"type",void 0),fy=py=p([G("esri.symbols.PolygonSymbol3D")],fy);const vS=fy;var mx;const iE=new en({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let kd=mx=class extends z8{constructor(...e){super(...e),this.color=new Ot([0,0,0,.25]),this.outline=new Th,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t&&(n.outline=t),r&&(n.color=r),n}clone(){return new mx({color:me(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};p([y()],kd.prototype,"color",void 0),p([y()],kd.prototype,"outline",void 0),p([at({esriSFS:"simple-fill"},{readOnly:!0})],kd.prototype,"type",void 0),p([y({type:iE.apiValues,json:{read:iE.read,write:iE.write}})],kd.prototype,"style",void 0),kd=mx=p([G("esri.symbols.SimpleFillSymbol")],kd);const Tk=kd;var yx;const sE=new en({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let ga=yx=class extends o9{constructor(...e){super(...e),this.color=new Ot([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Th}normalizeCtorArgs(e,t,r,n){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t!=null&&(i.size=$r(t)),r&&(i.outline=r),n&&(i.color=n),i}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new yx({angle:this.angle,color:me(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};p([y()],ga.prototype,"color",void 0),p([wt("color")],ga.prototype,"writeColor",null),p([at({esriSMS:"simple-marker"},{readOnly:!0})],ga.prototype,"type",void 0),p([y()],ga.prototype,"size",void 0),p([y({type:sE.apiValues,json:{read:sE.read,write:sE.write}})],ga.prototype,"style",void 0),p([y({type:String,json:{write:!0}})],ga.prototype,"path",null),p([y({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Th}},json:{default:null,write:!0}})],ga.prototype,"outline",void 0),ga=yx=p([G("esri.symbols.SimpleMarkerSymbol")],ga);const wS=ga;var gx;let yr=gx=class extends Wn{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new fS,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.text=e),t&&(n.font=t),r&&(n.color=r),n}writeLineWidth(e,t,r,n){n&&typeof n!="string"?n.origin:t[r]=e}castLineWidth(e){return $r(e)}writeLineHeight(e,t,r,n){n&&typeof n!="string"?n.origin:t[r]=e}clone(){return new gx({angle:this.angle,backgroundColor:me(this.backgroundColor),borderLineColor:me(this.borderLineColor),borderLineSize:this.borderLineSize,color:me(this.color),font:this.font&&this.font.clone(),haloColor:me(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};p([y({type:Ot,json:{write:!0}})],yr.prototype,"backgroundColor",void 0),p([y({type:Ot,json:{write:!0}})],yr.prototype,"borderLineColor",void 0),p([y({type:Number,json:{write:!0},cast:$r})],yr.prototype,"borderLineSize",void 0),p([y({type:fS,json:{write:!0}})],yr.prototype,"font",void 0),p([y({...Y8,json:{write:!0}})],yr.prototype,"horizontalAlignment",void 0),p([y({type:Boolean,json:{write:!0}})],yr.prototype,"kerning",void 0),p([y({type:Ot,json:{write:!0}})],yr.prototype,"haloColor",void 0),p([y({type:Number,cast:$r,json:{write:!0}})],yr.prototype,"haloSize",void 0),p([y({type:Boolean,json:{write:!0}})],yr.prototype,"rightToLeft",void 0),p([y({type:Boolean,json:{write:!0}})],yr.prototype,"rotated",void 0),p([y({type:String,json:{write:!0}})],yr.prototype,"text",void 0),p([at({esriTS:"text"},{readOnly:!0})],yr.prototype,"type",void 0),p([y({...J8,json:{write:!0}})],yr.prototype,"verticalAlignment",void 0),p([y({type:Number,cast:$r,json:{write:!0}})],yr.prototype,"xoffset",void 0),p([y({type:Number,cast:$r,json:{write:!0}})],yr.prototype,"yoffset",void 0),p([y({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],yr.prototype,"angle",void 0),p([y({type:Number,json:{write:!0}})],yr.prototype,"width",void 0),p([y({type:Number})],yr.prototype,"lineWidth",void 0),p([wt("lineWidth")],yr.prototype,"writeLineWidth",null),p([jr("lineWidth")],yr.prototype,"castLineWidth",null),p([y(Z8)],yr.prototype,"lineHeight",void 0),p([wt("lineHeight")],yr.prototype,"writeLineHeight",null),yr=gx=p([G("esri.symbols.TextSymbol")],yr);const _S=yr;var vx;let To=vx=class extends Wn{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:Na.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?.portal,super.read(e,t)}clone(){return new vx({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const r=t!=null?t.cache:null,n=r?this._fetchCacheKey:null;if(r!=null){const l=n&&r.get(n);if(l)return l.clone()}const{resolveWebStyleSymbol:i}=await ke(()=>import("./webStyleSymbolUtils-DfG4rUs5.js"),__vite__mapDeps([200,201,152,85,38,153]));br(t);const s=i(this,{portal:this.portal},e,t);s.catch(l=>{Ne.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",l)});const o=await s;return e==="webRef"&&o.type==="point-3d"||e==="cimRef"&&o.type==="cim"?(r?.set(n,o.clone()),o):null}};p([y({json:{write:!1}})],To.prototype,"color",void 0),p([y({type:String,json:{write:!0}})],To.prototype,"styleName",void 0),p([y({type:Na,json:{write:!1}})],To.prototype,"portal",void 0),p([y({type:String,json:{read:YM,write:fh}})],To.prototype,"styleUrl",void 0),p([y({type:Jy,json:{read:!1}})],To.prototype,"thumbnail",void 0),p([y({type:String,json:{write:!0}})],To.prototype,"name",void 0),p([at({styleSymbolReference:"web-style"},{readOnly:!0})],To.prototype,"type",void 0),p([y()],To.prototype,"_fetchCacheKey",null),To=vx=p([G("esri.symbols.WebStyleSymbol")],To);const SS=To;function e_e(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function t_e(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const $k={base:Wn,key:"type",typeMap:{"simple-fill":Tk,"picture-fill":Ek,"picture-marker":yS,"simple-line":Th,"simple-marker":wS,text:_S,"label-3d":Sk,"line-3d":mS,"mesh-3d":bk,"point-3d":gS,"polygon-3d":vS,"web-style":SS,cim:Eh},errorContext:"symbol"},r_e={base:Wn,key:"type",typeMap:{"picture-marker":yS,"simple-marker":wS,"point-3d":gS,cim:Eh},errorContext:"symbol"},n_e={base:Wn,key:"type",typeMap:{"simple-line":Th,"line-3d":mS,cim:Eh},errorContext:"symbol"},i_e={base:Wn,key:"type",typeMap:{"simple-fill":Tk,"picture-fill":Ek,"polygon-3d":vS,cim:Eh},errorContext:"symbol"},s_e={base:Wn,key:"type",typeMap:{"picture-marker":yS,"simple-marker":wS,text:_S,"web-style":SS,cim:Eh},errorContext:"symbol"},o_e=G3({types:$k}),a_e={base:Wn,key:"type",typeMap:{"simple-fill":Tk,"picture-fill":Ek,"picture-marker":yS,"simple-line":Th,"simple-marker":wS,text:_S,"line-3d":mS,"mesh-3d":bk,"point-3d":gS,"polygon-3d":vS,"web-style":SS,cim:Eh},errorContext:"symbol"},l_e={base:Wn,key:"type",typeMap:{text:_S,"label-3d":Sk},errorContext:"symbol"},u_e={base:Wn,key:"type",typeMap:{"line-3d":mS,"mesh-3d":bk,"point-3d":gS,"polygon-3d":vS,"web-style":SS,cim:Eh},errorContext:"symbol"},c_e={base:Wn,key:"type",typeMap:{"label-3d":Sk},errorContext:"symbol"},d_e=Aa($k);var wx;function one(e){if(!e)return null;const t={};for(const r in e){const n=pf(e[r]);n&&(t[r]=n)}return Object.keys(t).length!==0?t:null}function ane(e){if(e==null)return null;const t={};for(const r in e){const n=e[r];n&&(t[r]=n.toJSON())}return Object.keys(t).length!==0?t:null}let Mi=wx=class extends Bs(ze){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:hv(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&WV(Ne.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),e?.type!=="mesh"&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new wx({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const r of[t,this.sourceLayer,this.layer])if(r){if("popupTemplate"in r&&r.popupTemplate)return r.popupTemplate;if(e&&"defaultPopupTemplate"in r&&r.defaultPopupTemplate!=null)return r.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,t){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:ane(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:cT(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if(t?.type==="mesh"){const r={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",r,r,e.action)}}_notifyLayer(e,t,r,n){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const i={graphic:this,property:e,oldValue:t,newValue:r};e==="origin-transform"&&(i.action=n),e==="attributes"&&(i.attributeName=n),this.layer.graphicChanged(i)}_watchMeshGeometryChanges(){this.addHandles([Pa(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),Pa(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const e=this.geometry;e?.type==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};p([y({value:null,json:{read:one}})],Mi.prototype,"aggregateGeometries",null),p([y({value:null})],Mi.prototype,"attributes",null),p([y({value:null,types:q_,json:{read:pf}})],Mi.prototype,"geometry",null),p([y({type:Boolean})],Mi.prototype,"isAggregate",void 0),p([y({clonable:"reference"})],Mi.prototype,"layer",void 0),p([y({clonable:"reference"})],Mi.prototype,"origin",void 0),p([y({type:Sre})],Mi.prototype,"popupTemplate",void 0),p([y({clonable:"reference"})],Mi.prototype,"sourceLayer",void 0),p([y({value:null,types:$k})],Mi.prototype,"symbol",null),p([y({clonable:!1,json:{read:!1,write:!1}})],Mi.prototype,"_version",void 0),p([y({type:Boolean,value:!0})],Mi.prototype,"visible",null),Mi=wx=p([G("esri.Graphic")],Mi);const M0=Mi;let rh=class extends Hy{_own(t){t.layer&&"remove"in t.layer&&t.layer!==this.owner&&t.layer.remove(t),t.layer=this.owner}_release(t){t.layer===this.owner&&(t.layer=null)}};p([OD({Type:M0,ensureType:oi(M0)})],rh.prototype,"itemType",void 0),rh=p([G("esri.support.GraphicsCollection")],rh);let Uu=class extends He{constructor(t){super(t),this.view=null,this.baseLayerViews=new Ye,this.referenceLayerViews=new Ye,this._loadingHandle=dt(()=>this.view?.map?.basemap,r=>{r&&r.load().catch(()=>{})},Hn)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const t of this.baseLayerViews)t.destroy();this.baseLayerViews.length=0;for(const t of this.referenceLayerViews)t.destroy();this.referenceLayerViews.length=0}get suspended(){return!this.view||this.view.suspended}get updating(){if(this.view?.suspended)return!1;const t=this.view?.map?.basemap;return!!t&&!!t.loaded&&(this.baseLayerViews.some(r=>r.updating)||this.referenceLayerViews.some(r=>r.updating))}};p([y({constructOnly:!0})],Uu.prototype,"view",void 0),p([y({readOnly:!0})],Uu.prototype,"baseLayerViews",void 0),p([y({readOnly:!0})],Uu.prototype,"referenceLayerViews",void 0),p([y({readOnly:!0})],Uu.prototype,"suspended",null),p([y({type:Boolean,readOnly:!0})],Uu.prototype,"updating",null),Uu=p([G("esri.views.BasemapView")],Uu);const lne=Uu;function une(e){return"tryRecycleWith"in e}function cne(e){return e!=null&&typeof e=="object"&&"layerViews"in e}let dne=class{constructor(t,r,n){this.layer=t,this.view=r,this.layerViewImporter=n,this._controller=new AbortController,this._deferred=Vs(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,zs(this._controller.signal,()=>{const i=new fe("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(i)})}tryRecycle(t){if(!this.done||!this.layerView||!une(this.layerView))return null;const r=this.layer.type,n=this._controller.signal;for(let i=0;i<t.length;i++){const s=t[i];if(s.type!==r)continue;const o=this.layerView.tryRecycleWith(s,{signal:n});if(o){t.splice(i,1),this.layer=s;const l=this.layerView,c=l.view;return this.promise=Promise.race([o.then(()=>(br(this._controller.signal),s.emit("layerview-destroy",{view:c,layerView:l}),c.emit("layerview-destroy",{view:c,layerView:l}),s.emit("layerview-create",{view:c,layerView:l}),c.emit("layerview-create",{view:c,layerView:l}),l)),new Promise((d,m)=>zs(this._controller.signal,()=>m(Sr())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:t}=this;if(t){const{layer:r,view:n}=this;r.emit("layerview-destroy",{view:n,layerView:t}),n.emit("layerview-destroy",{layer:r,layerView:t})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}async start(){if(this._started)return;this._started=!0;const{_controller:{signal:t},layer:r,view:n}=this;this._map=n.map;try{let i,s;if(await r.load({signal:t}),r.prefetchResources&&await r.prefetchResources({signal:t}),pne(r))i=await r.createLayerView(n,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new fe("layer:view-not-supported","No layerview implementation was found");const c=await this.layerViewImporter.importLayerView(r);br(t),i="default"in c?new c.default({layer:r,view:n}):new c({layer:r,view:n})}const o=()=>{s=_r(s),i.destroyed||i.destroy(),i.layer=null,i.parent=null,i.view=null,this.done=!0};s=zs(t,o),br(t);try{await i.when()}catch(c){throw o(),c}if(!this._map?.allLayers?.includes(r))return o(),void this._deferred.reject(new fe("view:no-layerview-for-layer","The layer has been removed from the map",{layer:r}));this.layerView=i,r.emit("layerview-create",{view:n,layerView:i}),n.emit("layerview-create",{layer:r,layerView:i}),this.done=!0,this._deferred.resolve(i)}catch(i){r.emit("layerview-create-error",{view:n,error:i}),n.emit("layerview-create-error",{layer:r,error:i}),this.done=!0,this._deferred.reject(new fe("layerview:create-error","layerview creation failed",{layer:r,error:i}))}}},Ps=class extends He{constructor(t){super(t),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new th,this.supportsGround=!0,this._preloadLayerViewModules=()=>{const r=this.view.map?.allLayers;if(r)for(const n of r)this.layerViewImporter.hasLayerViewModule(n)&&this.layerViewImporter.importLayerView(n)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=Vs(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(G0(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{if(this.destroyed)return;const r=this.view.map;if(this._map!==r&&(this.clear(),this._map=r),this._workPromise==null)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const n=new Set,i=[],s=this.view.ready,o=c=>{if(c!=null){for(const d of c)if(d){n.add(d);const m=this._layerLayerViewInfoMap.get(d);m&&s?m.start():m||this._recyclingInfoMap.has(d)||i.push(d),"layers"in d&&d.layers&&o(d.layers)}}};for(const c of this._rootCollectionNames)o(Po(this,c));for(const[c,d]of this._layerLayerViewInfoMap)if(!n.has(c)){this._layerLayerViewInfoMap.delete(d.layer);const m=d.tryRecycle(i);m?(this.notifyChange("updating"),this._recyclingInfoMap.set(d.layer,d),m.then(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(d.layer),this._layerLayerViewInfoMap.set(d.layer,d),this._reschedule()}).catch(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(d.layer),d.destroy(),this._reschedule()})):d.destroy()}for(const[c,d]of this._recyclingInfoMap)n.has(c)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(d.layer),d.destroy());for(const c of i)this._createLayerView(c);this._refreshCollections();const l=[r?.ground?.layers,r?.basemap?.baseLayers,r?.basemap?.referenceLayers,r?.layers].filter(c=>!!c);n.forEach(c=>"layers"in c&&l.push(c.layers)),this.addHandles(l.map(c=>this._watchUpdatingTracking.addOnCollectionChange(()=>c,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([ph(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),dt(()=>{const t=this.view,r=t?.map;return[r?.basemap,r?.ground,r?.layers,t?.ready]},()=>this._reschedule(),rs)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),Xb(this._recyclingInfoMap),Xb(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject(Sr()),this._workPromise=null)}get _layersToLayerViews(){const t=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&t.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(t)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||KG(this._layerLayerViewInfoMap,t=>!t.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let t=0;for(const r of this._layerLayerViewInfoMap.values())r.done||++t;return t}clear(){this.destroyed||(Xb(this._layerLayerViewInfoMap),this._refreshCollections())}async whenLayerView(t){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(t)){if(this._recyclingInfoMap.has(t))return this._recyclingInfoMap.get(t).promise;throw new fe("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:t})}return this._layerLayerViewInfoMap.get(t).promise}isCreatingLayerViewsForLayer(t,r){this.commitProperty("updatingRemaining");const n=this._layerLayerViewInfoMap.get(t);if(!n?.done)return!0;const i=n.layerView;return!(!i||!r||i.parent===r)||!!(n.done&&i&&"layers"in t&&t.layers?.length)&&t.layers.some(s=>this.isCreatingLayerViewsForLayer(s,i))}_refreshCollections(){for(const[t,r]of this._layersToLayerViews)this._populateLayerViewsOwners(Po(this,t),Po(this,r),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(t,r,n){if(!t||!r)return void(r&&r.removeAll());let i=0;for(const s of t){const o=this._layerLayerViewInfoMap.get(s);if(!o?.layerView)continue;const l=o.layerView;l.layer=s,l.parent=n,r.at(i)!==l&&r.splice(i,0,l),"layers"in s&&cne(l)&&this._populateLayerViewsOwners(s.layers,l.layerViews,l),i+=1}i<r.length&&r.splice(i,r.length)}_createLayerView(t){t.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t);const r=new dne(t,this.view,this.layerViewImporter);r.promise.then(()=>this._refreshCollections(),n=>{n&&(Li(n)||n.name==="cancelled:layerview-create")||Ne.getLogger(this).error(`Failed to create layerview for layer title:'${t.title??"no title"}', id:'${t.id??"no id"}' of type '${t.type}'.`,{layer:t,error:n}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(t,r),this.view.ready&&r.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};p([y()],Ps.prototype,"_workPromise",void 0),p([y({readOnly:!0})],Ps.prototype,"_watchUpdatingTracking",void 0),p([y({readOnly:!0})],Ps.prototype,"_layersToLayerViews",null),p([y({readOnly:!0})],Ps.prototype,"_rootCollectionNames",null),p([y()],Ps.prototype,"layerViewImporter",void 0),p([y()],Ps.prototype,"supportsGround",void 0),p([y({readOnly:!0})],Ps.prototype,"updating",null),p([y({readOnly:!0})],Ps.prototype,"updatingRemaining",null),p([y({constructOnly:!0})],Ps.prototype,"view",void 0),Ps=p([G("esri.views.LayerViewManager")],Ps);const hne=Ps;function pne(e){return"createLayerView"in e&&e.createLayerView!=null}let Xi=class extends He{constructor(t){super(t),this.factor=1.5,this.offset=hn(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};p([y({type:Number})],Xi.prototype,"factor",void 0),p([y({nonNullable:!0})],Xi.prototype,"offset",void 0),p([y()],Xi.prototype,"position",void 0),p([y({type:Number,range:{min:0}})],Xi.prototype,"size",void 0),p([y()],Xi.prototype,"maskUrl",void 0),p([y()],Xi.prototype,"maskEnabled",void 0),p([y()],Xi.prototype,"overlayUrl",void 0),p([y()],Xi.prototype,"overlayEnabled",void 0),p([y({readOnly:!0})],Xi.prototype,"version",null),p([y({type:Boolean})],Xi.prototype,"visible",void 0),Xi=p([G("esri.views.Magnifier")],Xi);const p9=Xi;let Xv=class{constructor(t){this._observable=new W0,this._map=new Map(t)}get size(){return Ze(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(t){const r=this._map.delete(t);return r&&this._observable.notify(),r}entries(){return Ze(this._observable),this._map.entries()}forEach(t,r){Ze(this._observable),this._map.forEach((n,i)=>t.call(r,n,i,this),r)}get(t){return Ze(this._observable),this._map.get(t)}has(t){return Ze(this._observable),this._map.has(t)}keys(){return Ze(this._observable),this._map.keys()}set(t,r){return this._map.set(t,r),this._observable.notify(),this}values(){return Ze(this._observable),this._map.values()}[Symbol.iterator](){return Ze(this._observable),this._map[Symbol.iterator]()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}};var _x;let my=_x=class extends ze{constructor(e){super(e),this.name=null,this.code=null}clone(){return new _x({name:this.name,code:this.code})}};p([y({type:String,json:{write:!0}})],my.prototype,"name",void 0),p([y({type:[String,Number],json:{write:!0}})],my.prototype,"code",void 0),my=_x=p([G("esri.layers.support.CodedValue")],my);const fne=new en({inherited:"inherited",codedValue:"coded-value",range:"range"});let yy=class extends ze{constructor(t){super(t),this.name=null,this.type=null}};p([y({type:String,json:{write:!0}})],yy.prototype,"name",void 0),p([at(fne)],yy.prototype,"type",void 0),yy=p([G("esri.layers.support.Domain")],yy);const bS=yy;var Sx;let gy=Sx=class extends bS{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const r=String(e);this.codedValues.some(n=>(String(n.code)===r&&(t=n.name),!!t))}return t}clone(){return new Sx({codedValues:me(this.codedValues),name:this.name})}};p([y({type:[my],json:{write:!0}})],gy.prototype,"codedValues",void 0),p([at({codedValue:"coded-value"})],gy.prototype,"type",void 0),gy=Sx=p([G("esri.layers.support.CodedValueDomain")],gy);const f9=gy;var bx;let Qv=bx=class extends bS{constructor(e){super(e),this.type="inherited"}clone(){return new bx}};p([at({inherited:"inherited"})],Qv.prototype,"type",void 0),Qv=bx=p([G("esri.layers.support.InheritedDomain")],Qv);const m9=Qv;var Ex;let Ep=Ex=class extends bS{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new Ex({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};p([y({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]}}}})],Ep.prototype,"maxValue",void 0),p([y({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]}}}})],Ep.prototype,"minValue",void 0),p([at({range:"range"})],Ep.prototype,"type",void 0),Ep=Ex=p([G("esri.layers.support.RangeDomain")],Ep);const y9=Ep,mne={key:"type",base:bS,typeMap:{range:y9,"coded-value":f9,inherited:m9}};function yne(e){if(!e?.type)return null;switch(e.type){case"range":return y9.fromJSON(e);case"codedValue":return f9.fromJSON(e);case"inherited":return m9.fromJSON(e)}return null}const gne=new en({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var Tx;const vne=new en({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let Nn=Tx=class extends ze{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch{}return r?.value??null}readValueType(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch{}return r?vne.fromJSON(r.fieldValueType):null}clone(){return new Tx({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};p([y({type:String,json:{write:!0}})],Nn.prototype,"alias",void 0),p([y({type:[String,Number],json:{write:{allowNull:!0}}})],Nn.prototype,"defaultValue",void 0),p([y()],Nn.prototype,"description",void 0),p([At("description")],Nn.prototype,"readDescription",null),p([y({types:mne,json:{read:{reader:yne},write:!0}})],Nn.prototype,"domain",void 0),p([y({type:Boolean,json:{write:!0}})],Nn.prototype,"editable",void 0),p([y({type:or,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],Nn.prototype,"length",void 0),p([y({type:String,json:{write:!0}})],Nn.prototype,"name",void 0),p([y({type:Boolean,json:{write:!0}})],Nn.prototype,"nullable",void 0),p([at(gne)],Nn.prototype,"type",void 0),p([y()],Nn.prototype,"valueType",void 0),p([At("valueType",["description"])],Nn.prototype,"readValueType",null),p([y({type:Boolean,json:{read:!1}})],Nn.prototype,"visible",void 0),Nn=Tx=p([G("esri.layers.support.Field")],Nn);const wne=Nn;var $x;let Tp=$x=class extends ze{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new $x({mapLayerId:e,gdbVersion:t})}};p([at({mapLayer:"map-layer"})],Tp.prototype,"type",void 0),p([y({type:or,json:{write:!0}})],Tp.prototype,"mapLayerId",void 0),p([y({type:String,json:{write:!0}})],Tp.prototype,"gdbVersion",void 0),Tp=$x=p([G("esri.layers.support.source.MapLayerSource")],Tp);var xx;let bl=xx=class extends ze{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:r,spatialReference:n,geometryType:i}=this,s={workspaceId:e,query:t,oidFields:r,spatialReference:n?.clone()??void 0,geometryType:i};return new xx(s)}};p([at({queryTable:"query-table"})],bl.prototype,"type",void 0),p([y({type:String,json:{write:!0}})],bl.prototype,"workspaceId",void 0),p([y({type:String,json:{write:!0}})],bl.prototype,"query",void 0),p([y({type:String,json:{write:!0}})],bl.prototype,"oidFields",void 0),p([y({type:_t,json:{write:!0}})],bl.prototype,"spatialReference",void 0),p([at(Mq)],bl.prototype,"geometryType",void 0),bl=xx=p([G("esri.layers.support.source.QueryTableDataSource")],bl);var Mx;let $p=Mx=class extends ze{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new Mx({workspaceId:e,dataSourceName:t})}};p([at({raster:"raster"})],$p.prototype,"type",void 0),p([y({type:String,json:{write:!0}})],$p.prototype,"dataSourceName",void 0),p([y({type:String,json:{write:!0}})],$p.prototype,"workspaceId",void 0),$p=Mx=p([G("esri.layers.support.source.RasterDataSource")],$p);var kx;let Ad=kx=class extends ze{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new kx({workspaceId:e,gdbVersion:t,dataSourceName:r})}};p([at({table:"table"})],Ad.prototype,"type",void 0),p([y({type:String,json:{write:!0}})],Ad.prototype,"workspaceId",void 0),p([y({type:String,json:{write:!0}})],Ad.prototype,"gdbVersion",void 0),p([y({type:String,json:{write:!0}})],Ad.prototype,"dataSourceName",void 0),Ad=kx=p([G("esri.layers.support.source.TableDataSource")],Ad);var Ax,Cx;const _ne=li()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let Qi=Ax=class extends ze{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return aI()(e,t,r)}castLeftTableSource(e){return Aa(Rx(),e)}readRightTableSource(e,t,r){return aI()(e,t,r)}castRightTableSource(e){return Aa(Rx(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:r,rightTableSource:n,joinType:i}=this,s={leftTableKey:e,rightTableKey:t,leftTableSource:r?.clone()??void 0,rightTableSource:n?.clone()??void 0,joinType:i};return new Ax(s)}};p([at({joinTable:"join-table"})],Qi.prototype,"type",void 0),p([y({type:String,json:{write:!0}})],Qi.prototype,"leftTableKey",void 0),p([y({type:String,json:{write:!0}})],Qi.prototype,"rightTableKey",void 0),p([y({json:{write:!0}})],Qi.prototype,"leftTableSource",void 0),p([At("leftTableSource")],Qi.prototype,"readLeftTableSource",null),p([jr("leftTableSource")],Qi.prototype,"castLeftTableSource",null),p([y({json:{write:!0}})],Qi.prototype,"rightTableSource",void 0),p([At("rightTableSource")],Qi.prototype,"readRightTableSource",null),p([jr("rightTableSource")],Qi.prototype,"castRightTableSource",null),p([at(_ne)],Qi.prototype,"joinType",void 0),Qi=Ax=p([G("esri.layers.support.source.JoinTableDataSource")],Qi);let oE=null;function aI(){return oE||(oE=G3({types:Rx()})),oE}let aE=null;function Rx(){return aE||(aE={key:"type",base:null,typeMap:{"data-layer":Pl,"map-layer":Tp}}),aE}const Sne={key:"type",base:null,typeMap:{"join-table":Qi,"query-table":bl,raster:$p,table:Ad}};let Pl=Cx=class extends ze{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new Cx({fields:e,dataSource:t})}};p([at({dataLayer:"data-layer"})],Pl.prototype,"type",void 0),p([y({type:[wne],json:{write:!0}})],Pl.prototype,"fields",void 0),p([y({types:Sne,json:{write:!0}})],Pl.prototype,"dataSource",void 0),Pl=Cx=p([G("esri.layers.support.source.DataLayerSource")],Pl),Pl.from=oi(Pl);let Cd=class extends Bs(ze){constructor(t){super(t),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};p([y({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],Cd.prototype,"onFields",void 0),p([y({type:String,json:{write:!0}})],Cd.prototype,"operator",void 0),p([y({type:String,json:{write:!0}})],Cd.prototype,"searchTerm",void 0),p([y({type:String,json:{write:!0}})],Cd.prototype,"searchType",void 0),Cd=p([G("esri.rest.support.FullTextSearch")],Cd);const bne=Cd;var Px;const lI=new en({upperLeft:"upper-left",lowerLeft:"lower-left"});let Rd=Px=class extends ze{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new Px(me({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};p([y({type:tr,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Rd.prototype,"extent",void 0),p([y({type:["view","edit"],json:{write:!0}})],Rd.prototype,"mode",void 0),p([y({type:String,json:{read:lI.read,write:lI.write}})],Rd.prototype,"originPosition",void 0),p([y({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Rd.prototype,"tolerance",void 0),Rd=Px=p([G("esri.rest.support.QuantizationParameters")],Rd);const g9=Rd,Ene=new en({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var Ox;const uI=new en({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let $o=Ox=class extends ze{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=me(e))}clone(){return new Ox({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:me(this.statisticParameters)})}};p([y({type:Number,json:{write:!0}})],$o.prototype,"maxPointCount",void 0),p([y({type:Number,json:{write:!0}})],$o.prototype,"maxRecordCount",void 0),p([y({type:Number,json:{write:!0}})],$o.prototype,"maxVertexCount",void 0),p([y({type:String,json:{write:!0}})],$o.prototype,"onStatisticField",void 0),p([y({type:String,json:{write:!0}})],$o.prototype,"outStatisticFieldName",void 0),p([y({type:String,json:{read:{source:"statisticType",reader:uI.read},write:{target:"statisticType",writer:uI.write}}})],$o.prototype,"statisticType",void 0),p([y({type:Object})],$o.prototype,"statisticParameters",void 0),p([wt("statisticParameters")],$o.prototype,"writeStatisticParameters",null),$o=Ox=p([G("esri.rest.support.StatisticDefinition")],$o);const Tne=$o;var ew;const $ne=new en({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Xe=ew=class extends ze{static from(e){return C_(ew,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const r={};for(const n in e){const i=e[n];Array.isArray(i)?r[n]=i.map(s=>s instanceof Date?s.getTime():s):i instanceof Date?r[n]=i.getTime():r[n]=i}t.parameterValues=r}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new ew(me({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};Xe.MAX_MAX_RECORD_COUNT_FACTOR=5,p([y({json:{write:!0}})],Xe.prototype,"aggregateIds",void 0),p([y({type:Boolean,json:{write:!0}})],Xe.prototype,"cacheHint",void 0),p([y({type:Boolean,json:{default:!1,write:!0}})],Xe.prototype,"compactGeometryEnabled",void 0),p([y({json:{write:!0}})],Xe.prototype,"datumTransformation",void 0),p([jr("datumTransformation")],Xe.prototype,"castDatumTransformation",null),p([y({type:Boolean,json:{default:!1,write:!0}})],Xe.prototype,"defaultSpatialReferenceEnabled",void 0),p([y({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],Xe.prototype,"distance",void 0),p([y({type:Pl,json:{write:!0}})],Xe.prototype,"dynamicDataSource",void 0),p([y({type:String,json:{write:!0}})],Xe.prototype,"formatOf3DObjects",void 0),p([y({type:[bne],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],Xe.prototype,"fullText",void 0),p([y({type:String,json:{write:!0}})],Xe.prototype,"gdbVersion",void 0),p([y({types:q_,json:{read:pf,write:!0}})],Xe.prototype,"geometry",void 0),p([y({type:Number,json:{write:!0}})],Xe.prototype,"geometryPrecision",void 0),p([y({type:[String],json:{write:!0}})],Xe.prototype,"groupByFieldsForStatistics",void 0),p([y({type:String,json:{write:!0}})],Xe.prototype,"having",void 0),p([y({type:Date})],Xe.prototype,"historicMoment",void 0),p([wt("historicMoment")],Xe.prototype,"writeHistoricMoment",null),p([y({type:Number,json:{write:!0}})],Xe.prototype,"maxAllowableOffset",void 0),p([y({type:Number,cast:e=>e<1?1:e>Xe.MAX_MAX_RECORD_COUNT_FACTOR?Xe.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],Xe.prototype,"maxRecordCountFactor",void 0),p([y({type:["xyFootprint"],json:{write:!0}})],Xe.prototype,"multipatchOption",void 0),p([y({type:Number,json:{read:{source:"resultRecordCount"}}})],Xe.prototype,"num",void 0),p([y({json:{write:!0}})],Xe.prototype,"objectIds",void 0),p([y({type:[String],json:{write:!0}})],Xe.prototype,"orderByFields",void 0),p([y({type:[String],json:{write:!0}})],Xe.prototype,"outFields",void 0),p([y({type:_t,json:{name:"outSR",write:!0}})],Xe.prototype,"outSpatialReference",void 0),p([y({type:[Tne],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],Xe.prototype,"outStatistics",void 0),p([y({json:{write:!0}})],Xe.prototype,"parameterValues",void 0),p([wt("parameterValues")],Xe.prototype,"writeParameterValues",null),p([y({type:yt,json:{write:!0}})],Xe.prototype,"pixelSize",void 0),p([y({type:g9,json:{write:!0}})],Xe.prototype,"quantizationParameters",void 0),p([y({type:[Object],json:{write:!0}})],Xe.prototype,"rangeValues",void 0),p([y({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],Xe.prototype,"relationParameter",void 0),p([y({type:String,json:{write:!0}})],Xe.prototype,"resultType",void 0),p([y({type:Boolean,json:{default:!1,write:!0}})],Xe.prototype,"returnCentroid",void 0),p([y({type:Boolean,json:{default:!1,write:!0}})],Xe.prototype,"returnDistinctValues",void 0),p([y({type:Boolean,json:{default:!0,write:!0}})],Xe.prototype,"returnExceededLimitFeatures",void 0),p([y({type:Boolean,json:{write:!0}})],Xe.prototype,"returnGeometry",void 0),p([y({type:Boolean,json:{default:!1,write:!0}})],Xe.prototype,"returnQueryGeometry",void 0),p([y({type:Boolean,json:{default:!1,write:!0}})],Xe.prototype,"returnM",void 0),p([y({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Xe.prototype,"returnZ",void 0),p([y({type:_t,json:{write:!0}})],Xe.prototype,"sourceSpatialReference",void 0),p([at(Ene,{ignoreUnknown:!1,name:"spatialRel"})],Xe.prototype,"spatialRelationship",void 0),p([y({type:Number,json:{read:{source:"resultOffset"}}})],Xe.prototype,"start",void 0),p([wt("start"),wt("num")],Xe.prototype,"writeStart",null),p([y({type:String,json:{write:!0}})],Xe.prototype,"sqlFormat",void 0),p([y({type:String,json:{write:!0}})],Xe.prototype,"text",void 0),p([y({type:_0,json:{write:!0}})],Xe.prototype,"timeExtent",void 0),p([y({type:Boolean,json:{default:!1,write:!0}})],Xe.prototype,"timeReferenceUnknownClient",void 0),p([at($ne,{ignoreUnknown:!1}),y({json:{write:{overridePolicy(e){return{enabled:!!e&&this.distance!=null&&this.distance>0}}}}})],Xe.prototype,"units",void 0),p([y({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start!=null&&this.start>0}}}}})],Xe.prototype,"where",void 0),p([wt("where")],Xe.prototype,"writeWhere",null),Xe=ew=p([G("esri.rest.support.Query")],Xe);const cI=Xe;function V1(e){return!!(e!=null&&typeof e=="object"&&"createQuery"in e&&e.createQuery&&"on"in e&&e.on)}let El=class extends $c.EventedAccessor{constructor(t){super(t),this._selectionMap=new Xv,this._sources=new Ye,this._trashCan=[],this._layerEditHandles=new Ye,this._vizTaskId=0,this.showHighlight=!0}initialize(){this.addHandles([dt(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),ph(()=>this.sources,"change",r=>{const n=this._selectionMap;for(const i of r.removed)n.delete(i);this._refreshListeners(),this._refreshVisualization()},{onListenerAdd:()=>this._refreshListeners()})]);const t=new Ye;this.view.when().then(()=>{this.view.map&&(this.view.map.allLayers.flatten(r=>"sublayers"in r&&r.sublayers?r.sublayers:null).forEach(r=>{(V1(r)&&!MQ(r)||fd(r))&&t.add(r)}),this.sources=t)})}destroy(){this._layerEditHandles.drain(_r)}get selections(){return Array.from(this._selectionMap.entries()).map(t=>{const[r,n]=t;return{layer:r,selection:[...n.selection]}})}get count(){let t=0;for(const r of this._selectionMap.values())t+=r.selection.length;return t}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(t){vc(t,this._sources)}async getSelectedFeatures(t,r={},n="layerView"){const{view:i,selections:s}=this,o=(t!==void 0?s.filter(l=>t.includes(l.layer)):s).filter(l=>l.selection.length>0).map(async l=>{const{layer:c,selection:d}=l,m=fd(c)?c.parent:c;if(m==null||!hI(m))return null;if(n==="layer")return pI(m,d,r);if(dI(m))return null;const g=await i.whenLayerView(m).catch(()=>null);return g?pI(g,d,r):null});return(await Promise.all(o)).filter(l=>l!=null)}updateSelection(t){const r=new Map;for(const[s,o]of this._selectionMap)r.set(s,[...o.selection]);let n=!1;const i=t.current.concat(t.added);for(const s of i){const o=s.sourceLayer,l=s.getObjectId();if(this.sources.includes(o)&&(V1(o)||fd(o))&&l!==null){const c=U3(r,o,()=>[]);c.includes(l)||(c.push(l),n=!0)}}for(const s of t.removed){const o=s.sourceLayer,l=s.getObjectId();if(this.sources.includes(o)&&(V1(o)||fd(o))&&l!==null){const c=r.get(o),d=c?.indexOf(l);d!==void 0&&d>=0&&(c?.splice(d,1),n=!0)}}if(n){const{_selectionMap:s,_trashCan:o}=this,l=[];for(const[c,d]of r){const m=s.get(c);m!==void 0&&o.push(m),s.set(c,{selection:d}),l.push({layer:c,selection:d,...wR(m!==void 0?m.selection:[],d)})}this._onSelectionChange(l)}}setSelection(t,r){this._setSelection(t,r)}getSelection(t){return this._selectionMap.get(t)?.selection}appendToSelection(t,r){const n=this._selectionMap.get(t),i=n!==void 0?[...n.selection]:[];for(const s of r)i.includes(s)||i.push(s);this._setSelection(t,i)}removeFromSelection(t,r){const n=this._selectionMap.get(t);if(!n)return;const i=[];for(const s of n.selection)r.includes(s)||i.push(s);this._setSelection(t,i)}toggleInSelection(t,r){const n=this._selectionMap.get(t);if(!n||n.selection.length===0)return void this._setSelection(t,r);const i=new Set(n.selection),s=new Set(r),o=AB(i,s);this._setSelection(t,Array.from(o))}clear(){const t=this._selectionMap.values();this._trashCan.push(...t);const r=[];for(const[n,i]of this._selectionMap.entries())r.push({layer:n,added:[],removed:[...i.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(r)}_onSelectionChange(t){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:t})}_refreshVisualization(){if(this.view==null||this.sources==null)return;for(this._vizTaskId++;this._trashCan.length>0;)this._trashCan.pop()?.highlightHandle?.remove();const{sources:t,view:r,_selectionMap:n,showHighlight:i}=this,s=this._vizTaskId;for(const o of t){const l=n.get(o),c=fd(o)?o.parent:o;if(c!=null&&hI(c)){if(dI(c))continue;r.whenLayerView(c).then(d=>{l?.highlightHandle?.remove(),l!=null&&i&&s===this._vizTaskId&&"highlight"in d&&typeof d.highlight=="function"&&l.selection.length>0&&(l.highlightHandle=d.highlight(l.selection,"selection"))}).catch(()=>{l?.highlightHandle?.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(_r);for(const t of this.sources){const r=fd(t)?t.parent:t;if(r!=null&&V1(r)){const n=r.on("edits",i=>{this._handleEditChanges(i,t)});this._layerEditHandles.push(n)}}}_handleEditChanges(t,r){if(t.deletedFeatures!==void 0&&t.deletedFeatures.length>0&&this._selectionMap.has(r)){const n=t.deletedFeatures.filter(i=>i.error==null).map(i=>i.objectId).filter(n0);this.removeFromSelection(r,n)}}_setSelection(t,r){if(!this.sources.includes(t))throw new Error(`Cannot set selection on layer ${t.title} because it is not in 'sources'`);const n=this._selectionMap.get(t);if(n===void 0||!Mne(n,{selection:r})){n!==void 0&&this._trashCan.push(n),this._selectionMap.set(t,{selection:[...r]});const i={layer:t,selection:[...r],...wR(n!==void 0?n.selection:[],r)};this._onSelectionChange([i])}}};p([y({readOnly:!0,nonNullable:!0})],El.prototype,"selections",null),p([y({readOnly:!0,nonNullable:!0})],El.prototype,"count",null),p([y({constructOnly:!0,nonNullable:!0})],El.prototype,"view",void 0),p([y({readOnly:!0,nonNullable:!0})],El.prototype,"hasSelection",null),p([y()],El.prototype,"showHighlight",void 0),p([y()],El.prototype,"sources",null),El=p([G("esri.views.SelectionManager")],El);const dI=e=>fd(e)?e.parent?.isTable===!0:e.isTable,xne=e=>e.layer!==void 0,hI=e=>e?.when!==void 0,Mne=(e,t)=>{if(e==null&&t==null)return!0;if(e!=null&&t==null||e==null&&t!=null)return!1;if(e!=null&&t!=null&&e.selection!=null&&t.selection!=null){const r=[...e.selection],n=[...t.selection];if(r.length!==n.length)return!1;r.sort(),n.sort();for(let i=0;i<r.length;i++)if(r[i]!==n[i])return!1}return!0},pI=async(e,t,r={})=>{let n;if(xne(e)){const i=e;n=i===void 0?null:await i.queryFeatures(new cI({...r,objectIds:t})).then(s=>({data:s,layer:e.layer}))}else{const i=e;n=i===void 0?null:await i.queryFeatures(new cI({...r,objectIds:t})).then(s=>({data:s,layer:i}))}return n},kne=El;let vy=class extends Bs(He){constructor(t){super(t),this.accentColor=new Ot([255,127,0]),this.textColor=new Ot([255,255,255])}};p([y({type:Ot,nonNullable:!0})],vy.prototype,"accentColor",void 0),p([y({type:Ot,nonNullable:!0})],vy.prototype,"textColor",void 0),vy=p([G("esri.views.Theme")],vy);const Ix=vy;var fI;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"})(fI||(fI={}));const v9=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],w9={};function _9(e){return!!w9[e]}function Ane(e){for(const t of e)if(!_9(t))return!1;return!0}v9.forEach(e=>{w9[e]=!0});let Cne=class{constructor(t){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this._handlers.forEach(({handler:r,priority:n},i)=>this.inputManager?.installHandlers(i,[r],n))}disconnect(){this.inputManager&&this._handlers.forEach((t,r)=>this.inputManager?.uninstallHandlers(r)),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(t,r,n,i){const s=Array.isArray(t)?t:t.split(",");if(!Ane(s))return s.some(_9)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let o,l;Array.isArray(r)?l=r:(o=r,l=[]),typeof n=="function"?o=n:i=n,i=i??dc.DEFAULT;const c=this._createUniqueGroupName(),d=new Rne(this.view,s,l,o);this._handlers.set(c,{handler:d,priority:i});for(const m of s){const g=this._handlerCounts.get(m)||0;this._handlerCounts.set(m,g+1)}return this.inputManager&&this.inputManager.installHandlers(c,[d],i),Dt(()=>this._removeHandler(c,s))}hasHandler(t){return!!this._handlerCounts.get(t)}_removeHandler(t,r){if(this._handlers.has(t)){this._handlers.delete(t);for(const n of r){const i=this._handlerCounts.get(n);i===void 0||(i===1?this._handlerCounts.delete(n):this._handlerCounts.set(n,i-1))}}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},Rne=class extends tn{constructor(t,r,n,i){super(!0),this._latestDragStart=void 0,this.view=t;for(const s of r)switch(s){case"click":this.registerIncoming("click",n,o=>i(Ine(t,o)));break;case"double-click":this.registerIncoming("double-click",n,o=>i(Nne(t,o)));break;case"immediate-click":this.registerIncoming("immediate-click",n,o=>i(Lne(t,o)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",n,o=>i(Dne(t,o)));break;case"hold":this.registerIncoming("hold",n,o=>i(Fne(t,o)));break;case"drag":this.registerIncoming("drag",n,o=>{const l=this._wrapDrag(o);l&&i(l)});break;case"key-down":this.registerIncoming("key-down",n,o=>i(Une(o)));break;case"key-up":this.registerIncoming("key-up",n,o=>i(jne(o)));break;case"pointer-down":this.registerIncoming("pointer-down",n,o=>i(km(o,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",n,o=>i(km(o,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",n,o=>i(km(o,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",n,o=>i(zne(o)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",n,o=>i(Gne(o)));break;case"pointer-enter":this.registerIncoming("pointer-enter",n,o=>i(km(o,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",n,o=>i(km(o,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",n,o=>{i(Vne(o))});break;case"focus":this.registerIncoming("focus",n,o=>{i(Pne(o))});break;case"blur":this.registerIncoming("blur",n,o=>{i(One(o))})}}_wrapDrag(t){const r=t.data,{x:n,y:i}=r.center,{action:s,pointerType:o,button:l}=r;if(s==="start"&&(this._latestDragStart=r),!this._latestDragStart)return;const c=r.pointer.native,d=r.buttons,{cancelable:m,timestamp:g}=t,w={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return s==="end"&&(this._latestDragStart=void 0),{type:"drag",action:s,x:n,y:i,origin:w,pointerType:o,button:l,buttons:d,radius:r.radius,angle:lD(r.angle),native:c,timestamp:g,cancelable:m,stopPropagation:()=>t.stopPropagation(),async:S=>t.async(S),preventDefault:()=>t.preventDefault()}}};function Pne(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function One(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function Ine(e,t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:l,eventId:c}=t.data,{cancelable:d,timestamp:m}=t;return{type:"click",pointerType:r,button:n,buttons:i,x:s,y:o,native:l,timestamp:m,screenPoint:hn(s,o),mapPoint:ng(e,s,o),eventId:c,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:g=>t.async(g),preventDefault:()=>t.preventDefault()}}function Nne(e,t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:l,eventId:c}=t.data,{cancelable:d,timestamp:m}=t;return{type:"double-click",pointerType:r,button:n,buttons:i,x:s,y:o,native:l,timestamp:m,mapPoint:ng(e,s,o),eventId:c,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:g=>t.async(g),preventDefault:()=>t.preventDefault()}}function Lne(e,t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:l,eventId:c}=t.data,d=l.pointerId,{cancelable:m,timestamp:g}=t;return{type:"immediate-click",pointerId:d,pointerType:r,button:n,buttons:i,x:s,y:o,native:l,timestamp:g,mapPoint:ng(e,s,o),eventId:c,cancelable:m,stopPropagation:()=>t.stopPropagation(),async:w=>t.async(w),preventDefault:()=>t.preventDefault()}}function Dne(e,t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:l,eventId:c}=t.data,d=l.pointerId,{cancelable:m,timestamp:g}=t;return{type:"immediate-double-click",pointerId:d,pointerType:r,button:n,buttons:i,x:s,y:o,native:l,timestamp:g,mapPoint:ng(e,s,o),eventId:c,cancelable:m,stopPropagation:()=>t.stopPropagation(),async:w=>t.async(w),preventDefault:()=>t.preventDefault()}}function Fne(e,t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:l}=t.data,{cancelable:c,timestamp:d}=t;return{type:"hold",pointerType:r,button:n,buttons:i,x:s,y:o,native:l,timestamp:d,mapPoint:ng(e,s,o),cancelable:c,stopPropagation:()=>t.stopPropagation(),async:m=>t.async(m),preventDefault:()=>t.preventDefault()}}function ng(e,t,r){return e.toMap(hn(t,r),{exclude:[]})}function Une(e){const{key:t,repeat:r,native:n}=e.data,{cancelable:i,timestamp:s}=e;return{type:"key-down",key:t,repeat:r,native:n,timestamp:s,cancelable:i,stopPropagation:()=>e.stopPropagation(),async:o=>e.async(o),preventDefault:()=>e.preventDefault()}}function jne(e){const{key:t,native:r}=e.data,{cancelable:n,timestamp:i}=e;return{type:"key-up",key:t,native:r,timestamp:i,cancelable:n,stopPropagation:()=>e.stopPropagation(),async:s=>e.async(s),preventDefault:()=>e.preventDefault()}}function km(e,t){const{x:r,y:n,button:i,buttons:s,native:o,eventId:l}=e.data,c=o.pointerId,d=o.pointerType,{cancelable:m,timestamp:g}=e;return{type:t,x:r,y:n,pointerId:c,pointerType:d,button:i,buttons:s,native:o,timestamp:g,eventId:l,cancelable:m,stopPropagation:()=>e.stopPropagation(),async:w=>e.async(w),preventDefault:()=>e.preventDefault()}}function zne(e){const{x:t,y:r,buttons:n,native:i,eventId:s}=e.data.currentEvent,{button:o}=e.data.startEvent,l=e.data.startEvent.native.pointerId,c=e.data.startEvent.native.pointerType,d=e.data.action,m={x:e.data.startEvent.x,y:e.data.startEvent.y},{cancelable:g,timestamp:w}=e;return{type:"pointer-drag",x:t,y:r,pointerId:l,pointerType:c,button:o,buttons:n,action:d,origin:m,native:i,timestamp:w,eventId:s,cancelable:g,stopPropagation:()=>e.stopPropagation(),async:S=>e.async(S),preventDefault:()=>e.preventDefault()}}function Gne(e){const{cancelable:t,data:r,timestamp:n}=e,{x:i,y:s,deltaY:o,native:l}=r;return{type:"mouse-wheel",x:i,y:s,deltaY:o,native:l,timestamp:n,cancelable:t,stopPropagation:()=>e.stopPropagation(),async:c=>e.async(c),preventDefault:()=>e.preventDefault()}}function Vne(e){const{action:t,state:r,device:n}=e.data,{cancelable:i,timestamp:s}=e,{buttons:o,axes:l}=r;return{type:"gamepad",device:n,timestamp:s,action:t,buttons:o,axes:l,cancelable:i,stopPropagation:()=>e.stopPropagation(),async:c=>e.async(c),preventDefault:()=>e.preventDefault()}}var k0,mI,yI;(function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"})(k0||(k0={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(mI||(mI={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(yI||(yI={}));function Bne(e){return[e.on("before-add",t=>{const r=t.item;if(r==null||e.includes(r))return Ne.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();r.onAdd()}),e.on("after-remove",t=>{const r=t.item;r.active&&(r.view.activeTool=null),r.destroy()})]}function Nx(e){return e.visible&&e.getEditableFlag!=null&&e.getEditableFlag(k0.USER)&&e.getEditableFlag(k0.MANAGER)}function va(e){return hn(e.x,e.y)}function S9(e,t){const r=(e instanceof HTMLElement?e:e.surface)?.getBoundingClientRect();return r?hn(t.clientX-r.left,t.clientY-r.top):hn(0,0)}function b9(e,t){return t instanceof Event?S9(e,t):va(t)}function E9(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let Hne=class{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(t,r){const n=()=>t.stopPropagation();switch(t.type){case"pointer-move":vI(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0?this._stopDrag=!0:t.action==="start"?this._externallyDragging=!0:t.action==="end"&&(this._externallyDragging=!1),this._stopDrag&&(n(),t.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!wI(t))break;const i=va(t),s=sp(i,t.pointerType,r.forEachTool);if(s==null)break;const o=s.manipulator,l=s.tool;o==null||l==null||!o.interactive||o.grabbable&&o.grabbableForEvent(t)||!o.grabbing||o.dragging||this._releaseManipulatorBeforeDragging(o,t,r),o!=null&&l!=null&&o.interactive&&o.grabbable&&o.grabbableForEvent(t)&&!o.grabbing&&(this._grabbedManipulators.set(t.pointerId,{manipulator:o,tool:l,start:i,pointerType:t.pointerType}),this._grabbedManipulators.size===1&&r.activeTool==null&&(this._revertToNullActiveTool=!0,r.setActiveTool(s.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:i}),n());break}case"pointer-up":this._draggedManipulators.has(t.pointerId)||this._handlePointerEnd(t,r);break;case"pointer-drag":{if(!wI(t))break;const i=this._grabbedManipulators.get(t.pointerId),s=i?.manipulator,o=i?.tool;if(s==null||o==null)break;const l=va(t);l.x=Uo(l.x,0,r.view.width),l.y=Uo(l.y,0,r.view.height);const c=i.start,d=this._draggedManipulators.get(t.pointerId);switch(t.action){case"start":case"update":t.action!=="update"&&this._grabbedManipulators.size!==1||(s.dragging=!0,d?s.events.emit("drag",{action:"update",start:c,screenPoint:l}):s.events.emit("drag",{action:"start",start:c,screenPoint:l,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{tool:o,manipulator:s,start:c}));break;case"end":s.dragging=!1,d&&s.events.emit("drag",{action:"end",start:c,screenPoint:l}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,r)}n();break}case"immediate-click":{const i=va(t),s=sp(i,t.pointerType,r.forEachTool);if(Wne(t)||r.forEachTool(d=>{if((s==null||s.tool!==d||d.automaticManipulatorSelection)&&d.manipulators){let m=!1;d.manipulators.forEach(({manipulator:g})=>{g.selected&&(g.selected=!1,m=!0)}),m&&d.onManipulatorSelectionChanged&&d.onManipulatorSelectionChanged()}}),s==null)break;const{manipulator:o,tool:l}=s;if(!o.interactive)break;o.selectable&&l.automaticManipulatorSelection&&(o.selected=!o.selected,l.onManipulatorSelectionChanged&&l.onManipulatorSelectionChanged());const c=t.native.shiftKey;o.events.emit("immediate-click",{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:c,stopPropagation:n}),lE(o,n);break}case"click":{const i=va(t),s=sp(i,t.pointerType,r.forEachTool),o=s?.manipulator;if(o==null||!o.interactive)break;const l=t.native.shiftKey;o.events.emit(t.type,{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:l}),n();break}case"double-click":{const i=va(t),s=sp(i,t.pointerType,r.forEachTool),o=s!=null?s.manipulator:null;if(o==null||!o.interactive)break;const l=t.native.shiftKey;o.events.emit("double-click",{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:l,stopPropagation:n}),lE(o,n);break}case"immediate-double-click":{const i=va(t),s=sp(i,t.pointerType,r.forEachTool),o=s!=null?s.manipulator:null;if(o==null||!o.interactive)break;const l=t.native.shiftKey;o.events.emit("immediate-double-click",{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:l,stopPropagation:n}),t.pointerType==="mouse"&&lE(o,n);break}}this._onFocusChange(r.forEachTool)}_releaseManipulatorBeforeDragging(t,r,n){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:r.pointerType,screenPoint:va(r)}),this._grabbedManipulators.forEach(({manipulator:i},s)=>{i===t&&this._grabbedManipulators.delete(s)}),this._afterManipulatorRelease(n.setActiveTool)}_handlePointerEnd(t,r){const n=this._grabbedManipulators.get(t.pointerId)?.manipulator;n!=null&&n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:va(t)}),this._grabbedManipulators.delete(t.pointerId),this._afterManipulatorRelease(r.setActiveTool))}_onFocusChange(t){this._updateCursor(),this._updateFocusedManipulatorTools(t)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=gI(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=gI(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(t){const r=new Set,n=new Set;this._grabbedManipulators.forEach(({tool:i})=>{r.add(i)}),this._hoveredManipulators.forEach(({tool:i})=>{n.add(i)}),t(i=>{i.hasGrabbedManipulators=r.has(i),i.hasHoveredManipulators=n.has(i);const s=this._grabbedManipulators.values(),o=qV(s,({tool:l})=>l===i);i.firstGrabbedManipulator=o!=null?o.manipulator:null})}clearPointers(t,{forEachTool:r,setActiveTool:n},i=!0,s){const o=(l,c)=>l===t&&(s==null||s===c);this._grabbedManipulators.forEach(({tool:l,manipulator:c,pointerType:d},m)=>{o(l,c)&&(this._grabbedManipulators.delete(m),c.grabbing=!1,c.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:d}))}),this._draggedManipulators.forEach(({tool:l,manipulator:c},d)=>{o(l,c)&&(this._draggedManipulators.delete(d),c.dragging=!1,c.events.emit("drag",{action:"cancel"}))}),i&&this._hoveredManipulators.forEach(({tool:l,manipulator:c},d)=>{o(l,c)&&(this._hoveredManipulators.delete(d),c.hovering=!1)}),this._afterManipulatorRelease(n),this._onFocusChange(r)}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((r,n)=>{this._updateHoveredStateForPointerAtScreenPosition(hn(r.x,r.y),n,r.pointerType,t)})}handleHoverEvent(t,r){const n=t.type;n!=="pointer-up"&&n!=="immediate-click"&&n!=="pointer-move"||!vI(t.pointerType)||(n!=="pointer-up"&&this._externallyDragging?this._clearHoveredManipulatorStates(t.pointerId):this._updateHoveredStateForPointerAtScreenPosition(va(t),t.pointerId,t.pointerType,r))}_updateHoveredStateForPointerAtScreenPosition(t,r,n,i){let s=sp(t,n,i);const o=this._hoveredManipulators.get(r)?.manipulator;s==null||s.manipulator.interactive||(s=null),s!=null&&o===s.manipulator||(o!=null&&(o.hovering=!1),s!=null?(s.manipulator.hovering=!0,this._hoveredManipulators.set(r,s)):this._hoveredManipulators.delete(r),this._onFocusChange(i))}_afterManipulatorRelease(t){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(t(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(t){this._hoveredManipulators.forEach(({manipulator:r},n)=>{t===n&&(this._hoveredManipulators.delete(t),r.hovering=!1)})}};function gI(e){for(const{manipulator:t}of e.values())if(t!=null&&t.interactive){if(t.grabbing&&t.grabCursor)return t.grabCursor;if(t.cursor)return t.cursor}return null}function sp(e,t,r){let n=null;return r(i=>{if(i.manipulators==null||!Nx(i))return!1;const s=i.manipulators.intersect(e,t);return s!=null&&(n={tool:i,manipulator:s},!0)}),n}function vI(e){return e==="mouse"}function wI(e){return e.pointerType!=="mouse"||e.button===0}function Wne(e){return!!e.native.shiftKey}function lE(e,t){e?.consumesClicks&&t()}const _I="attached",uE="tools",qne=1e3;let wa=class extends He{constructor(t){super(t),this._updatingHandles=new th,this._clock=bf,this._manipulatorState=new Hne,this.tools=new Ye,this.cursor=null,this._interacting=!1,this._interactingTimeout=qne,this._interactingTimeoutHandle=null,this._forEachTool=r=>{for(const n of this.tools.items)if(r(n))return}}initialize(){this.addHandles([this.view.on(v9,t=>{this._handleInputEvent(t)},dc.TOOL),...Bne(this.tools),this.tools.on("before-add",({item:t})=>{this._updateToolEditableFlag(t)}),this.tools.on("before-remove",({item:t})=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(t=>t.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},view:this.view}}set activeTool(t){if(t!=null&&!this.view.ready)return void Ne.getLogger(this).error("Cannot set active tool while view is not ready.");if(t===this.activeTool)return;const r=this.activeTool;this._set("activeTool",t),r?.deactivate(),t?.activate(),this._removeIncompleteTools(t);for(const n of this.tools){this._updateToolEditableFlag(n);const i=Nx(n);this.activeTool!=null&&i||this._manipulatorState.clearPointers(n,this._manipulatorStateEventArgs,!i)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some(t=>t.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=_r(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){this.view.type==="3d"?this.addHandles([dt(()=>{const{state:t}=this.view;return"camera"in t&&t.camera},()=>this._forEachManipulator(t=>t.onViewChange())),this.view.elevationProvider?.on("elevation-change",t=>this._forEachManipulator(r=>r.onElevationChange(t)))],_I):this.addHandles(dt(()=>this.view.extent,()=>this._forEachManipulator(t=>t.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(_I),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(t){this._forEachTool(r=>{r.manipulators&&r.manipulators.forEach(({manipulator:n})=>t(n,r))})}_handleInputEvent(t){let r=!1;const n={...t,stopPropagation:()=>{r=!0,t.stopPropagation()}};this.activeTool!=null?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(n):this._forEachTool(i=>{!r&&i.visible&&i.handleInputEvent(n)}),!r&&t.type==="key-down"&&t.key==="Escape"&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(n,this._manipulatorStateEventArgs),r||this.activeTool==null||this.activeTool.handleInputEventAfter(n),this._manipulatorState.handleHoverEvent(n,this._forEachTool),this._updateCursor(),t.type==="pointer-move"&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(uE),this._forEachTool(t=>{if(t instanceof He){const r=dt(()=>[t.cursor,t.visible,t.editable],()=>{Nx(t)||this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()});this.addHandles(r,uE)}t.manipulators&&this.addHandles([t.manipulators.on("after-remove",r=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs,!0,r.item.manipulator)}),t.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],uE)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(t){t.setEditableFlag?.(k0.MANAGER,this.activeTool==null||t===this.activeTool)}_updateCursor(){let t=this._manipulatorState.cursor;t==null&&this._forEachTool(r=>!(r.cursor==null||!r.visible)&&(t=r.cursor,!0)),this._get("cursor")!==t&&this._set("cursor",t)}_removeIncompleteTools(t){this.tools.filter(r=>(t==null||r!==t)&&!r.created&&r.removeIncompleteOnCancel).forEach(r=>{this.tools.remove(r)})}get test(){}};p([y({constructOnly:!0,nonNullable:!0})],wa.prototype,"view",void 0),p([y({value:null})],wa.prototype,"activeTool",null),p([y({readOnly:!0,type:Ye})],wa.prototype,"tools",void 0),p([y({readOnly:!0})],wa.prototype,"cursor",void 0),p([y({readOnly:!0})],wa.prototype,"updating",null),p([y()],wa.prototype,"_interacting",void 0),p([y({readOnly:!0})],wa.prototype,"interacting",null),wa=p([G("esri.views.ToolViewManager")],wa);let xp=class extends He{constructor(t){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",t.mapping==="standard"?this._detectedDeviceType="standard":Zne.test(t.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=t.index}get native(){const t=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<t.length?t[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return Yne[this.deviceType]}};p([y({nonNullable:!0,readOnly:!0})],xp.prototype,"nativeIndex",void 0),p([y({type:String,readOnly:!0})],xp.prototype,"deviceType",null),p([y({type:Number,readOnly:!0})],xp.prototype,"axisThreshold",null),xp=p([G("esri.views.input.gamepad.GamepadInputDevice")],xp);const xk=xp,Zne=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),Yne={standard:.15,spacemouse:.025,unknown:0};let wy=class extends He{constructor(...t){super(...t),this.devices=new Ye,this.enabledFocusMode="document"}};p([y({type:Ye.ofType(xk),readOnly:!0})],wy.prototype,"devices",void 0),p([y({type:["document","view","none"]})],wy.prototype,"enabledFocusMode",void 0),wy=p([G("esri.views.input.gamepad.GamepadSettings")],wy);const Jne=wy;let tw=class extends He{constructor(){super(...arguments),this.gamepad=new Jne}};p([y({readOnly:!0})],tw.prototype,"gamepad",void 0),tw=p([G("esri.views.input.Input")],tw);const Kne=tw,T9=()=>Vt.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;let ju=class extends He{constructor(t){super(t),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};p([y({type:Boolean,nonNullable:!0})],ju.prototype,"enabled",void 0),p([y({type:xk})],ju.prototype,"device",void 0),p([y({type:["pan","zoom"],nonNullable:!0})],ju.prototype,"mode",void 0),p([y({type:["forward-down","forward-up"],nonNullable:!0})],ju.prototype,"tiltDirection",void 0),p([y({type:Number,nonNullable:!0})],ju.prototype,"velocityFactor",void 0),ju=p([G("esri.views.navigation.gamepad.GamepadSettings")],ju);const $9=ju;let Pd=class extends He{constructor(t){super(t),this.browserTouchPanEnabled=!0,this.gamepad=new $9,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!T9()}};p([y({type:Boolean})],Pd.prototype,"browserTouchPanEnabled",void 0),p([y({type:$9,nonNullable:!0})],Pd.prototype,"gamepad",void 0),p([y({type:Boolean})],Pd.prototype,"momentumEnabled",void 0),p([y({type:Boolean})],Pd.prototype,"mouseWheelZoomEnabled",void 0),Pd=p([G("esri.views.navigation.Navigation")],Pd);const x9=Pd,M9={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},k9=Object.values(M9),A9=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${k9.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Xne=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${k9.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Qne=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function R_e(e){return A9.test(e)}function Mk(e){if(e==null)return null;const t=ai(e),r=t?.path.match(A9)||t?.path.match(Xne);if(!r)return null;const[,n,i,s,o]=r,l=i.indexOf("/");return{title:C9(l!==-1?i.slice(l+1):i),serverType:M9[s.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:n}}}function eie(e){const t=ai(e).path.match(Qne);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function C9(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function P_e(e,t){const r=[];if(e){const n=Mk(e);n!=null&&n.title&&r.push(n.title)}if(t){const n=C9(t);r.push(n)}if(r.length===2){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function O_e(e){let t=Gs(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function I_e(e,t){return e&&$5(x5(e,t))}function N_e(e){let{url:t}=e;if(!t)return{url:t};t=x5(t,e.logger);const r=ai(t),n=Mk(r.path);let i;if(n!=null)n.sublayer!=null&&e.layer.layerId==null&&(i=n.sublayer),t=n.url.path;else if(e.nonStandardUrlAllowed){const s=eie(r.path);s!=null&&(t=s.serviceUrl,i=s.sublayerId)}return{url:$5(t),layerId:i}}function L_e(e,t,r,n,i){fh(t,n,"url",i),n.url&&e.layerId!=null&&(n.url=F_(n.url,r,e.layerId.toString()))}function D_e(e){if(!e)return!1;const t=e.toLowerCase(),r=t.includes("/services/"),n=t.includes("/mapserver/wmsserver"),i=t.includes("/imageserver/wmsserver"),s=t.includes("/wmsserver");return r&&(n||i||s)}var SI;function tie(e){if(e.type==="integrated-mesh-3dtiles")return null;const t=e.url?Mk(e.url):void 0;return!(e.spatialReference?.vcsWkid==null&&t!=null&&t.serverType==="ImageServer")&&R9(e)&&e.heightModelInfo?e.heightModelInfo:rie(e)?ik.deriveUnitFromSR(iie,e.spatialReference):null}function R9(e){return"heightModelInfo"in e}function P9(e){if(e.type==="unknown"||!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function rie(e){return P9(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):O9(e)}function nie(e){return e.layers!=null||O9(e)||P9(e)||R9(e)}function O9(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"geojson":case"feature":case"focusArea":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"parquet":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"viewshed":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"})(SI||(SI={}));const iie=new ik({heightModel:"gravity-related-height"});var i_;(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})(i_||(i_={}));let Lx,cE=null;async function sie(e){cE||(cE=ke(()=>import("./geometryServiceUtils-DT2OPJSi.js"),__vite__mapDeps([202,203])).then(t=>Lx=t)),await cE,br(e)}async function I9(e,t,r,n){if(!e)return null;const i=e.spatialReference;return Mc()||Ia(i,t)?kc(e,t):Lx?Lx.projectGeometry(e,t,r,n):(await Promise.race([sie(n),gc(n)]),I9(e,t,r,n))}let Qt=class extends He{constructor(t){super(t),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=a0(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){const t=this.map?.(),r=[];return this.priorityCollection!=null&&r.push(this.priorityCollection),r.push({parent:t?.basemap,layers:t?.basemap?.baseLayers},{layers:t?.layers},{parent:t?.ground,layers:t?.ground?.layers},{parent:t?.basemap,layers:t?.basemap?.referenceLayers}),r}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};let t;if(this._collectLayers(this.mapCollections,n=>{const i=this._getSupportedSpatialReferences(n);if(i.length>0){const s=this._narrowDownSpatialReferenceCandidates(t,i);s!=null&&(t=s)}return t?.length===1})&&t?.length!==1)return{updating:!0};const r=this._pickSpatialReferenceCandidate(t);return{spatialReference:r?.spatialReference??null,viewingMode:r?.viewingMode??null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};const t=this.map?.(),r=this.spatialReference;if(!r)return{updating:this._spatialReferenceTask.updating};let n;const i=this._collectLayers([{parent:t?.basemap,layers:t?.basemap?.baseLayers},{layers:t?.layers}],s=>!(!("tileInfo"in s)||!s.tileInfo?.spatialReference.equals(r))&&(n=s,!0),s=>"tileInfo"in s);return n?{tileInfo:n.tileInfo,updating:!1}:{updating:i}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??{updating:!1};let t={};const r=this._collectLayers(this.mapCollections,n=>{const i=tie(n);return!!i&&(t={heightModelInfo:i,vcsWkid:n.spatialReference?.vcsWkid,latestVcsWkid:n.spatialReference?.latestVcsWkid},!0)},n=>nie(n));return{...t,updating:r}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const t=[],r=this._collectLayers(this.mapCollections,n=>{const i="fullExtents"in n&&n.fullExtents||(n.fullExtent!=null?[n.fullExtent]:[]),s=this.requiresExtentInSpatialReference?null:i[0],o=i.find(l=>l.spatialReference.equals(this.spatialReference))??s;if(o)return t.push({extent:o,layer:n}),!0;if(this._getSupportedSpatialReferences(n).length>0)for(const l of i)t.push({extent:l,layer:n});return!1});return{candidates:t,updating:r}}get _extentTask(){const{candidates:t,updating:r}=this._extentCandidatesTask;if(r)return{updating:r};if(t==null||t.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const n=this._pickExtentCandidate(t),i=this.spatialReference;return n.extent.equals(this._projectExtentTask.input)&&i.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=a0(this._projectExtentTask.task)),this._projectExtentTask={input:n.extent.clone(),output:null,spatialReference:i.clone(),task:_M(async s=>{try{const o=await I9(n.extent,i,"portalItem"in n.layer?n.layer.portalItem:void 0,s);this._projectExtentTask={...this._projectExtentTask,task:null,output:o}}catch{if(Do(s))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(t,r){if(t==null)return r;const n=new Array;for(const i of t)for(const s of r){if(!i.spatialReference.equals(s.spatialReference))continue;const o=aie(i.viewingMode,s.viewingMode);if(o!==!1){n.push({spatialReference:i.spatialReference,viewingMode:o});break}}return n.length>0?n:null}_pickSpatialReferenceCandidate(t){const r=this.defaultSpatialReference;return t==null||t.length<1?r?{spatialReference:r,viewingMode:null}:null:(r!=null&&t.length>1&&t.some(({spatialReference:n})=>n.equals(r))&&(t=t.filter(({spatialReference:n})=>n.equals(r))),t.length>1&&t.some(({viewingMode:n})=>n!==i_.Local)&&(t=t.filter(({viewingMode:n})=>n!==i_.Local)),t[0])}_getSupportedSpatialReferences(t){const r="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(r.length===0)return[];const n=[];for(const i of r){const s=this.getSpatialReferenceSupport(i,t);if(s!=null){const o=s.constraints??[{spatialReference:i,viewingMode:null}];for(const{spatialReference:l,viewingMode:c}of o)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!l.equals(this.userSpatialReference)||n.push({spatialReference:l,viewingMode:c})}}return n}_pickExtentCandidate(t){const r=this.spatialReference;return t.find(({extent:n})=>r.equals(n.spatialReference))||t[0]}_collectLayers(t,r,n=()=>!0){if(this._loadMaybe(this.map?.())!=="loaded")return!0;const i=new oie(n,r);for(const s of t)if(this._collectCollection(s,i),i.done||i.preloading===this.sourcePreloadCount)break;return i.updating}_collectCollection(t,r){if(t.layers){switch(this._loadMaybe(t.parent)){case"loading":return r.updating=!0,void++r.preloading;case"failed":return}for(const n of t.layers)if(r.layerFilter(n)){switch(this._loadMaybe(n)){case"failed":continue;case"loading":r.updating=!0,++r.preloading;break;case"loaded":if(r.updating||(r.done=r.pushLayer(n)),r.done||r.preloading===this.sourcePreloadCount)break;"layers"in n&&this._collectCollection({layers:n.layers},r)}if(r.done||r.preloading===this.sourcePreloadCount)break}}}_loadMaybe(t){return t&&"loadStatus"in t&&t.loadStatus!=null?t.loadStatus==="not-loaded"?(t.load().catch(r=>{Li(r)}),"loading"):t.loadStatus:"loaded"}};p([y()],Qt.prototype,"required",void 0),p([y({constructOnly:!0})],Qt.prototype,"map",void 0),p([y({constructOnly:!0})],Qt.prototype,"getSpatialReferenceSupport",void 0),p([y()],Qt.prototype,"defaultSpatialReference",void 0),p([y()],Qt.prototype,"userSpatialReference",void 0),p([y()],Qt.prototype,"sourcePreloadCount",void 0),p([y()],Qt.prototype,"priorityCollection",void 0),p([y()],Qt.prototype,"requiresExtentInSpatialReference",void 0),p([y()],Qt.prototype,"suspended",void 0),p([y({readOnly:!0})],Qt.prototype,"ready",null),p([y({readOnly:!0})],Qt.prototype,"heightModelInfoReady",null),p([y({readOnly:!0})],Qt.prototype,"spatialReference",null),p([y({readOnly:!0})],Qt.prototype,"extent",null),p([y({readOnly:!0})],Qt.prototype,"heightModelInfo",null),p([y({readOnly:!0})],Qt.prototype,"vcsWkid",null),p([y({readOnly:!0})],Qt.prototype,"latestVcsWkid",null),p([y({readOnly:!0})],Qt.prototype,"viewingMode",null),p([y({readOnly:!0})],Qt.prototype,"tileInfo",null),p([y({readOnly:!0})],Qt.prototype,"mapCollections",null),p([y({readOnly:!0})],Qt.prototype,"_spatialReferenceTask",null),p([y({readOnly:!0})],Qt.prototype,"_tileInfoTask",null),p([y({readOnly:!0})],Qt.prototype,"_heightModelInfoTask",null),p([y({readOnly:!0})],Qt.prototype,"_extentCandidatesTask",null),p([y()],Qt.prototype,"_extentTask",null),p([y()],Qt.prototype,"_projectExtentTask",void 0),Qt=p([G("esri.views.support.DefaultsFromMap")],Qt);let oie=class{constructor(t,r){this.layerFilter=t,this.pushLayer=r,this.preloading=-1,this.updating=!1,this.done=!1}};function aie(e,t){return e!=null?t!=null?e===t&&e:e:t}var _y;let Ve=_y=class extends $c.EventedMixin(qM(He)){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.handles=new Sf,this.updatingHandles=new th,this.allLayerViews=new h0({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:uie}),this.groundView=null,this.basemapView=null,this.fatalError=null,this.graphics=new rh,this.analyses=new t_,this.typeSpecificPreconditionsReady=!0,this.layerViews=new Ye,this.magnifier=new p9,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new Kne,this.navigation=new x9,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new Cne(this),this.persistableViewModels=new Ye,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add(dt(()=>this.preconditionsReady,t=>{const r=this.ready;if(t?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,_y.views.add(this)):(this._lockedSpatialReference=null,_y.views.remove(this)),this.notifyChange("spatialReference"),!t&&r)this.toolViewManager?.detach(),this.analysisViewManager!=null&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown();else if(t&&!r){try{this._startup()}catch(n){return void queueMicrotask(()=>{this.fatalError=new fe("startup-error",null,n)})}this.analysisViewManager!=null&&this.analysisViewManager.attach(),this.toolViewManager.attach()}},Hl))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>(this._isValid=!0,bM(()=>this.ready)))),this.basemapView=new lne({view:this}),this.layerViewManager=new hne({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new wa({view:this}),this._setupSpatialReferenceLogger(),this.selectionManager=new kne({view:this}),this.addHandles([dt(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},rs),dt(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},Hl),dt(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},rs)])}_setupSpatialReferenceLogger(){let e=null;this.addHandles([dt(()=>this.defaultsFromMap?.ready,t=>{const r=this.map?.allLayers.length>0;if(t&&!this.spatialReference&&r){if(e!=null)return;const n=Dt(()=>e=a0(e));e=_M(async i=>{try{await K4(this.spatialReferenceWarningDelay,null,i)}catch{return}finally{e=null}Ne.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.addHandles(n,"spatial-reference-logger-task")}else this.removeHandles("spatial-reference-logger-task")},{sync:!0})])}destroy(){this.destroyed||(_y.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=wr(this.graphics),this.analyses=wr(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),wr(this.analysisViewManager),this.toolViewManager=wr(this.toolViewManager),this.layerViewManager=wr(this.layerViewManager),this.selectionManager=wr(this.selectionManager),this.basemapView=wr(this.basemapView),this.groundView?.destroy(),this.layerViews?.forEach(e=>e.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=wr(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return Ne.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Qt({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,t)=>this.getSpatialReferenceSupport(e,t),...this.defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||wc.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e?.destroyed&&(Ne.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),wc.isLoadable(e)&&e.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get spatialReference(){const e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(e&&this.defaultsFromMap?.required?.heightModelInfo){const t=e.clone();return t.vcsWkid=this.defaultsFromMap.vcsWkid,t.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,t}return e}set spatialReference(e){const t=!pn(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(e){this._userTimeExtent=e}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??Oa}set timeZone(e){this._userTimeZone=e,cJ(e)||Ne.getLogger(this).warn("#timeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._cursor??"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new Ix}whenLayerView(e){return this.layerViewManager?.whenLayerView(e)??Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}importLayerView(e){throw new fe("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return this.getSpatialReferenceSupport(e)!=null}when(e,t){return this.isResolved()&&!this.ready&&Ne.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&(Pa(()=>this.destroyed||this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}};Ve.views=new Ye,p([y()],Ve.prototype,"_userSpatialReference",void 0),p([y()],Ve.prototype,"activeTool",null),p([y({readOnly:!0})],Ve.prototype,"allLayerViews",void 0),p([y()],Ve.prototype,"groundView",void 0),p([y()],Ve.prototype,"animation",null),p([y()],Ve.prototype,"basemapView",void 0),p([y()],Ve.prototype,"center",null),p([y()],Ve.prototype,"defaultsFromMapSettings",null),p([y()],Ve.prototype,"defaultsFromMap",null),p([y()],Ve.prototype,"fatalError",void 0),p([y({type:tr})],Ve.prototype,"extent",null),p([y(h$(rh,"graphics"))],Ve.prototype,"graphics",void 0),p([y(h$(t_,"analyses"))],Ve.prototype,"analyses",void 0),p([y({readOnly:!0,type:ik})],Ve.prototype,"heightModelInfo",null),p([y({readOnly:!0})],Ve.prototype,"interacting",null),p([y({readOnly:!0})],Ve.prototype,"navigating",null),p([y({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],Ve.prototype,"preconditionsReady",null),p([y({readOnly:!0})],Ve.prototype,"typeSpecificPreconditionsReady",void 0),p([y({type:Ye,readOnly:!0})],Ve.prototype,"layerViews",void 0),p([y()],Ve.prototype,"resolution",null),p([y({type:p9})],Ve.prototype,"magnifier",void 0),p([y({value:null,type:f8})],Ve.prototype,"map",null),p([y()],Ve.prototype,"padding",void 0),p([y({readOnly:!0})],Ve.prototype,"ready",void 0),p([y({type:_t})],Ve.prototype,"spatialReference",null),p([y()],Ve.prototype,"spatialReferenceWarningDelay",void 0),p([y()],Ve.prototype,"stationary",null),p([y({readOnly:!0})],Ve.prototype,"supportsGround",void 0),p([y({type:_0})],Ve.prototype,"timeExtent",null),p([y({type:String,nonNullable:!0})],Ve.prototype,"timeZone",null),p([y()],Ve.prototype,"tools",null),p([y()],Ve.prototype,"toolViewManager",void 0),p([y({readOnly:!0})],Ve.prototype,"type",void 0),p([y({type:Number})],Ve.prototype,"scale",void 0),p([y({readOnly:!0})],Ve.prototype,"updating",void 0),p([y({readOnly:!0})],Ve.prototype,"initialExtentRequired",void 0),p([y({readOnly:!0})],Ve.prototype,"initialExtent",null),p([y()],Ve.prototype,"cursor",null),p([y({readOnly:!0})],Ve.prototype,"input",void 0),p([y({type:x9,nonNullable:!0})],Ve.prototype,"navigation",void 0),p([y()],Ve.prototype,"layerViewManager",void 0),p([y()],Ve.prototype,"analysisViewManager",void 0),p([y()],Ve.prototype,"selectionManager",void 0),p([y()],Ve.prototype,"width",void 0),p([y()],Ve.prototype,"height",void 0),p([y({readOnly:!0})],Ve.prototype,"resizing",void 0),p([y({value:null,readOnly:!0})],Ve.prototype,"size",null),p([y({readOnly:!0})],Ve.prototype,"suspended",void 0),p([y({readOnly:!0})],Ve.prototype,"viewEvents",void 0),p([y({readOnly:!0})],Ve.prototype,"persistableViewModels",void 0),p([y()],Ve.prototype,"_isValid",void 0),p([y()],Ve.prototype,"_readyCycleForced",void 0),p([y()],Ve.prototype,"_lockedSpatialReference",void 0),p([y()],Ve.prototype,"_userTimeZone",void 0),p([y()],Ve.prototype,"_lockedTimeZone",void 0),p([y()],Ve.prototype,"_userTimeExtent",void 0),p([y()],Ve.prototype,"_lockedTimeExtent",void 0),p([y({type:Ix})],Ve.prototype,"theme",void 0),p([y({readOnly:!0,type:Ix})],Ve.prototype,"effectiveTheme",null),Ve=_y=p([G("esri.views.View")],Ve);const dE=globalThis.$arcgis;dE&&!dE.views&&Object.defineProperty(dE,"views",{configurable:!1,enumerable:!0,writable:!1,value:Ve.views});const lie=Ve;function uie(e){return e.layerViews}function Rr(){return[0,0]}function cie(e){return[e[0],e[1]]}function ig(e,t){return[e,t]}function die(e,t=Rr()){const r=Math.min(2,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function hie(e,t){return new Float64Array(e,t,2)}function N9(){return Rr()}function L9(){return ig(1,1)}function D9(){return ig(1,0)}function F9(){return ig(0,1)}const pie=N9(),fie=L9(),mie=D9(),yie=F9();Object.freeze(Object.defineProperty({__proto__:null,ONES:fie,UNIT_X:mie,UNIT_Y:yie,ZEROS:pie,clone:cie,create:Rr,createView:hie,fromArray:die,fromValues:ig,ones:L9,unitX:D9,unitY:F9,zeros:N9},Symbol.toStringTag,{value:"Module"}));let zu=class extends Jw{constructor(t){super(t),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=Vs(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state==="finished"||this.state==="stopped"}stop(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),this._resolver?.reject(new fe("ViewAnimation stopped")))}finish(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),this._resolver?.resolve())}update(t,r){r||(r=Da(t)?"waiting-for-target":"running"),this._set("target",t),this._set("state",r)}};p([y({readOnly:!0})],zu.prototype,"done",null),p([y({readOnly:!0,type:String})],zu.prototype,"state",void 0),p([y()],zu.prototype,"target",void 0),zu=p([G("esri.views.ViewAnimation")],zu),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(zu||(zu={}));const Dx=zu;function rf(e,t){return e[0]=t[0],e[1]=t[1],e}function cn(e,t,r){return e[0]=t,e[1]=r,e}function U9(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function A0(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function j9(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function z9(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function gie(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function vie(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function wie(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function _ie(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function Sie(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function sg(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function bie(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function ES(e,t){const r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}function s_(e,t){const r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function o_(e){const t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function G9(e){const t=e[0],r=e[1];return t*t+r*r}function V9(e,t){return e[0]=-t[0],e[1]=-t[1],e}function Eie(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function Fx(e,t){const r=t[0],n=t[1];let i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function B9(e,t){return e[0]*t[0]+e[1]*t[1]}function H9(e,t,r){const n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function Tie(e,t,r,n){const i=t[0],s=t[1];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e}function $ie(e,t=1){const r=2*QM()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function xie(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e}function Ta(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function Mie(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e}function kie(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e}function Aie(e,t,r,n){const i=t[0]-r[0],s=t[1]-r[1],o=Math.sin(n),l=Math.cos(n);return e[0]=i*l-s*o+r[0],e[1]=i*o+s*l+r[1],e}function Cie(e,t){const r=e[0],n=e[1],i=t[0],s=t[1];let o=r*r+n*n;o>0&&(o=1/Math.sqrt(o));let l=i*i+s*s;l>0&&(l=1/Math.sqrt(l));const c=(r*i+n*s)*o*l;return c>1?0:c<-1?Math.PI:Math.acos(c)}function Rie(e){return"vec2("+e[0]+", "+e[1]+")"}function Pie(e,t){return e[0]===t[0]&&e[1]===t[1]}function Oie(e,t){const r=e[0],n=e[1],i=t[0],s=t[1],o=Ii();return Math.abs(r-i)<=o*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-s)<=o*Math.max(1,Math.abs(n),Math.abs(s))}function Iie(e,t,r,n,i){let s=t[0]-r[0],o=t[1]-r[1];const l=(n[0]*s+n[1]*o)*(i-1);return s=n[0]*l,o=n[1]*l,e[0]=t[0]+s,e[1]=t[1]+o,e}const Nie=o_,kk=A0,Lie=j9,Die=z9,Fie=ES,Uie=s_,jie=G9;Object.freeze(Object.defineProperty({__proto__:null,add:U9,angle:Cie,ceil:gie,copy:rf,cross:H9,dist:Fie,distance:ES,div:Die,divide:z9,dot:B9,equals:Oie,exactEquals:Pie,floor:vie,inverse:Eie,len:Nie,length:o_,lerp:Tie,max:_ie,min:wie,mul:Lie,multiply:j9,negate:V9,normalize:Fx,projectAndScale:Iie,random:$ie,rotate:Aie,round:Sie,scale:sg,scaleAndAdd:bie,set:cn,sqrDist:Uie,sqrLen:jie,squaredDistance:s_,squaredLength:G9,str:Rie,sub:kk,subtract:A0,transformMat2:xie,transformMat2d:Ta,transformMat3:Mie,transformMat4:kie},Symbol.toStringTag,{value:"Module"}));function zie(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Gie(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Vie(e,t,r,n,i,s,o){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=o,e}function Ak(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],l=t[5];let c=r*s-n*i;return c?(c=1/c,e[0]=s*c,e[1]=-n*c,e[2]=-i*c,e[3]=r*c,e[4]=(i*l-s*o)*c,e[5]=(n*o-r*l)*c,e):null}function Bie(e){return e[0]*e[3]-e[1]*e[2]}function W9(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],l=t[4],c=t[5],d=r[0],m=r[1],g=r[2],w=r[3],S=r[4],$=r[5];return e[0]=n*d+s*m,e[1]=i*d+o*m,e[2]=n*g+s*w,e[3]=i*g+o*w,e[4]=n*S+s*$+l,e[5]=i*S+o*$+c,e}function TS(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],l=t[4],c=t[5],d=Math.sin(r),m=Math.cos(r);return e[0]=n*m+s*d,e[1]=i*m+o*d,e[2]=n*-d+s*m,e[3]=i*-d+o*m,e[4]=l,e[5]=c,e}function Ck(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],l=t[4],c=t[5],d=r[0],m=r[1];return e[0]=n*d,e[1]=i*d,e[2]=s*m,e[3]=o*m,e[4]=l,e[5]=c,e}function C0(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],l=t[4],c=t[5],d=r[0],m=r[1];return e[0]=n,e[1]=i,e[2]=s,e[3]=o,e[4]=n*d+s*m+l,e[5]=i*d+o*m+c,e}function q9(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e}function Z9(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function Rk(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function Hie(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function Wie(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function qie(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function Y9(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function Zie(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function Yie(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e}function Jie(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function Kie(e,t){const r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],l=e[5],c=t[0],d=t[1],m=t[2],g=t[3],w=t[4],S=t[5],$=Ii();return Math.abs(r-c)<=$*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(n-d)<=$*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(i-m)<=$*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(s-g)<=$*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(o-w)<=$*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(l-S)<=$*Math.max(1,Math.abs(l),Math.abs(S))}const Xie=W9,Qie=Y9;Object.freeze(Object.defineProperty({__proto__:null,add:qie,copy:zie,determinant:Bie,equals:Kie,exactEquals:Jie,frob:Wie,fromRotation:q9,fromScaling:Z9,fromTranslation:Rk,identity:Gie,invert:Ak,mul:Xie,multiply:W9,multiplyScalar:Zie,multiplyScalarAndAdd:Yie,rotate:TS,scale:Ck,set:Vie,str:Hie,sub:Qie,subtract:Y9,translate:C0},Symbol.toStringTag,{value:"Module"}));function zl(){return[1,0,0,1,0,0]}function ese(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function tse(e,t,r,n,i,s){return[e,t,r,n,i,s]}function rse(e,t){return new Float64Array(e,t,6)}const nse=zl();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:nse,clone:ese,create:zl,createView:rse,fromValues:tse},Symbol.toStringTag,{value:"Module"}));const B1={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new Ao({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:_t.WebMercator}),minus180Line:new Ao({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:_t.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new Ao({paths:[[[180,-180],[180,180]]],spatialReference:_t.WGS84}),minus180Line:new Ao({paths:[[[-180,-180],[-180,180]]],spatialReference:_t.WGS84})}};function Zd(e,t){return Math.ceil((e-t)/(2*t))}function J9(e,t){const r=Ky(e);for(const n of r)for(const i of n)i[0]+=t;return e}function Ky(e){return mM(e)?e.rings:e.paths}function z_e(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function ise(e){return typeof e=="string"?ai(e):me(e)}function sse(e,t,r){const n={};for(const i in e){if(i==="declaredClass")continue;const s=e[i];if(s!=null&&typeof s!="function")if(Array.isArray(s))n[i]=s.map(o=>sse(o));else if(typeof s=="object")if(s.toJSON){const o=s.toJSON(r?.[i]);n[i]=JSON.stringify(o)}else n[i]=JSON.stringify(s);else n[i]=s}return n}async function ose(e,t,r,n){const i=ise(e),s=t[0].spatialReference,o={...n,responseType:"json",query:{...i.query,f:"json",sr:j5(s),target:JSON.stringify({geometryType:yM(t[0]),geometries:t}),cutter:JSON.stringify(r)}},l=await Ar(i.path+"/cut",o),{cutIndexes:c,geometries:d=[]}=l.data;return{cutIndexes:c,geometries:d.map(m=>{const g=pf(m);return g.spatialReference=s,g})}}function ase(e){return{geometryType:yM(e[0]),geometries:e.map(t=>t.toJSON())}}function lse(e,t,r){const n=Aq(t);return e.map(i=>{const s=n.fromJSON(i);return s.spatialReference=r,s})}async function use(e,t,r){const n=typeof e=="string"?ai(e):e,i=t[0].spatialReference,s=yM(t[0]),o={...r,query:{...n.query,f:"json",sr:j5(i),geometries:JSON.stringify(ase(t))}},{data:l}=await Ar(n.path+"/simplify",o);return lse(l.geometries,s,i)}const K9=()=>Ne.getLogger("esri.geometry.support.normalizeUtils");function cse(e){return e.type==="polygon"}function dse(e){return e[0].type==="polygon"}function hse(e){return e[0].type==="polyline"}function bI(e){const t=[];let r=0,n=0;for(let i=0;i<e.length;i++){const s=e[i];let o=null;for(let l=0;l<s.length;l++)o=s[l],t.push(o),l===0?(r=o[0],n=r):(r=Math.min(r,o[0]),n=Math.max(n,o[0]));o&&t.push([(r+n)/2,0])}return t}function pse(e,t){if(!(e instanceof Ao||e instanceof Ra)){const i="straightLineDensify: the input geometry is neither polyline nor polygon";throw K9().error(i),new fe(i)}const r=Ky(e),n=[];for(const i of r){const s=[];n.push(s),s.push([i[0][0],i[0][1]]);for(let o=0;o<i.length-1;o++){const l=i[o][0],c=i[o][1],d=i[o+1][0],m=i[o+1][1],g=Math.sqrt((d-l)*(d-l)+(m-c)*(m-c)),w=(m-c)/g,S=(d-l)/g,$=g/t;if($>1){for(let F=1;F<=$-1;F++){const V=F*t,U=S*V+l,z=w*V+c;s.push([U,z])}const x=(g+Math.floor($-1)*t)/2,M=S*x+l,P=w*x+c;s.push([M,P])}s.push([d,m])}}return cse(e)?new Ra({rings:n,spatialReference:e.spatialReference}):new Ao({paths:n,spatialReference:e.spatialReference})}function EI(e,t,r){if(t){const n=pse(e,1e6);e=Dp(n,!0)}return r&&(e=J9(e,r)),e}function TI(e,t,r){if(Array.isArray(e)){const n=e[0];if(n>t){const i=Zd(n,t);e[0]=n+i*(-2*t)}else if(n<r){const i=Zd(n,r);e[0]=n+i*(-2*r)}}else{const n=e.x;if(n>t){const i=Zd(n,t);e=e.clone().offset(i*(-2*t),0)}else if(n<r){const i=Zd(n,r);e=e.clone().offset(i*(-2*r),0)}}return e}function fse(e,t){let r=-1;for(let n=0;n<t.cutIndexes.length;n++){const i=t.cutIndexes[n],s=t.geometries[n],o=Ky(s);for(let l=0;l<o.length;l++){const c=o[l];c.some(d=>{if(d[0]<180)return!0;{let m=0;for(let w=0;w<c.length;w++){const S=c[w][0];m=S>m?S:m}m=Number(m.toFixed(9));const g=-360*Zd(m,180);for(let w=0;w<c.length;w++){const S=s.getPoint(l,w);s.setPoint(l,w,S.clone().offset(g,0))}return!0}})}if(i===r){if(dse(e))for(const l of Ky(s))e[i]=e[i].addRing(l);else if(hse(e))for(const l of Ky(s))e[i]=e[i].addPath(l)}else r=i,e[i]=s}return e}async function mse(e,t,r){if(!Array.isArray(e))return mse([e],t);t&&typeof t!="string"&&K9().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const n=typeof t=="string"?t:t?.url??Vt.geometryServiceUrl;let i,s,o,l,c,d,m,g,w=0;const S=[],$=[];for(const U of e)if(U!=null)if(i||(i=U.spatialReference,s=ii(i),o=i.isWebMercator,d=o?102100:4326,l=B1[d].maxX,c=B1[d].minX,m=B1[d].plus180Line,g=B1[d].minus180Line),s)if(U.type==="mesh")$.push(U);else if(U.type==="point")$.push(TI(U.clone(),l,c));else if(U.type==="multipoint"){const z=U.clone();z.points=z.points.map(Z=>TI(Z,l,c)),$.push(z)}else if(U.type==="extent"){const z=U.clone()._normalize(!1,!1,s);$.push(z.rings?new Ra(z):z)}else if(U.extent){const z=U.extent,Z=Zd(z.xmin,c)*(2*l);let Q=Z===0?U.clone():J9(U.clone(),Z);z.offset(Z,0);let{xmin:pe,xmax:ye}=z;pe=Number(pe.toFixed(9)),ye=Number(ye.toFixed(9)),z.intersects(m)&&ye!==l?(w=ye>w?ye:w,Q=EI(Q,o),S.push(Q),$.push("cut")):z.intersects(g)&&pe!==c?(w=ye*(2*l)>w?ye*(2*l):w,Q=EI(Q,o,360),S.push(Q),$.push("cut")):$.push(Q)}else $.push(U.clone());else $.push(U);else $.push(U);let x=Zd(w,l),M=-90;const P=x,F=new Ao;for(;x>0;){const U=360*x-180;F.addPath([[U,M],[U,-1*M]]),M*=-1,x--}if(S.length>0&&P>0){const U=fse(S,await ose(n,S,F,r)),z=[],Z=[];for(let ye=0;ye<$.length;ye++){const ge=$[ye];if(ge!=="cut")Z.push(ge);else{const Pe=U.shift(),Me=e[ye];Me!=null&&Me.type==="polygon"&&Me.rings&&Me.rings.length>1&&Pe.rings.length>=Me.rings.length?(z.push(Pe),Z.push("simplify")):Z.push(o?Qd(Pe):Pe)}}if(!z.length)return Z;const Q=await use(n,z,r),pe=[];for(let ye=0;ye<Z.length;ye++){const ge=Z[ye];ge!=="simplify"?pe.push(ge):pe.push(o?Qd(Q.shift()):Q.shift())}return pe}const V=[];for(let U=0;U<$.length;U++){const z=$[U];if(z!=="cut")V.push(z);else{const Z=S.shift();V.push(o===!0?Qd(Z):Z)}}return V}function yse(e){if(!e)return null;const t=e.extent;if(!t)return null;const r=e.spatialReference&&ii(e.spatialReference);if(!r)return t;const[n,i]=r.valid,s=2*i,{width:o}=t;let l,{xmin:c,xmax:d}=t;if([c,d]=[d,c],e.type==="extent"||o===0||o<=i||o>s||c<n||d>i)return t;switch(e.type){case"polygon":if(!(e.rings.length>1))return t;l=bI(e.rings);break;case"polyline":if(!(e.paths.length>1))return t;l=bI(e.paths);break;case"multipoint":l=e.points}const m=t.clone();for(let g=0;g<l.length;g++){let w=l[g][0];w<0?(w+=i,d=Math.max(w,d)):(w-=i,c=Math.min(w,c))}return m.xmin=c,m.xmax=d,m.width<o?(m.xmin-=i,m.xmax-=i,m):t}function Pk(e,t,r){const n=ii(r);if(n==null)return e;const[i,s]=n.valid,o=2*s;let l=0,c=0;t>s?l=Math.ceil(Math.abs(t-s)/o):t<i&&(l=-Math.ceil(Math.abs(t-i)/o)),e>s?c=Math.ceil(Math.abs(e-s)/o):e<i&&(c=-Math.ceil(Math.abs(e-i)/o));let d=e+(l-c)*o;const m=d-t;return m>s?d-=o:m<i&&(d+=o),d}function G_e(e,t){const r=ii(t);if(r){const[n,i]=r.valid,s=i-n;if(e<n)for(;e<n;)e+=s;if(e>i)for(;e>i;)e-=s}return e}const X9=96,Q9=39.37,gse=180/Math.PI;function e7(e){return e.wkid?e:e.spatialReference||_t.WGS84}function Ok(e,t){return t.type?cn(e,t.x,t.y):rf(e,t)}function t7(e){return Tc(e)}function $S(e,t,r=0){let n=e.width,i=e.height;if(r!==0){const l=W_(r),c=Math.abs(Math.cos(l)),d=Math.abs(Math.sin(l));n=e.width*c+e.height*d,i=e.width*d+e.height*c}const s=Math.max(1,t[0]),o=Math.max(1,t[1]);return Math.max(n/s,i/o)*$se(e.spatialReference)}async function Sy(e,t,r,n){let i,s;if(!e||Array.isArray(e)&&!e.length)return null;if(Ye.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&typeof e[0]=="object"){const l=e.every(m=>"attributes"in m),c=e.some(m=>!m.geometry);let d=e;if(l&&c&&t&&t.allLayerViews){const m=new Map;for(const $ of e){const x=$.layer,M=m.get(x)||[],P=$.attributes[x.objectIdField];P!=null&&M.push(P),m.set(x,M)}const g=[];m.forEach(($,x)=>{const M=t.allLayerViews.find(P=>P.layer.id===x.id);if(M&&"queryFeatures"in M){const P=x.createQuery();P.objectIds=$,P.returnGeometry=!0,g.push(M.queryFeatures(P))}});const w=await Promise.all(g),S=[];for(const $ of w)if($&&$.features&&$.features.length)for(const x of $.features)x.geometry!=null&&S.push(x.geometry);d=S}for(const m of d)n=await Sy(m,t,r,n);return n}if(Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")i=new yt(e);else if(e instanceof Wl)i=e;else if("geometry"in e){if(e.geometry)i=e.geometry;else if(e.layer){const l=e.layer,c=t.allLayerViews.find(d=>d.layer.id===l.id);if(c&&"queryFeatures"in c){const d=l.createQuery();d.objectIds=[e.attributes[l.objectIdField]],d.returnGeometry=!0,i=(await c.queryFeatures(d))?.features?.[0]?.geometry}}}if(i==null)return null;switch(i.type){case"point":s=new tr({xmin:i.x,ymin:i.y,xmax:i.x,ymax:i.y,spatialReference:i.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":s=yse(i);break;default:s=i.extent}if(!s)return null;Mc()||Ia(s.spatialReference,r)||await gc();const o=kc(s,r);if(!o)return null;if(n){const l=o.center,c=l.clone();c.x=Pk(l.x,n.center.x,r),c.x!==l.x&&o.centerAt(c),n=n.union(o)}else n=o;return n}function vse(e){if(e&&(!Array.isArray(e)||typeof e[0]!="number")&&(typeof e=="object"||Array.isArray(e)&&typeof e[0]=="object")){if("layer"in e&&e.layer?.minScale!=null&&e.layer.maxScale!=null){const t=e.layer;return{min:t.minScale,max:t.maxScale}}if(Array.isArray(e)&&e.length&&e.every(t=>"layer"in t)){let t=0,r=0;for(const n of e){const i=n.layer;i?.minScale&&i.maxScale&&(t=i.minScale<t?i.minScale:t,r=i.maxScale>r?i.maxScale:r)}return t&&r?{min:t,max:r}:null}}}function $I(e,t){const r=e7(e);return pn(r,t)||r.imageCoordinateSystem||t.imageCoordinateSystem?e:kc(e,t)}async function wse(e,t){if(!e||!t)return new Io({targetGeometry:new yt,scale:0,rotation:0});let r=t.spatialReference;const{constraints:n,padding:i,viewpoint:s,size:o}=t,l=[i?o[0]-i.left-i.right:o[0],i?o[1]-i.top-i.bottom:o[1]];let c=null;e instanceof Io?c=e:e.viewpoint?c=e.viewpoint:e.target&&e.target.declaredClass==="esri.Viewpoint"&&(c=e.target);let d=null;c?.targetGeometry?d=c.targetGeometry:e instanceof tr?d=e:e instanceof Wl?d=await Sy(e,t,r):e&&(d=await Sy(e.center,t,r)||await Sy(e.target,t,r)||await Sy(e,t,r)),!d&&s?.targetGeometry?d=s.targetGeometry:!d&&t.extent&&(d=t.extent),r||(r=e7(t.spatialReference||t.extent||d)),Mc()||pn(d.spatialReference,r)||Ia(d.spatialReference,r)||await gc();const m=$I(d,r),g="center"in m?m.center:m;t.pickClosestTarget!==!1&&g.type==="point"&&s.targetGeometry?.type==="point"&&(g.x=Pk(g.x,s.targetGeometry.x,g.spatialReference));let w=0;c?w=c.rotation:e.hasOwnProperty("rotation")?w=e.rotation:s&&(w=s.rotation);let S=0;S=c?.targetGeometry!=null&&c.targetGeometry.type==="point"?c.scale:"scale"in e&&e.scale?e.scale:"zoom"in e&&e.zoom!==-1&&n&&n.effectiveLODs?n.zoomToScale(e.zoom):Array.isArray(d)||d.type==="point"||d.type==="extent"&&d.width===0&&d.height===0?s.scale:$S($I(d.extent,r),l,w);const $=vse(e.target??e);$&&($.min&&$.min<S?S=$.min:$.max&&$.max>S&&(S=$.max));let x=new Io({targetGeometry:g,scale:S,rotation:w});return n&&(x=n.fit(x),n.constrainByGeometry(x),n.rotationEnabled||(x.rotation=s.rotation)),x}function Bn(e,t){const r=e.targetGeometry,n=t.targetGeometry;return r.x=n.x,r.y=n.y,r.spatialReference=n.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function _se(e,t,r){return r?cn(e,.5*(t[0]-r.right+r.left),.5*(t[1]-r.bottom+r.top)):sg(e,t,.5)}const Sse=function(){const e=Rr();return function(t,r,n){const i=r.targetGeometry;Ok(e,i);const s=.5*Cf(r);return t.xmin=e[0]-s*n[0],t.ymin=e[1]-s*n[1],t.xmax=e[0]+s*n[0],t.ymax=e[1]+s*n[1],t.spatialReference=i.spatialReference,t}}();function bse(e,t,r,n,i){return Ux(e,t,r.center),e.scale=$S(r,n),i?.constraints?.constrain(e),e}function Ese(e,t,r,n){return Lk(e,t,r,n),Ak(e,e)}const r7=function(){const e=Rr();return function(t,r,n){return kk(t,xse(t,r),_se(e,r,n))}}(),Tse=function(){const e=zl(),t=Rr();return function(r,n,i,s){const o=Cf(n),l=Ik(n);return cn(t,o,o),Z9(e,t),TS(e,e,l),C0(e,e,r7(t,i,s)),C0(e,e,[0,s.top-s.bottom]),cn(r,e[4],e[5])}}();function Cf(e){return e.scale*n7(e.targetGeometry?.spatialReference)}function n7(e){return e!=null&&is(e)?1/(t7(e)*Q9*X9):1}function Ik(e){return ek(e.rotation)||0}function $se(e){return is(e)?t7(e)*Q9*X9:1}function xse(e,t){return sg(e,t,.5)}const Nk=function(){const e=Rr(),t=Rr(),r=Rr();return function(n,i,s,o,l,c){return V9(e,i),sg(t,s,.5*c),cn(r,1/o*c,-1/o*c),Rk(n,t),l&&TS(n,n,l),Ck(n,n,r),C0(n,n,e),n}}(),Lk=function(){const e=Rr();return function(t,r,n,i){const s=Cf(r),o=Ik(r);return Ok(e,r.targetGeometry),Nk(t,e,n,s,o,i)}}(),Mse=function(){const e=Rr();return function(t,r,n,i){const s=Cf(r);return Ok(e,r.targetGeometry),Nk(t,e,n,s,0,i)}}();function i7(e){const t=ii(e);return t?t.valid[1]-t.valid[0]:0}function kse(e,t){return Math.round(i7(e)/t)}const Ase=function(){const e=Rr(),t=Rr(),r=[0,0,0];return function(n,i,s){A0(e,n,i),Fx(e,e),A0(t,n,s),Fx(t,t),H9(r,e,t);let o=Math.acos(B9(e,t)/(o_(e)*o_(t)))*gse;return r[2]<0&&(o=-o),isNaN(o)&&(o=0),o}}(),Cse=function(){const e=Rr();return function(t,r,n,i){const s=t.targetGeometry;return Bn(t,r),Tse(e,r,n,i),s.x+=e[0],s.y+=e[1],t}}(),Ux=function(e,t,r){Bn(e,t);const n=e.targetGeometry;return n.x=r.x,n.y=r.y,n.spatialReference=r.spatialReference,e},Rse=function(){const e=Rr();return function(t,r,n,i,s){s||(s="center"),kk(e,n,i),sg(e,e,.5);const o=e[0],l=e[1];switch(s){case"center":cn(e,0,0);break;case"left":cn(e,-o,0);break;case"top":cn(e,0,l);break;case"right":cn(e,o,0);break;case"bottom":cn(e,0,-l);break;case"top-left":cn(e,-o,l);break;case"bottom-left":cn(e,-o,-l);break;case"top-right":cn(e,o,l);break;case"bottom-right":cn(e,o,-l)}return xS(t,r,e),t}}();function V_e(e,t,r){return Bn(e,t),e.rotation+=r,e}function Pse(e,t,r){return Bn(e,t),e.rotation=r,e}const Ose=function(){const e=Rr();return function(t,r,n,i,s){return Bn(t,r),isNaN(n)||n===0||(o7(e,i,r,s),t.scale=r.scale*n,a7(e,e,t,s),xS(t,t,cn(e,e[0]-i[0],i[1]-e[1]))),t}}();function xI(e,t,r){return Bn(e,t),e.scale=r,e}const s7=function(){const e=Rr();return function(t,r,n,i,s,o){return Bn(t,r),isNaN(n)||n===0||(o7(e,s,r,o),t.scale=r.scale*n,t.rotation+=i,a7(e,e,t,o),xS(t,t,cn(e,e[0]-s[0],s[1]-e[1]))),t}}(),B_e=function(){const e=Rr(),t=Rr();return function(r,n,i,s,o,l,c){return r7(t,l,c),U9(e,o,t),s?s7(r,n,i,s,e,l):Ose(r,n,i,e,l)}}(),o7=function(){const e=zl();return function(t,r,n,i){return Ta(t,r,Ese(e,n,i,1))}}(),a7=function(){const e=zl();return function(t,r,n,i){return Ta(t,r,Lk(e,n,i,1))}}(),xS=function(){const e=Rr(),t=zl();return function(r,n,i){Bn(r,n);const s=Cf(n),o=r.targetGeometry;return q9(t,Ik(n)),Ck(t,t,ig(s,s)),Ta(e,i,t),o.x+=e[0],o.y+=e[1],r}}();function l7(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function Ise(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Nse(e,t,r,n,i,s){const o=new Float32Array(6);return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=i,o[5]=s,o}function Lse(e,t){return new Float32Array(e,t,6)}function u7(e,t,r,n){const i=t[n],s=t[n+1];e[n]=r[0]*i+r[2]*s+r[4],e[n+1]=r[1]*i+r[3]*s+r[5]}function Dse(e,t,r,n=0,i=0,s=2){const o=i||t.length/s;for(let l=n;l<o;l++)u7(e,t,r,l*s)}Object.freeze(Object.defineProperty({__proto__:null,clone:Ise,create:l7,createView:Lse,fromValues:Nse,transform:u7,transformMany:Dse},Symbol.toStringTag,{value:"Module"}));function Fse(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function Use(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function c7(e,t,r,n,i,s,o,l,c,d){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=o,e[6]=l,e[7]=c,e[8]=d,e}function d7(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function jse(e,t){if(e===t){const r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function zse(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],l=t[5],c=t[6],d=t[7],m=t[8],g=m*o-l*d,w=-m*s+l*c,S=d*s-o*c;let $=r*g+n*w+i*S;return $?($=1/$,e[0]=g*$,e[1]=(-m*n+i*d)*$,e[2]=(l*n-i*o)*$,e[3]=w*$,e[4]=(m*r-i*c)*$,e[5]=(-l*r+i*s)*$,e[6]=S*$,e[7]=(-d*r+n*c)*$,e[8]=(o*r-n*s)*$,e):null}function Gse(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],l=t[5],c=t[6],d=t[7],m=t[8];return e[0]=o*m-l*d,e[1]=i*d-n*m,e[2]=n*l-i*o,e[3]=l*c-s*m,e[4]=r*m-i*c,e[5]=i*s-r*l,e[6]=s*d-o*c,e[7]=n*c-r*d,e[8]=r*o-n*s,e}function Vse(e){const t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],o=e[5],l=e[6],c=e[7],d=e[8];return t*(d*s-o*c)+r*(-d*i+o*l)+n*(c*i-s*l)}function Dk(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],l=t[4],c=t[5],d=t[6],m=t[7],g=t[8],w=r[0],S=r[1],$=r[2],x=r[3],M=r[4],P=r[5],F=r[6],V=r[7],U=r[8];return e[0]=w*n+S*o+$*d,e[1]=w*i+S*l+$*m,e[2]=w*s+S*c+$*g,e[3]=x*n+M*o+P*d,e[4]=x*i+M*l+P*m,e[5]=x*s+M*c+P*g,e[6]=F*n+V*o+U*d,e[7]=F*i+V*l+U*m,e[8]=F*s+V*c+U*g,e}function jx(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],l=t[4],c=t[5],d=t[6],m=t[7],g=t[8],w=r[0],S=r[1];return e[0]=n,e[1]=i,e[2]=s,e[3]=o,e[4]=l,e[5]=c,e[6]=w*n+S*o+d,e[7]=w*i+S*l+m,e[8]=w*s+S*c+g,e}function h7(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],l=t[4],c=t[5],d=t[6],m=t[7],g=t[8],w=Math.sin(r),S=Math.cos(r);return e[0]=S*n+w*o,e[1]=S*i+w*l,e[2]=S*s+w*c,e[3]=S*o-w*n,e[4]=S*l-w*i,e[5]=S*c-w*s,e[6]=d,e[7]=m,e[8]=g,e}function Bse(e,t,r){const n=r[0],i=r[1],s=r[2];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=s*t[6],e[7]=s*t[7],e[8]=s*t[8],e}function Hse(e,t,r){const n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e}function Wse(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function qse(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Zse(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Yse(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function Jse(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=r+r,l=n+n,c=i+i,d=r*o,m=n*o,g=n*l,w=i*o,S=i*l,$=i*c,x=s*o,M=s*l,P=s*c;return e[0]=1-g-$,e[3]=m-P,e[6]=w+M,e[1]=m+P,e[4]=1-d-$,e[7]=S-x,e[2]=w-M,e[5]=S+x,e[8]=1-d-g,e}function Kse(e,t){const r=t[0],n=t[1],i=t[2],s=t[4],o=t[5],l=t[6],c=t[8],d=t[9],m=t[10],g=m*o-l*d,w=-m*s+l*c,S=d*s-o*c,$=r*g+n*w+i*S;if(!$)return null;const x=1/$;return e[0]=g*x,e[1]=(-m*n+i*d)*x,e[2]=(l*n-i*o)*x,e[3]=w*x,e[4]=(m*r-i*c)*x,e[5]=(-l*r+i*s)*x,e[6]=S*x,e[7]=(-d*r+n*c)*x,e[8]=(o*r-n*s)*x,e}function Xse(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],l=t[5],c=t[6],d=t[7],m=t[8],g=t[9],w=t[10],S=t[11],$=t[12],x=t[13],M=t[14],P=t[15],F=r*l-n*o,V=r*c-i*o,U=r*d-s*o,z=n*c-i*l,Z=n*d-s*l,Q=i*d-s*c,pe=m*x-g*$,ye=m*M-w*$,ge=m*P-S*$,Pe=g*M-w*x,Me=g*P-S*x,De=w*P-S*M;let Ae=F*De-V*Me+U*Pe+z*ge-Z*ye+Q*pe;return Ae?(Ae=1/Ae,e[0]=(l*De-c*Me+d*Pe)*Ae,e[1]=(c*ge-o*De-d*ye)*Ae,e[2]=(o*Me-l*ge+d*pe)*Ae,e[3]=(i*Me-n*De-s*Pe)*Ae,e[4]=(r*De-i*ge+s*ye)*Ae,e[5]=(n*ge-r*Me-s*pe)*Ae,e[6]=(x*Q-M*Z+P*z)*Ae,e[7]=(M*U-$*Q-P*V)*Ae,e[8]=($*Z-x*U+P*F)*Ae,e):null}function Qse(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function eoe(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function toe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function roe(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function p7(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function noe(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function ioe(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e}function soe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function ooe(e,t){const r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],l=e[5],c=e[6],d=e[7],m=e[8],g=t[0],w=t[1],S=t[2],$=t[3],x=t[4],M=t[5],P=t[6],F=t[7],V=t[8],U=Ii();return Math.abs(r-g)<=U*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(n-w)<=U*Math.max(1,Math.abs(n),Math.abs(w))&&Math.abs(i-S)<=U*Math.max(1,Math.abs(i),Math.abs(S))&&Math.abs(s-$)<=U*Math.max(1,Math.abs(s),Math.abs($))&&Math.abs(o-x)<=U*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(l-M)<=U*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(c-P)<=U*Math.max(1,Math.abs(c),Math.abs(P))&&Math.abs(d-F)<=U*Math.max(1,Math.abs(d),Math.abs(F))&&Math.abs(m-V)<=U*Math.max(1,Math.abs(m),Math.abs(V))}function aoe(e){const t=Ii(),r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],l=e[5],c=e[6],d=e[7],m=e[8];return Math.abs(1-(r*r+s*s+c*c))<=t&&Math.abs(1-(n*n+o*o+d*d))<=t&&Math.abs(1-(i*i+l*l+m*m))<=t}const loe=Dk,uoe=p7;Object.freeze(Object.defineProperty({__proto__:null,add:roe,adjoint:Gse,copy:Use,determinant:Vse,equals:ooe,exactEquals:soe,frob:toe,fromMat2d:Yse,fromMat4:Fse,fromQuat:Jse,fromRotation:qse,fromScaling:Zse,fromTranslation:Wse,identity:d7,invert:zse,isOrthoNormal:aoe,mul:loe,multiply:Dk,multiplyScalar:noe,multiplyScalarAndAdd:ioe,normalFromMat4:Xse,normalFromMat4Legacy:Kse,projection:Qse,rotate:h7,scale:Bse,scaleByVec2:Hse,set:c7,str:eoe,sub:uoe,subtract:p7,translate:jx,transpose:jse},Symbol.toStringTag,{value:"Module"}));function rw(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function coe(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function doe(e,t,r,n,i,s,o,l,c){const d=new Float32Array(9);return d[0]=e,d[1]=t,d[2]=r,d[3]=n,d[4]=i,d[5]=s,d[6]=o,d[7]=l,d[8]=c,d}function hoe(e,t){return new Float32Array(e,t,9)}Object.freeze(Object.defineProperty({__proto__:null,clone:coe,create:rw,createView:hoe,fromValues:doe},Symbol.toStringTag,{value:"Module"}));function f7(){return new Float32Array(2)}function poe(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function vf(e,t){const r=new Float32Array(2);return r[0]=e,r[1]=t,r}function foe(e,t){return new Float32Array(e,t,2)}function m7(){return f7()}function y7(){return vf(1,1)}function g7(){return vf(1,0)}function v7(){return vf(0,1)}const moe=m7(),yoe=y7(),goe=g7(),voe=v7();Object.freeze(Object.defineProperty({__proto__:null,ONES:yoe,UNIT_X:goe,UNIT_Y:voe,ZEROS:moe,clone:poe,create:f7,createView:foe,fromValues:vf,ones:y7,unitX:g7,unitY:v7,zeros:m7},Symbol.toStringTag,{value:"Module"}));function woe(e){return e instanceof Float32Array&&e.length>=2}function _oe(e){return Array.isArray(e)&&e.length>=2}function hE(e){return woe(e)||_oe(e)}var zx;const ul=[0,0];let Tl=zx=class extends ze{constructor(e){super(e),this._viewpoint2D={center:Rr(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new tr,this.id=0,this.inverseTransform=zl(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=zl(),this.transformNoRotation=zl(),this.displayMat3=rw(),this.displayViewMat3=rw(),this.viewMat3=rw(),this.viewMat2d=l7(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,r=e.targetGeometry;t.center[0]=r.x,t.center[1]=r.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=r.spatialReference}this._update()}get visibleArea(){const[e,t]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,t),this.toMap([0,0],e,t),this.toMap([0,0],e,0)]}copy(e){const t=this.size,r=this.viewpoint;return r&&t?(this.viewpoint=Bn(r,e.viewpoint),this._set("size",rf(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new zx({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,r){return hE(t)?Ta(e,t,this.inverseTransform):(ul[0]=t,ul[1]=r,Ta(e,ul,this.inverseTransform))}toScreen(e,t,r){return hE(t)?Ta(e,t,this.transform):(ul[0]=t,ul[1]=r,Ta(e,ul,this.transform))}toScreenNoRotation(e,t,r){return hE(t)?Ta(e,t,this.transformNoRotation):(ul[0]=t,ul[1]=r,Ta(e,ul,this.transformNoRotation))}wrapMapCoordinate(e,t){rf(e,t);const[r]=t,[n]=this.center,{extent:i,spatialReference:s}=this;let{xmin:o,xmax:l}=i;if(s.isWrappable){const c=i7(s)/2;o=Math.max(o,n-c),l=Math.min(l,n+c)}return(r<o||r>l)&&(e[0]=Pk(r,n,s)),e}getScreenTransform(e,t){const{center:r}=this._viewpoint2D,n=this._get("pixelRatio")||1,i=this._get("size");return Nk(e,r,i,t,0,n),e}_update(){const{center:e,spatialReference:t,scale:r,rotation:n}=this._viewpoint2D,i=this._get("pixelRatio")||1,s=this._get("size"),o=new Io({targetGeometry:new yt(e[0],e[1],t),scale:r,rotation:n});if(this._set("viewpoint",o),!s||!t||!r)return;this.resolution=Cf(o),this.rotation=n,this.scale=r,this.spatialReference=t,rf(this.center,e);const l=s[0]!==0?2/s[0]:0,c=s[1]!==0?-2/s[1]:0;c7(this.displayMat3,l,0,0,0,c,0,-1,1,1);const d=d7(this.viewMat3),m=vf(s[0]/2,s[1]/2),g=vf(-s[0]/2,-s[1]/2),w=ek(n);jx(d,d,m),h7(d,d,w),jx(d,d,g),Dk(this.displayViewMat3,this.displayMat3,d);const S=Rk(this.viewMat2d,m);return TS(S,S,w),C0(S,S,g),Sse(this.extent,o,s),Lk(this.transform,o,s,i),Ak(this.inverseTransform,this.transform),Mse(this.transformNoRotation,o,s,i),this.worldScreenWidth=kse(this.spatialReference,this.resolution),this._set("id",this.id+1),this.notifyChange("visibleArea"),this}};p([y({readOnly:!0})],Tl.prototype,"id",void 0),p([y({value:1,json:{write:!0}})],Tl.prototype,"pixelRatio",null),p([y({json:{write:!0}})],Tl.prototype,"size",null),p([y()],Tl.prototype,"spatialReference",void 0),p([y({type:Io,json:{write:!0}})],Tl.prototype,"viewpoint",null),p([y({readOnly:!0})],Tl.prototype,"visibleArea",null),Tl=zx=p([G("esri.views.2d.ViewState")],Tl);const MI=Tl;var Gx,Vx;let Ll=Gx=class extends He{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new Gx({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};p([y()],Ll.prototype,"left",void 0),p([y()],Ll.prototype,"top",void 0),p([y()],Ll.prototype,"right",void 0),p([y()],Ll.prototype,"bottom",void 0),Ll=Gx=p([G("esri.views.2d.PaddedViewState.Padding")],Ll);let Mp=Vx=class extends MI{constructor(...e){super(...e),this.paddedViewState=new MI,this._updateContent=(()=>{const t=Rr();return()=>{const r=this._get("size"),n=this._get("padding");if(!r||!n)return;const i=this.paddedViewState;cn(t,n.left+n.right,n.top+n.bottom),A0(t,r,t),rf(i.size,t);const s=i.viewpoint;s&&(this.viewpoint=s)}})(),this.addHandles(dt(()=>[this.size,this.padding],()=>this._updateContent(),Hl)),this.padding=new Ll,this.size=[0,0]}set padding(e){this._set("padding",e||new Ll)}set viewpoint(e){if(e){this.paddedViewState.viewpoint=e;let t=e;const r=this._get("padding");r&&(t=Cse(e.clone(),e,this._get("size"),r));const{targetGeometry:n,rotation:i,scale:s}=t,{x:o,y:l,spatialReference:c}=n,d=this._viewpoint2D;d.center[0]=o,d.center[1]=l,d.rotation=i,d.scale=s,d.spatialReference=c,this._update()}}clone(){return new Vx({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};p([y()],Mp.prototype,"paddedViewState",void 0),p([y({type:Ll})],Mp.prototype,"padding",null),p([y()],Mp.prototype,"viewpoint",null),Mp=Vx=p([G("esri.views.2d.PaddedViewState")],Mp);const Fk=Mp;function Gd(e,t,r,n){const i=3*e,s=3*(r-e)-i,o=1-i-s,l=3*t,c=3*(n-t)-l,d=1-l-c;function m($){return((o*$+s)*$+i)*$}function g($){return((d*$+c)*$+l)*$}function w($){return(3*o*$+2*s)*$+i}function S($,x){let M,P,F,V,U,z;for(F=$,z=0;z<8;z++){if(V=m(F)-$,Math.abs(V)<x)return F;if(U=w(F),Math.abs(U)<1e-6)break;F-=V/U}if(M=0,P=1,F=$,F<M)return M;if(F>P)return P;for(;M<P;){if(V=m(F),Math.abs(V-$)<x)return F;$>V?M=F:P=F,F=.5*(P-M)+M}return F}return function($,x=1e-6){return g(S($,x))}}const Soe=/^cubic-bezier\((.*)\)/,ba={};function boe(e){let t=ba[e]||null;if(!t){const r=Soe.exec(e);if(r){const n=r[1].split(",").map(i=>parseFloat(i.trim()));n.length!==4||n.some(i=>isNaN(i))||(t=Gd.apply(Gd,n))}}return t}ba.ease=Gd(.25,.1,.25,1),ba.linear=Gd(0,0,1,1),ba.easeIn=ba["ease-in"]=Gd(.42,0,1,1),ba.easeOut=ba["ease-out"]=Gd(0,0,.58,1),ba.easeInOut=ba["ease-in-out"]=Gd(.42,0,.58,1);let kI=class{constructor(t){this._view=t,this.viewpoint=new Io({targetGeometry:new yt,scale:0,rotation:0})}get view(){return this._view}get size(){const[t,r]=this._view.size;return Math.sqrt(t*t+r*r)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return n7(this.center.spatialReference)}pixelsPerPanAtZoom(t){return 1/(t*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(t){return 1/(t*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(t,r){r.pan=Q5(this.center,t.center);let n=Math.abs(t.rotation-this.rotation);n=n>=180?360-n:n,r.rotate=W_(n),r.sourceZoom=this.scale,r.targetZoom=t.scale}interpolate(t,r,n){const{pan:i,rotate:s,zoom:o,zoomOffset:l}=n,{center:c}=this;c.spatialReference=t.center.spatialReference,c.x=zm(t.center.x,r.center.x,i),c.y=zm(t.center.y,r.center.y,i),this.viewpoint.scale=zm(t.scale,r.scale+l,o);let d=t.rotation;const m=r.rotation;Math.abs(m-d)>=180&&(d+=360*(d<m?1:-1)),this.viewpoint.rotation=zm(d,m,s)}copyFrom(t){Bn(this.viewpoint,t.viewpoint),this._view=t.view}};const w7=e=>e*e,Eoe=e=>1-w7(1-e),Toe=e=>2**(10*(e-1)),$oe=e=>1-Toe(1-e);function xoe(e){const t=2*(e-Math.sqrt((e-1)*e)),r=t/2/e;return n=>n<r?e*n*n:t*n-t+1}function Moe(e,t){return(r,n)=>r<t?t*e(r/t,n):1-e((1-r)/(1-t),n)*(1-t)}const AI=Moe(xoe(1),.5);let koe=class{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}};const R0={desiredScreenFlow:2,minDuration:500,maxDuration:8e3},_7={...R0,maxDuration:4e3};let Aoe=class S7{constructor(t){this._createCamera=t,this.compared=new koe,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:R0.desiredScreenFlow},this.source=t(),this.target=t()}clone(){const t=new S7(this._createCamera);return t.copyFrom(this),t}copyFrom(t){this.update(t.source,t.target,t.settings)}update(t,r,n){this.source!==t&&this.source.copyFrom(t),this.target!==r&&this.target.copyFrom(r),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=n.desiredScreenFlow??R0.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(t){const r=this.target.pixelsPerPanAtZoom(t);return this.halfWindowSize/r}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>Ii()}get hasFov(){return Math.abs(this.compared.fov)>Ii()}get hasRotate(){return this.compared.rotate>Ii()}},Coe=class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}},Roe=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce((t,r)=>t+r.time,0)}interpolateComponentsAt(t,r){t=Math.min(Math.max(t,0),1),t*=this.time;let n=0,i=0;const s=this.definition,o=this.segments.reduce((l,c)=>l||c.definition.hasZoom,!1);for(let l=0;l<this.segments.length;l++){const c=this.segments[l],d=c.definition;if(t<=c.time||l===this.segments.length-1){if(this.segmentInterpolateComponentsAt(c,c.time===0?0:t/c.time,r),s.hasPan&&!isNaN(r.pan)&&isFinite(s.compared.pan)?r.pan=(n+d.compared.pan*r.pan)/s.compared.pan:r.pan=1,s.hasRotate&&!isNaN(r.rotate)&&isFinite(s.compared.rotate)?r.rotate=(i+d.compared.rotate*r.rotate)/s.compared.rotate:r.rotate=1,o&&!isNaN(r.zoom)&&isFinite(d.compared.targetZoom)){const{sourceZoom:m,targetZoom:g}=d.compared,w=r.zoom*(g-m)+m,S=this.segments[0].definition.compared.sourceZoom,$=this.segments[this.segments.length-1].definition.compared.targetZoom,x=Math.abs(g-S)>Math.abs(m-S)?g:m;r.zoomOffset=x-$,r.zoom=(w-S)/(x-S)}else r.zoom=1;return r}t-=c.time,n+=d.compared.pan,i+=d.compared.rotate}}segmentInterpolateComponentsAt(t,r,n){t.interpolateComponentsAt(r,n)}},pE=class{get time(){return this._time}constructor(t){t&&this.update(t)}update(t){t&&(this.definition?this.definition.copyFrom(t):this.definition=t.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const t=this.definition,r=t.compared,n=r.sourceZoom,i=r.targetZoom;this._zoomSign=n>i?1:-1,this._panPixelsAtSource=r.pan*t.source.pixelsPerPanAtZoom(n);const s=(t.source.pixelsPerRotate()+t.target.pixelsPerRotate())/2;this._rotatePixels=r.rotate*s}_updatePixelFlow(){const t=this.definition.compared.sourceZoom,r=this.definition.compared.targetZoom,{hasZoom:n,hasPan:i,hasRotate:s}=this.definition;let o=0,l=0;n&&(i&&(o=(r/t-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),s&&(l=this._zoomSign*(Math.log(t/r)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const c=this.definition.desiredPixelFlow;if(n&&i&&s){const d=o+l+o*l;this._zoomPixelFlow=o*l/d*c,this._panPixelFlow=l/d*c,this._rotatePixelFlow=o/d*c}else if(n&&i){const d=1+o;this._zoomPixelFlow=o/d*c,this._panPixelFlow=1/d*c}else if(n&&s){const d=1+l;this._zoomPixelFlow=l/d*c,this._rotatePixelFlow=1/d*c}else if(i&&s){const d=this._panPixelsAtSource/this._rotatePixels,m=1+d;this._panPixelFlow=d/m*c,this._rotatePixelFlow=1/m*c}else i?this._panPixelFlow=c:n?this._zoomPixelFlow=c:s&&(this._rotatePixelFlow=c);if(this._time=Math.max(this.rotateTime,this.zoomTime,this.panTime),this.fovTime>this._time){const d=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=d,this._panPixelFlow/=d,this._rotatePixelFlow/=d}}get rotateTime(){return this.definition.hasRotate?this._rotatePixels/this._rotatePixelFlow:0}get zoomTime(){return this.definition.hasZoom?this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow:0}get fovTime(){return this.definition.hasFov?Math.abs(this.definition.compared.fov)/Poe:0}get panTime(){if(!this.definition.hasPan)return 0;if(this.definition.hasZoom){const t=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,r=t*this._panPixelsAtSource;return Math.log(r*(this._zoomPixelFlow/this._panPixelFlow)+1)/(t*this._zoomPixelFlow)}return this._panPixelsAtSource/this._panPixelFlow}_interpolateComponentsZoom(t){if(t===0||t===1)return t;if(this.definition.hasZoom){const r=this.definition.compared.sourceZoom,n=this.definition.compared.targetZoom;return(r*(r/n)**-t-r)/(n-r)}return t}_interpolateComponentsFov(t){if(t===0)return this.definition.segmentStart;if(t===1)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:r,segmentEnd:n}=this.definition;return r+t*(n-r)}return this.definition.segmentStart}_interpolateComponentsPan(t){if(t===0||t===1)return t;if(this.definition.hasPan&&this.definition.hasZoom){const r=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(r*t*this._time)-1))/(r*Math.LN2)}return t}_interpolateComponentsRotate(t){return t}interpolateComponentsAt(t,r){t=Math.min(Math.max(t,0),1),r.zoom=this._interpolateComponentsZoom(t),r.pan=this._interpolateComponentsPan(t),r.rotate=this._interpolateComponentsRotate(t),r.zoomOffset=0,r.fov=this._interpolateComponentsFov(t)}};const Poe=W_(45);function Ooe(e,t,r){const n=t-e.compared.sourceZoom,i=e.halfWindowPanAtZoom(n);return-e.halfWindowSize*(r.ascensionFactor*Math.LN2*e.compared.pan+i)*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2*i)}function Ioe(e,t,r){const n=1/t,i=Math.log(e.compared.sourceZoom*n),s=1/e.desiredPixelFlow,o=1/Math.LN2,l=t-e.compared.sourceZoom,c=1/l,d=(r.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(l))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*n*s*o*c*d-e.halfWindowSize*i*s*o*c+e.halfWindowSize*i*s*o*d/(l*l)}function Noe(e,t,r){const n=t-e.compared.sourceZoom,i=1/n,s=1/t,o=Math.log(e.compared.sourceZoom*s),l=(r.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(n))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*i*(-2*i*s*l+2*i*o+2*s-2*o*l/(n*n)-l/(t*t))/(e.desiredPixelFlow*Math.LN2)}function Loe(e,t){return-e.halfWindowSize*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2)}function Doe(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function Foe(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function Uoe(e,t,r){return-e.compared.pan*e.halfWindowSize*(r.ascensionFactor+r.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t))}function joe(e,t,r){return e.compared.pan*e.halfWindowSize*(r.ascensionFactor+r.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t))}function zoe(e,t,r){return-2*e.compared.pan*e.halfWindowSize*(r.ascensionFactor+r.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t*t))}function Goe(e,t,r){return e.halfWindowSize*(-e.halfWindowPanAtZoom(t)-r.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*e.halfWindowPanAtZoom(-t+e.compared.targetZoom))}function Voe(e,t,r){const n=Math.log(t/e.compared.targetZoom),i=1/e.desiredPixelFlow,s=1/Math.LN2,o=-t+e.compared.targetZoom,l=1/o,c=(-e.halfWindowPanAtZoom(t)-r.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return-e.halfWindowSize*n*i*s*l+e.halfWindowSize*n*i*s*c/(o*o)+e.halfWindowSize*i*s*l*c/t}function Boe(e,t,r){const n=t-e.compared.targetZoom,i=1/n,s=1/t,o=Math.log(t/e.compared.targetZoom),l=(e.halfWindowPanAtZoom(t)+r.descensionFactor*Math.LN2*e.compared.pan-e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*i*(-2*i*s*l-2*i*o+2*s+2*o*l/(n*n)-l/(t*t))/(e.desiredPixelFlow*Math.LN2)}function Hoe(e,t){return e.halfWindowSize*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2)}function Woe(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function qoe(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function Zoe(e){const t=e.compared.sourceZoom-e.compared.targetZoom;if(t===0)return e.compared.pan*e.halfWindowSize/(e.desiredPixelFlow*e.halfWindowPanAtZoom(e.compared.sourceZoom));const r=Math.LN2*e.compared.pan,n=t,i=e.halfWindowPanAtZoom(n),s=e.halfWindowSize*Math.log(e.compared.sourceZoom/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*i);return e.compared.sourceZoom<=e.compared.targetZoom?s*(r-i):s*(r+i)}function Yoe(e,t){let r=Joe(e,t);const n={ascensionFactor:t.ascensionFactor!=null?t.ascensionFactor:.5,descensionFactor:t.descensionFactor!=null?t.descensionFactor:.5},i=n.ascensionFactor===0,s=n.descensionFactor===0,o=i?Loe:Ooe,l=i?Doe:Ioe,c=i?Foe:Noe,d=s?Hoe:Goe,m=s?Woe:Voe,g=s?qoe:Boe,w=U=>o(e,U,n)+Uoe(e,U,n)+d(e,U,n),S=U=>l(e,U,n)+joe(e,U,n)+m(e,U,n),$=U=>c(e,U,n)+zoe(e,U,n)+g(e,U,n);let x=w(r);const M=Zoe(e);let P;const F=t.maximumIterations||20,V=t.maximumDistance!=null?t.maximumDistance:1/0;for(P=0;P<F;P++){const U=t.desiredSlope??1e-6;let z=S(r);Math.abs(z)>U&&(z+=U);const Z=z/$(r);if(isNaN(Z)||r>=V&&Z<0){if(!isFinite(V))return null;r=V,x=w(r);break}if(r-=Z,r<e.compared.sourceZoom||r<e.compared.targetZoom)return null;const Q=w(r);if(Math.abs(Q-x)/x<=.005)break;x=Q}return x>M*(1-.3)||r<e.compared.sourceZoom||r<e.compared.targetZoom?null:r}function Joe(e,t){const r=Math.max(e.compared.sourceZoom,e.compared.targetZoom),n=e.source.zoomAtPixelsPerPan(e.desiredPixelFlow/e.compared.pan)/2;return n<r?t.maximumDistance!=null?r+(t.maximumDistance-r)/2:1.5*r:t.maximumDistance?Math.min(t.maximumDistance,n):n}let Koe=class extends Roe{constructor(t,r){super(),this._preallocSegments=[new pE,new pE,new pE],this._ascensionSegment=null,this._descensionSegment=null,this.update(t,r)}update(t,r){if(!t)return;this.definition?this.definition.copyFrom(t):this.definition=t.clone();const n=r?.apex?Yoe(t,r.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,n?this._updateWithApex(n,r?.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(t,r,n){t.interpolateComponentsAt(r,n),t===this._ascensionSegment?n.zoom=Eoe(n.zoom):t===this._descensionSegment&&(n.zoom=w7(n.zoom))}_updateWithApex(t,r){const[n,i,s]=this._preallocSegments,o=r?.ascensionFactor??.5,l=Math.min(1-o,r?.ascensionFactor!=null&&r.descensionFactor!=null?r.descensionFactor:.5),c=1-o-l;n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.compared.targetZoom=t,n.definition.compared.pan=this.definition.compared.pan*o,n.definition.compared.rotate=this.definition.compared.rotate*o,n.definition.segmentEnd=o,n.update(),this._ascensionSegment=n,this.segments.push(n),c>0&&(i.definition?i.definition.copyFrom(this.definition):i.definition=this.definition.clone(),i.definition.copyFrom(this.definition),i.definition.compared.sourceZoom=t,i.definition.compared.targetZoom=t,i.definition.compared.pan=this.definition.compared.pan*c,i.definition.compared.rotate=this.definition.compared.rotate*c,i.definition.segmentStart=n.definition.segmentEnd,i.definition.segmentEnd=n.definition.segmentEnd+c,i.update(),this.segments.push(i)),s.definition?s.definition.copyFrom(this.definition):s.definition=this.definition.clone(),s.definition.compared.sourceZoom=t,s.definition.compared.pan=this.definition.compared.pan*l,s.definition.compared.rotate=this.definition.compared.rotate*l,s.definition.segmentStart=o+c,s.update(),this._descensionSegment=s,this.segments.push(s)}_updateWithoutApex(){const[t]=this._preallocSegments;t.update(this.definition),this.segments.push(t)}};const Xoe=new Coe;let Qoe=class{get time(){return this._time}get isLinear(){return this.path.segments.length===1}constructor(t){this._time=0,this._easing=AI,this.definition=new Aoe(t),this.path=new Koe}update(t,r,n){this.definition.update(t,r,n),this.path.update(this.definition,n),this._time=this._applyTimeSettings(mB(isFinite(this.path.time)?this.path.time:0),n),this._easing=n.easing??(this._time>=1e3?AI:$oe)}cameraAt(t,r){t=Math.min(Math.max(0,t),1),t=this._normalizedEasing(t);const n=this.path.interpolateComponentsAt(t,Xoe);r.interpolate(this.definition.source,this.definition.target,n)}_normalizedEasing(t){const r=this._easing(0,this._time),n=this._easing(1,this._time);return(this._easing(t,this._time)-r)/(n-r)}_applyTimeSettings(t,r){const n=r.speedFactor!=null?r.speedFactor:1,i=r.minDuration??R0.minDuration/n,s=r.maxDuration??R0.maxDuration/n;return t=r.duration!=null?r.duration:Math.min(Math.max(t/n,i),s)}};const CI=2e3,eae=64;let tae=class{constructor(t){this._view=t,this._animation=new Qoe(()=>new kI(this._view)),this._current=new kI(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(t,r,n={}){Bn(this._current.viewpoint,t),Bn(this._source.viewpoint,t),Bn(this._target.viewpoint,r),this._animation.update(this._source,this._target,n)}applyRatio(t,r){this._animation.cameraAt(r,this._current),Bn(t,this._current.viewpoint)}},kp=class extends He{constructor(t){super(t),this._animation=null,this._destinationViewState=new Fk,this.updateFunction=null,this.easing=ba.ease,this.viewpoint=new Io({targetGeometry:new yt,scale:0,rotation:0}),this._updateTask=of({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new tae(t.view)}destroy(){this._updateTask=_r(this._updateTask)}get animation(){return this._animation}set animation(t){this._animation=t,this.view.animation=t}animate(t,r,n){this.stop();const i=this.viewpoint;Bn(i,r);const s=(typeof n?.easing=="string"?boe(n.easing):n?.easing)||this.easing,o=t.target;this._transition.update(this.viewpoint,o,{apex:{maximumDistance:Math.min(Math.min(r.scale,o.scale)*eae,this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:n?.duration,maxDuration:n?.animationMode==="auto"?1/0:n?.maxDuration??_7.maxDuration,speedFactor:n?.speedFactor,easing:typeof s=="function"?c=>s(c):void 0}),n?.animationMode==="auto"&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=o,rae(this._transition.animation,n,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,o,{duration:0}));const l=()=>{this.animation===t&&this._updateTask&&(t.state==="finished"&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return t.when(l,l),this._startTime=performance.now(),this._updateTask.resume(),this.animation=t,t}animateContinuous(t,r){this.stop(),this.updateFunction=r,this.viewpoint=t;const n=new Dx({target:t.clone()}),i=()=>{this.animation===n&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return n.when(i,i),this._startTime=performance.now(),this._updateTask.resume(),this.animation=n,n}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(t){const r=this.animation;if(r&&r.state!==Dx.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,t.deltaTime),this.animation?.update(this.viewpoint);else{const n=performance.now()-this._startTime,i=this._transition.duration,s=i>0?n/i:1,o=s>=1;this._transition.applyRatio(this.viewpoint,s),o&&this.animation?.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};function rae(e,t,r,n){if(t?.duration!=null)return!0;const{time:i,isLinear:s}=e,o=t?.speedFactor||1,l=t?.maxDuration??_7.maxDuration/o;if(ie("esri-goto-debug")&&(console.log("speed factor:",o),console.log("adjusted duration:		",i),console.log("adjusted max duration:	",l),console.log("is linear:",s)),i>l)return ie("esri-goto-debug")&&console.warn(`failed "auto" heuristic: animations must be shorter than ${l/1e3}s`),!1;if(s){const d=Rr(),m=hn(...n.toScreen(d,...r.center)),g=hn(...r.toScreen(d,...n.center)),w=g!=null&&g.x>-(1.5-.5)*r.size[0]&&g.x<(1.5+.5)*r.size[0]&&g.y>-(1.5-.5)*r.size[1]&&g.y<(1.5+.5)*r.size[1],S=m!=null&&m.x>-(1.5-.5)*n.size[0]&&m.x<(1.5+.5)*n.size[0]&&m.y>-(1.5-.5)*n.size[1]&&m.y<(1.5+.5)*n.size[1];if(ie("esri-goto-debug")&&(console.log(`dest is within ${1.5} screens at start view:`,w),console.log(`start is within ${1.5} screens at dest view:`,S)),i>CI/o&&!w&&!S)return ie("esri-goto-debug")&&console.warn(`failed "auto" heuristic: linear animations must be...
  - shorter than ${CI/1e3/o}s, or
  - shorter than ${l/1e3}s and the destination is close enough to the starting screen, or
  - shorter than ${l/1e3}s and the start point is close enough to the destination screen`),!1}return!0}p([y()],kp.prototype,"easing",void 0),p([y()],kp.prototype,"view",void 0),p([y()],kp.prototype,"viewpoint",void 0),kp=p([G("esri.views.2d.AnimationManager")],kp);const nae=kp;var Dn;(function(e){e[e.ANIMATING=0]="ANIMATING",e[e.INTERACTING=1]="INTERACTING",e[e.IDLE=2]="IDLE"})(Dn||(Dn={}));const b7=Symbol("Yield");let iae=class{constructor(){this._tasks=new Array,this._runningTasks=v0(0)}get length(){return this._tasks.length}get running(){return this._runningTasks.value>0}destroy(){this.cancelAll()}runTask(t){if(this.length===0)return b7;for(;!t.done&&this._process(t);)t.madeProgress()}push(t,r,n){return++this._runningTasks.value,new Promise((i,s)=>this._tasks.push(new RI(i,s,t,r,n))).finally(()=>--this._runningTasks.value)}unshift(t,r,n){return++this._runningTasks.value,new Promise((i,s)=>this._tasks.unshift(new RI(i,s,t,r,n))).finally(()=>--this._runningTasks.value)}_process(t){if(this._tasks.length===0)return!1;const r=this._tasks.shift();try{const n=Do(r.signal);if(n&&!r.abortCallback)r.reject(Sr());else{const i=n?r.abortCallback?.(Sr()):r.callback(t);Da(i)?i.then(r.resolve,r.reject):r.resolve(i)}}catch(n){r.reject(n)}return!0}cancelAll(){const t=Sr();for(const r of this._tasks)if(r.abortCallback){const n=r.abortCallback(t);r.resolve(n)}else r.reject(t);this._tasks.length=0}},RI=class{constructor(t,r,n,i=void 0,s=void 0){this.resolve=t,this.reject=r,this.callback=n,this.signal=i,this.abortCallback=s}},by=class extends He{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};p([y()],by.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),p([y()],by.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),by=p([G("esri.views.support.debugFlags")],by);const sae=new by;function oae(){return new a_.Scheduler}var bt;(function(e){e.RESOURCE_CONTROLLER_IMMEDIATE="immediate",e.RESOURCE_CONTROLLER="schedule",e.SLIDE="slide",e.STREAM_DATA_LOADER="stream loader",e.ELEVATION_QUERY="elevation query",e.TERRAIN_SURFACE="terrain",e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",e.LOD_RENDERER="LoD renderer",e.GRAPHICS_CORE="Graphics3D",e.I3S_CONTROLLER="I3S",e.POINT_CLOUD_LAYER="point cloud",e.FEATURE_TILE_FETCHER="feature fetcher",e.OVERLAY="overlay",e.STAGE="stage",e.GRAPHICS_DECONFLICTOR="graphics deconflictor",e.FILTER_VISIBILITY="Graphics3D filter visibility",e.SCALE_VISIBILITY="Graphics3D scale visibility",e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",e.POINT_OF_INTEREST_FREQUENT="POI frequent",e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",e.LABELER="labeler",e.FEATURE_QUERY_ENGINE="feature query",e.FEATURE_TILE_TREE="feature tile tree",e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",e.ELEVATION_ALIGNMENT="elevation alignment",e.ELEVATION_ALIGNMENT_SCENE="elevation alignment scene",e.TEXT_TEXTURE_ATLAS="text texture atlas",e.TEXTURE_UNLOAD="texture unload",e.LINE_OF_SIGHT_TOOL="line of sight tool",e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",e.ELEVATION_PROFILE="elevation profile",e.SNAPPING="snapping",e.SHADOW_ACCUMULATOR="shadow accumulator",e.CLOUDS_GENERATOR="clouds generator",e.MAPVIEW_FETCH_QUEUE="mapview fetch queue",e.MAPVIEW_LAYERVIEW_UPDATE="mapview layerview update",e.MAPVIEW_VECTOR_TILE_PARSING_QUEUE="mapview vector tile parsing queue",e[e.NONE=0]="NONE",e[e.TEST_PRIO=1]="TEST_PRIO"})(bt||(bt={}));const Is=0,PI=new Map([[bt.RESOURCE_CONTROLLER_IMMEDIATE,Is],[bt.RESOURCE_CONTROLLER,4],[bt.SLIDE,Is],[bt.STREAM_DATA_LOADER,Is],[bt.ELEVATION_QUERY,Is],[bt.TERRAIN_SURFACE,1],[bt.SURFACE_GEOMETRY_UPDATES,1],[bt.LOD_RENDERER,2],[bt.GRAPHICS_CORE,2],[bt.I3S_CONTROLLER,2],[bt.POINT_CLOUD_LAYER,2],[bt.FEATURE_TILE_FETCHER,2],[bt.CLOUDS_GENERATOR,2],[bt.OVERLAY,4],[bt.STAGE,4],[bt.GRAPHICS_DECONFLICTOR,4],[bt.FILTER_VISIBILITY,4],[bt.SCALE_VISIBILITY,4],[bt.FRUSTUM_VISIBILITY,4],[bt.POINT_OF_INTEREST_FREQUENT,6],[bt.POINT_OF_INTEREST_INFREQUENT,30],[bt.LABELER,8],[bt.FEATURE_QUERY_ENGINE,8],[bt.FEATURE_TILE_TREE,16],[bt.FEATURE_TILE_TREE_ACTIVE,Is],[bt.ELEVATION_ALIGNMENT,12],[bt.ELEVATION_ALIGNMENT_SCENE,14],[bt.TEXT_TEXTURE_ATLAS,12],[bt.TEXTURE_UNLOAD,12],[bt.LINE_OF_SIGHT_TOOL,16],[bt.LINE_OF_SIGHT_TOOL_INTERACTIVE,Is],[bt.SNAPPING,Is],[bt.SHADOW_ACCUMULATOR,30],[bt.MAPVIEW_FETCH_QUEUE,Is],[bt.MAPVIEW_LAYERVIEW_UPDATE,2],[bt.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,Is]]);function OI(e){return PI.has(e)?PI.get(e):typeof e=="number"?e:1}const aae=6.5,II=1,lae=30,uae=1e3/30,cae=100,NI=.9;var a_,rd;(function(e){class t{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some(s=>s.needsUpdate)}constructor(){this._updating=v0(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new Iy("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new n,this._state=Dn.INTERACTING,this._tasks=new Ny,this._runQueue=new Ny,this._load=0,this._idleStateCallbacks=new Ny,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=dt(()=>sae.SCHEDULER_LOG_SLOW_TASKS,s=>this._debug=s,Hn);for(const s of Object.keys(bt))this.performanceInfo.tasks.set(bt[s],new Iy(bt[s]))}destroy(){this._tasks.toArray().forEach(s=>s.remove()),this._tasks.clear(),_r(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(s){this._updatingChanged(),s&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this.frame())}))}registerTask(s,o){const l=new r(this,s,o);return this._tasks.push(l),this._updatingChanged(),this.performanceInfo.tasks.has(s)||this.performanceInfo.tasks.set(s,new Iy(s)),l}registerIdleStateCallbacks(s,o){const l={idleBegin:s,idleEnd:o};this._idleStateCallbacks.push(l),this.state===Dn.IDLE&&this._idleUpdatesStartFired&&l.idleBegin();const c=this;return{remove:()=>this._removeIdleStateCallbacks(l),set idleBegin(d){c._idleUpdatesStartFired&&(l.idleEnd(),c._state===Dn.IDLE&&d()),l.idleBegin=d},set idleEnd(d){l.idleEnd=d}}}get load(){return this._load}set state(s){this._state!==s&&(this._state=s,this.state!==Dn.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(o=>o.idleEnd())))}get state(){return this._state}updateBudget(s){this._test&&(this._test.usedBudget=0),++this._frameNumber;let o=aae,l=s.frameDuration,c=II;switch(this.state){case Dn.IDLE:o=0,l=Math.max(cae,s.frameDuration),c=lae;break;case Dn.INTERACTING:l=Math.max(uae,s.frameDuration);case Dn.ANIMATING:}return l=l-s.elapsedFrameTime-o,this.state!==Dn.IDLE&&l<II&&!this._forceTask?(this._forceTask=!0,!1):(l=Math.max(l,c),this._budget.reset(l,this.state),this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case Dn.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(s=>s.idleBegin())),this._runIdle();break;case Dn.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset(0,this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(s){this._idleUpdatesStartFired&&s.idleEnd(),this._idleStateCallbacks.removeUnordered(s)}removeTask(s){this._tasks.removeUnordered(s),this._runQueue.removeUnordered(s),this._updatingChanged()}_updateTask(s){this._tasks.forAll(o=>{o.name===s&&o.setPriority(s)})}_getState(s){if(this._runQueue.some(l=>l.name===s))return rd.SCHEDULED;let o=rd.IDLE;return this._tasks.forAll(l=>{l.name===s&&l.needsUpdate&&(l.schedulePriority<=1?o=rd.READY:o!==rd.READY&&(o=rd.WAITING))}),o}_getRuntime(s){let o=0;return this._tasks.forAll(l=>{l.name===s&&(o+=l.runtime)}),o}_resetRuntimes(){this._tasks.forAll(s=>s.runtime=0)}_getRunning(){const s=new Map;if(this._tasks.forAll(l=>{l.needsUpdate&&s.set(l.name,(s.get(l.name)||0)+1)}),s.size===0)return null;let o="";return s.forEach((l,c)=>{o+=l>1?` ${l}x ${c}`:` ${c}`}),o}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const s=this._tasks.reduce((o,l)=>l.needsUpdate?++o:o,0);this._load=this._load*NI+s*(1-NI)}_schedule(){for(this._runQueue.filterInPlace(s=>!!s.needsUpdate||(s.schedulePriority=s.basePriority,!1)),this._tasks.forAll(s=>{s.basePriority===Is&&s.needsUpdate&&!this._runQueue.includes(s)&&s.blockFrame!==this._frameNumber&&this._runQueue.unshift(s)});this._runQueue.length===0;){let s=!1,o=0;if(this._tasks.forAll(l=>{l.needsUpdate&&l.schedulePriority!==0&&l.basePriority!==Is&&l.blockFrame!==this._frameNumber&&(s=!0,o=Math.max(o,l.basePriority),l.schedulePriority===1?(l.schedulePriority=0,this._runQueue.push(l)):--l.schedulePriority)}),!s)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){const s=this._budget.now();this._startFrameTaskTimes();do for(;this._runQueue.length>0;){const o=this._budget.now(),l=this._runQueue.pop();this._budget.resetProgress();try{l.task.runTask(this._budget)===b7&&(l.blockFrame=this._frameNumber)}catch(d){Ne.getLogger("esri.views.support.Scheduler").error(`Exception in task "${l.name}"`,d),l.blockFrame=this._frameNumber}!this._budget.hasProgressed&&l.blockFrame!==this._frameNumber&&l.needsUpdate&&(l.name,bt.I3S_CONTROLLER,l.blockFrame=this._frameNumber),l.schedulePriority=l.basePriority;const c=this._budget.now()-o;if(l.runtime+=c,this._frameTaskTimes.set(l.priority,this._frameTaskTimes.get(l.priority)+c),this._budget.remaining<=0)return this._updatingChanged(),void this._recordFrameTaskTimes(this._budget.now()-s)}while(this._schedule());this._updatingChanged(),this._recordFrameTaskTimes(this._budget.now()-s)}_startFrameTaskTimes(){for(const s of Object.keys(bt))this._frameTaskTimes.set(bt[s],0)}_recordFrameTaskTimes(s){this._frameTaskTimes.forEach((o,l)=>this.performanceInfo.tasks.get(l).push(o)),this.performanceInfo.total.push(s)}get test(){return this._test}}e.Scheduler=t;class r{get task(){return this._task.value}get updating(){return this._queue.running}constructor(s,o,l){this._scheduler=s,this.name=o,this.blockFrame=0,this.runtime=0,this._queue=new iae,this._handles=new Sf,this._basePriority=OI(o),this.schedulePriority=this._basePriority,this._task=v0(l??this._queue),this._handles.add(Pa(()=>this.task.running,c=>s.taskRunningChanged(c)))}remove(){this.processQueue(E7),this._scheduler.removeTask(this),this.schedule=LI.schedule,this.reschedule=LI.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(s){if(this.name===s)return;this.name=s;const o=OI(s);this._basePriority!==Is&&this.schedulePriority===0||(this.schedulePriority=o),this._basePriority=o}get priority(){return this.name}set priority(s){this.setPriority(s)}get needsUpdate(){return this.updating||this.task.running}schedule(s,o,l){return this._queue.push(s,o,l)}reschedule(s,o,l){return this._queue.unshift(s,o,l)}processQueue(s){return this._queue.runTask(s)}}class n{constructor(){this._begin=typeof performance<"u"?performance.now():0,this._budget=0,this._state=Dn.IDLE,this._done=!1,this._progressed=!1,this._enabled=!0}run(s){return!this.done&&(s()===!0&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get state(){return this._state}get enabled(){return this._enabled}set enabled(s){this._enabled=s}reset(s,o){this._begin=this.now(),this._budget=s,this._state=o,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}e.Budget=n})(a_||(a_={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(rd||(rd={}));const E7=(()=>{const e=new a_.Budget;return e.enabled=!1,e})();let dae=class{remove(){}processQueue(){}schedule(t,r,n){try{if(Do(r)){const i=Sr();return n?Promise.resolve(n(i)):Promise.reject(i)}return iT(t(E7))}catch(i){return Promise.reject(i)}}reschedule(t,r,n){return this.schedule(t,r,n)}};const LI=new dae;let hae=class{constructor(t){this.view=t,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=oae(),this.stationary=!0,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),this.view.animation?.target==null||Da(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=r=>{if(this._updateRequested=!1,this.view?.destroyed)return;const{allLayerViews:n,graphicsView:i,labelManager:s,state:{id:o}}=this.view;n.forEach(this._updateLayerView,this),s!=null&&(s.lastUpdateId!==o&&(s.viewChange(),s.lastUpdateId=o),s.updateRequested&&s.processUpdate(this._updateParameters)),i!=null&&(i.lastUpdateId!==o&&(i.viewChange(),i.lastUpdateId=o),i.updateRequested&&i.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.view.animation?this._scheduler.state=Dn.ANIMATING:this.view.interacting?this._scheduler.state=Dn.INTERACTING:this._scheduler.state=Dn.IDLE,this._scheduler.updateBudget(r)&&this._scheduler.frame()}}destroy(){this.stop(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;const t=this.view;this.stationary=t.stationary,this._updateParameters={state:t.state,targetState:new Fk,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:t.renderingOptions},this._stationaryHandle=dt(()=>t.stationary,r=>{this.stationary=r,this.requestFrame()}),this._frameTaskHandle=of(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle?.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){if(!t.attached)return void this.requestUpdate();const r=this.view.state,n=t.lastUpdateId;n!=null&&(this.stationary||t.moving)||(t.moving=!0),n!==r.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=r.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&t.layerViews?.forEach(this._updateLayerView,this)}},nw=class extends He{constructor(t){super(t),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(t,r){if(!t)return void Ne.getLogger(this).error("#goTo()","target cannot be null or undefined");const n=new Dx;this.view.animation=n,await bM(()=>this.view.ready,r);const i={...r,animate:r?.animate??!T9(),animationMode:r?.animationMode??"auto"},{extent:s,spatialReference:o,size:l,viewpoint:c,constraints:d,padding:m,allLayerViews:g}=this.view,w=wse(t,{extent:s,spatialReference:o,size:l,viewpoint:c,constraints:d,padding:m,allLayerViews:g,pickClosestTarget:r?.pickClosestTarget??!0});return n?.update(w),this._gotoTask={},i.animate?this._gotoAnimated(w,i):this._gotoImmediate(w,i)}_gotoImmediate(t,r){const n=this._gotoTask,i=this.view.animation,s=t.then(o=>{if(br(r),n!==this._gotoTask)throw new fe("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=i.target=o,i.finish()});return this._cancellableGoTo(n,i,s,r)}_gotoAnimated(t,r){const n=this._gotoTask,i=this.view.animation;if(!i)return Promise.resolve();const s=t.then(o=>{if(br(r),n!==this._gotoTask)throw new fe("view:goto-interrupted","Goto was interrupted");return i.update(o),this.view.animationManager.animate(i,this.view.viewpoint,r),i.when().then(()=>{},()=>{})});return this._cancellableGoTo(n,i,s,r)}_cancellableGoTo(t,r,n,i){const s=()=>t===this._gotoTask;return hB(n,i).finally(()=>{s()&&(r.done||r.stop())})}};p([y({constructOnly:!0})],nw.prototype,"view",void 0),nw=p([G("esri.views.2d.GoToManager")],nw);function ur(){return Promise.all([ke(()=>import("./webglDeps-D1IzJSuw.js"),__vite__mapDeps([204,79,78,140,205,142])),ke(()=>import("./mapViewDeps-CL_MRX6o.js"),__vite__mapDeps([206,109,8,9,80,81,19,82,77,83,84,76,78,79,49,85,38,86,43,207,142,92,208,205,100,209,129,128,91,21,22,210,120,154,6,89,90,127,204,140,211,95,212,75,31,32,25,26,16,87,34,74,213,138,135,122,139,214,63,215,93,88,216,217,218,219,220,221,134,222,223]))])}const Am=()=>ur().then(()=>ke(()=>import("./TileLayerView2D-9DLp_Qd_.js"),__vite__mapDeps([224,109,8,9,83,77,120,80,81,19,82,84,76,78,79,49,85,38,86,43,154,6,209,208,142,205,100,129,128,91,21,22,127,211,95,212,75,31,32,25,26,16,87,34,74,63,207,92,89,90,138,135,122,216,217,225,226,221,227,187,228,219,220,229,230,198,199,159,35,222,231,232,233,234]))),nd=()=>ur().then(()=>ke(()=>import("./FeatureLayerView2D-CypG8KMD.js").then(e=>e.F),__vite__mapDeps([235,209,21,19,22,171,236,158,227,187,220,80,81,82,77,83,84,76,78,79,49,85,38,86,43,8,9,221,208,142,205,100,129,128,91,207,92,95,150,177,174,87,152,7,210,120,237,231,234,229]))),DI={"base-dynamic":()=>ur().then(()=>ke(()=>import("./BaseDynamicLayerView2D-D8k9pxpo.js"),__vite__mapDeps([238,239,208,76,77,78,79,49,142,205,100,209,129,128,91,21,19,22,227,187,240,226,229]))),"base-tile":Am,"bing-maps":Am,catalog:()=>ur().then(()=>ke(()=>import("./CatalogLayerView2D-CUK9Cy5w.js"),__vite__mapDeps([241,227,209,187]))),"catalog-dynamic-group":()=>ur().then(()=>ke(()=>import("./CatalogDynamicGroupLayerView2D-DxbRhWqV.js"),__vite__mapDeps([242,227,209,187]))),"catalog-footprint":()=>ur().then(()=>ke(()=>import("./CatalogFootprintLayerView2D-BC6kqLAp.js"),__vite__mapDeps([243,235,209,21,19,22,171,236,158,227,187,220,80,81,82,77,83,84,76,78,79,49,85,38,86,43,8,9,221,208,142,205,100,129,128,91,207,92,95,150,177,174,87,152,7,210,120,237,231,234,229]))),csv:nd,"geo-rss":()=>ur().then(()=>ke(()=>import("./GeoRSSLayerView2D-DK7loNop.js"),__vite__mapDeps([244,148,149,102,74,112,150,151,152,85,38,153,29,34,32,154,109,8,9,83,77,6,7,158,227,209,187,218,219,220,80,81,19,82,84,76,78,79,49,86,43,221,208,142,205,100,129,128,91,21,22,207,92,216,75,31,25,26,16,87,217]))),feature:nd,geojson:nd,parquet:nd,graphics:()=>ur().then(()=>ke(()=>import("./GraphicsLayerView2D-rJXfve1C.js"),__vite__mapDeps([245,227,209,187,218,219,220,80,81,19,82,77,83,84,76,78,79,49,85,38,86,43,8,9,221,208,142,205,100,129,128,91,21,22,207,92,216,34,32,154,109,6,75,31,25,26,16,87,74,217,237]))),group:()=>ur().then(()=>ke(()=>import("./GroupLayerView2D-BJ8V6UaP.js"),__vite__mapDeps([246,227,209,187]))),imagery:()=>ur().then(()=>ke(()=>import("./ImageryLayerView2D-ChVWOvEv.js"),__vite__mapDeps([247,248,79,142,49,107,208,76,77,78,205,100,209,129,128,91,21,19,22,227,187,216,34,32,80,81,82,83,84,85,38,86,43,8,9,154,109,6,75,31,25,26,16,87,74,207,92,217,228,219,220,221,239,226,240,111,236,234,229]))),"imagery-tile":()=>ur().then(()=>ke(()=>import("./ImageryTileLayerView2D-BwyxdwEJ.js"),__vite__mapDeps([249,250,248,79,142,49,107,208,76,77,78,205,100,209,129,128,91,21,19,22,227,187,251,221,252,111,236,234,229]))),kml:()=>ur().then(()=>ke(()=>import("./KMLLayerView2D-t_PX4l6Y.js"),__vite__mapDeps([253,254,148,149,102,74,112,150,151,152,85,38,153,29,34,32,154,109,8,9,83,77,6,7,158,226,209,239,208,76,78,79,49,142,205,100,129,128,91,21,19,22,227,187,218,219,220,80,81,82,84,86,43,221,207,92,216,75,31,25,26,16,87,217,111,213,204,140,138,135,122,212,120,139,251]))),"knowledge-graph":()=>ur().then(()=>ke(()=>import("./KnowledgeGraphLayerView2D-BkGXYrKy.js"),__vite__mapDeps([255,227,209,187]))),"link-chart":()=>ur().then(()=>ke(()=>import("./KnowledgeGraphLayerView2D-BkGXYrKy.js"),__vite__mapDeps([255,227,209,187]))),"knowledge-graph-sublayer":nd,"map-image":()=>ur().then(()=>ke(()=>import("./MapImageLayerView2D-FJh7cAzZ.js"),__vite__mapDeps([256,239,208,76,77,78,79,49,142,205,100,209,129,128,91,21,19,22,227,187,216,34,32,80,81,82,83,84,85,38,86,43,8,9,154,109,6,75,31,25,26,16,87,74,207,92,217,228,219,220,221,240,226,257,222,231,233,236,229,230,198,199,159,35,232,234]))),"map-notes":()=>ur().then(()=>ke(()=>import("./MapNotesLayerView2D-BCPE3QCB.js"),__vite__mapDeps([258,227,209,187,218,219,220,80,81,19,82,77,83,84,76,78,79,49,85,38,86,43,8,9,221,208,142,205,100,129,128,91,21,22,207,92,216,34,32,154,109,6,75,31,25,26,16,87,74,217]))),media:()=>ur().then(()=>ke(()=>import("./MediaLayerView2D-GkHkQs-l.js"),__vite__mapDeps([259,149,102,74,112,150,151,152,85,38,153,148,29,34,32,154,109,8,9,83,77,6,7,260,217,53,120,80,81,19,82,84,76,78,79,49,86,43,209,208,142,205,100,129,128,91,21,22,127,211,95,212,75,31,25,26,16,87,63,207,92,89,90,138,135,122,216,215,93,261,227,187]))),"ogc-feature":()=>ur().then(()=>ke(()=>import("./OGCFeatureLayerView2D-yl0e6sFA.js"),__vite__mapDeps([262,235,209,21,19,22,171,236,158,227,187,220,80,81,82,77,83,84,76,78,79,49,85,38,86,43,8,9,221,208,142,205,100,129,128,91,207,92,95,150,177,174,87,152,7,210,120,237,231,234,229]))),"open-street-map":Am,"oriented-imagery":nd,route:()=>ur().then(()=>ke(()=>import("./RouteLayerView2D-Chq6rOjy.js"),__vite__mapDeps([263,264,227,209,187,218,219,220,80,81,19,82,77,83,84,76,78,79,49,85,38,86,43,8,9,221,208,142,205,100,129,128,91,21,22,207,92,216,34,32,154,109,6,75,31,25,26,16,87,74,217]))),stream:()=>ur().then(()=>ke(()=>import("./StreamLayerView2D-DQ6Im5S6.js"),__vite__mapDeps([265,158,235,209,21,19,22,171,236,227,187,220,80,81,82,77,83,84,76,78,79,49,85,38,86,43,8,9,221,208,142,205,100,129,128,91,207,92,95,150,177,174,87,152,7,210,120,237,231,234,229]))),"subtype-group":()=>ur().then(()=>ke(()=>import("./SubtypeGroupLayerView2D-CrWCyaiI.js"),__vite__mapDeps([266,235,209,21,19,22,171,236,158,227,187,220,80,81,82,77,83,84,76,78,79,49,85,38,86,43,8,9,221,208,142,205,100,129,128,91,207,92,95,150,177,174,87,152,7,210,120,237,231,234,229]))),tile:Am,"vector-tile":()=>ur().then(()=>ke(()=>import("./VectorTileLayerView2D-CqjFaTk7.js"),__vite__mapDeps([267,74,127,84,63,214,120,92,29,82,79,142,128,208,76,77,78,49,205,100,209,129,91,21,19,22,221,24,130,131,109,8,9,227,187,229]))),video:()=>ur().then(()=>ke(()=>import("./VideoLayerView2D-CyAUvMRE.js"),__vite__mapDeps([268,269,261,100,208,76,77,78,79,49,142,205,209,129,128,91,21,19,22,207,80,81,82,83,84,85,38,86,43,8,9,92,227,187,218,219,220,221,216,34,32,154,109,6,75,31,25,26,16,87,74,217]))),wcs:()=>ur().then(()=>ke(()=>import("./ImageryTileLayerView2D-BwyxdwEJ.js"),__vite__mapDeps([249,250,248,79,142,49,107,208,76,77,78,205,100,209,129,128,91,21,19,22,227,187,251,221,252,111,236,234,229]))),"web-tile":Am,wfs:nd,wms:()=>ur().then(()=>ke(()=>import("./WMSLayerView2D-DY17Q1Zl.js"),__vite__mapDeps([270,239,208,76,77,78,79,49,142,205,100,209,129,128,91,21,19,22,227,187,240,226,229,271,236]))),wmts:()=>ur().then(()=>ke(()=>import("./WMTSLayerView2D-BSGNE5yp.js"),__vite__mapDeps([272,225,226,209,208,76,77,78,79,49,142,205,100,129,128,91,21,19,22,221,227,187,229]))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,focusArea:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,viewshed:null,voxel:null,scene:null,unknown:null,unsupported:null};function pae(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",r=t.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new fe(`${r}:view-not-supported`,`${t} is not supported in 2D`)}const FI={hasLayerViewModule:e=>DI[e.type]!=null,importLayerView:e=>{const t=DI[e.type];if(t==null)throw pae(e);return t(e)}};function fae(e,t){const{spatialReference:r}=t,n=[t.x,t.y];let i=Number.POSITIVE_INFINITY,s=0,o=0;const l=[0,0],c=e.type==="extent"?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:e.rings;for(const d of c)for(let m=0;m<d.length-1;m++){YW(l,n,d,m);const g=ES(n,l);g<i&&(i=g,s=l[0],o=l[1])}return{coordinate:new yt({x:s,y:o,spatialReference:r}),distance:i}}var Bx;let Vd=Bx=class extends rk(He){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return kc(this.geometry,this.spatialReference)}catch(e){return Ne.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(this.normalizedGeometry==null)return e;const r=e.targetGeometry;if(this.normalizedGeometry.type==="extent"?H0(this.normalizedGeometry,r):uM(this.normalizedGeometry,r))return e;const{coordinate:n}=fae(this.normalizedGeometry,r);return n&&(e.targetGeometry=n),e}clone(){return new Bx({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};p([y({constructOnly:!0})],Vd.prototype,"geometry",void 0),p([y({readOnly:!0})],Vd.prototype,"normalizedGeometry",null),p([y({constructOnly:!0})],Vd.prototype,"spatialReference",void 0),Vd=Bx=p([G("esri.views.2d.constraints.GeometryConstraint")],Vd);var Hx;let Ey=Hx=class extends rk(He){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new Hx({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};p([y()],Ey.prototype,"enabled",void 0),p([y()],Ey.prototype,"rotationEnabled",void 0),Ey=Hx=p([G("esri.views.2d.constraints.RotationConstraint")],Ey);const T7=Ey;var Wx;let ki=Wx=class extends rk(He){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:r,maxScale:n,minZoom:i,maxZoom:s}=this,o=-1,l=-1,c=!1,d=!1;if(r!==0&&n!==0&&r<n&&([r,n]=[n,r]),!t?.length)return this._set("effectiveMinScale",r),void this._set("effectiveMaxScale",n);t=t.map(m=>m.clone()),t.sort((m,g)=>g.scale-m.scale),t.forEach((m,g)=>m.level=g);for(const m of t)!c&&r>0&&r>=m.scale&&(o=m.level,c=!0),!d&&n>0&&n>=m.scale&&(l=e?e.level:-1,d=!0),e=m;i===-1&&(i=r===0?0:o),s===-1&&(s=n===0?t.length-1:l),i=Math.max(i,0),i=Math.min(i,t.length-1),s=Math.max(s,0),s=Math.min(s,t.length-1),i>s&&([i,s]=[s,i]),r=t[i].scale,n=t[s].scale,t.splice(0,i),t.splice(s-i+1,t.length),t.forEach((m,g)=>{this._lodByScale[m.scale]=m,this._scales[g]=m.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",i),this._set("effectiveMaxZoom",s),this._set("effectiveMinScale",r),this._set("effectiveMaxScale",n)}constrain(e,t){if(t&&e.scale===t.scale)return e;const r=this.effectiveMinScale,n=this.effectiveMaxScale,i=e.targetGeometry,s=t&&t.targetGeometry,o=n!==0&&e.scale<n,l=r!==0&&e.scale>r;if(o||l){const c=l?r:n;if(t&&s){const d=(c-t.scale)/(e.scale-t.scale);i.x=s.x+(i.x-s.x)*d,i.y=s.y+(i.y-s.y)*d}e.scale=c}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),r=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(r>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const r=Math.floor(e),n=Math.ceil(e);return t[r]+(e-r)*(t[n]-t[r])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let r,n;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let i=0;i<t.length-1;i++){if(r=t[i],n=t[i+1],n===e)return i+this.effectiveMinZoom+1;if(r>e&&n<e)return i+this.effectiveMinZoom+1-(e-n)/(r-n)}return-1}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r-1)}clone(){return new Wx({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,r)=>Math.abs(r-e)<=Math.abs(t-e)?r:t,this._scales[0])),this._lodByScale[e].scale}};p([y({readOnly:!0})],ki.prototype,"effectiveLODs",void 0),p([y({readOnly:!0})],ki.prototype,"effectiveMinZoom",void 0),p([y({readOnly:!0})],ki.prototype,"effectiveMaxZoom",void 0),p([y({readOnly:!0})],ki.prototype,"effectiveMinScale",void 0),p([y({readOnly:!0})],ki.prototype,"effectiveMaxScale",void 0),p([y()],ki.prototype,"lods",void 0),p([y()],ki.prototype,"minZoom",void 0),p([y()],ki.prototype,"maxZoom",void 0),p([y()],ki.prototype,"minScale",void 0),p([y()],ki.prototype,"maxScale",void 0),p([y()],ki.prototype,"snapToZoom",void 0),ki=Wx=p([G("esri.views.2d.constraints.ZoomConstraint")],ki);const $7=ki,mae={base:null,key:"type",typeMap:{extent:tr,polygon:Ra}};let Dr=class extends He{constructor(t){super(t),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new Ye}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(t){t?this._set("geometry",t):this._set("geometry",null)}get version(){return`${this._zoom?.uid}/${this._rotation?.uid}/${this._geometry?.uid}`}get _geometry(){const t=this._get("_geometry");return t&&this.geometry===t.geometry&&this.view?.constraintsInfo.spatialReference===t.spatialReference?t:new Vd({geometry:this.geometry,spatialReference:this.view?.constraintsInfo.spatialReference})}get _rotation(){return new T7({rotationEnabled:this.rotationEnabled})}get _zoom(){const t=this._get("_zoom"),r=this.lods||this.view?.constraintsInfo.lods,n=this.minZoom,i=this.maxZoom,s=this.minScale,o=this.maxScale,l=this.snapToZoom;return t&&t.lods===r&&t.minZoom===n&&t.maxZoom===i&&t.minScale===s&&t.maxScale===o&&t.snapToZoom===l?t:new $7({lods:r,minZoom:n,maxZoom:i,minScale:s,maxScale:o,snapToZoom:l})}canZoomInTo(t){const r=this.effectiveMaxScale;return r===0||t>=r}canZoomOutTo(t){const r=this.effectiveMinScale;return r===0||t<=r}constrain(t,r){return this._zoom.constrain(t,r),this._rotation.constrain(t,r),this._geometry.constrain(t,r),this.customConstraints.forEach(n=>n.constrain(t,r)),t}constrainByGeometry(t){return this._geometry.constrain(t),this.customConstraints.forEach(r=>r.applyPanConstraint?.(t)),t}fit(t){return this._zoom.fit(t)}zoomToScale(t){return this._zoom.zoomToScale(t)}scaleToZoom(t){return this._zoom.scaleToZoom(t)}snapScale(t){return this._zoom.snapToClosestScale(t)}snapToNextScale(t){return this._zoom.snapToNextScale(t)}snapToPreviousScale(t){return this._zoom.snapToPreviousScale(t)}};p([y({readOnly:!0})],Dr.prototype,"effectiveLODs",null),p([y({readOnly:!0})],Dr.prototype,"effectiveMinScale",null),p([y({readOnly:!0})],Dr.prototype,"effectiveMaxScale",null),p([y({readOnly:!0})],Dr.prototype,"effectiveMinZoom",null),p([y({readOnly:!0})],Dr.prototype,"effectiveMaxZoom",null),p([y({types:mae,value:null})],Dr.prototype,"geometry",null),p([y({type:[Gt]})],Dr.prototype,"lods",void 0),p([y()],Dr.prototype,"minScale",void 0),p([y()],Dr.prototype,"maxScale",void 0),p([y()],Dr.prototype,"minZoom",void 0),p([y()],Dr.prototype,"maxZoom",void 0),p([y()],Dr.prototype,"rotationEnabled",void 0),p([y()],Dr.prototype,"snapToZoom",void 0),p([y({type:Ye})],Dr.prototype,"customConstraints",void 0),p([y()],Dr.prototype,"view",void 0),p([y({readOnly:!0})],Dr.prototype,"version",null),p([y({type:Vd,readOnly:!0})],Dr.prototype,"_geometry",null),p([y({type:T7})],Dr.prototype,"_rotation",null),p([y({readOnly:!0,type:$7})],Dr.prototype,"_zoom",null),Dr=p([G("esri.views.2d.MapViewConstraints")],Dr);const x7=Dr;let bc=class Od{static getId(t,r,n,i){return typeof t=="object"?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${r}/${n}/${i}`}constructor(t,r,n,i){this.set(t,r,n,i)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(t){this.set(t)}get hash(){const t=4095&this.row,r=4095&this.col,n=63&this.level;return(3&this.world)<<30|r<<22|t<<8|n}acquire(t,r,n,i){this.set(t,r,n,i)}contains(t){const r=t.level-this.level;return r>=0&&this.row===t.row>>r&&this.col===t.col>>r&&this.world===t.world}containsChild(t){const r=t.level-this.level;return r>0&&this.row===t.row>>r&&this.col===t.col>>r&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new Od(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,r,n,i){if(t==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof t=="object")this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if(typeof t=="string"){const[s,o,l,c]=t.split("/");this.level=parseFloat(s),this.row=parseFloat(o),this.col=parseFloat(l),this.world=parseFloat(c)}else this.level=+t,this.row=+r,this.col=+n,this.world=+i||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new Od(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(t,r,n){const i=this.clone();return i.col+=t,i.row+=r,n.normalizeKey(i),i}getChildKeys(){const t=this.level+1,r=this.row<<1,n=this.col<<1,i=this.world;return[new Od(t,r,n,i),new Od(t,r,n+1,i),new Od(t,r+1,n,i),new Od(t,r+1,n+1,i)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}};bc.pool=new wh(bc,null,null,25,50);function op(e,t){return[e,t]}function id(e,t,r){return e[0]=t,e[1]=r,e}function yae(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}const yo=new bc("0/0/0/0");let gae=class M7{static create(t,r,n=null){const i=ii(t.spatialReference),s=r.origin||op(t.origin.x,t.origin.y),o=op(t.size[0]*r.resolution,t.size[1]*r.resolution),l=op(-1/0,-1/0),c=op(1/0,1/0),d=op(1/0,1/0);n!=null&&(id(l,Math.max(0,Math.floor((n.xmin-s[0])/o[0])),Math.max(0,Math.floor((s[1]-n.ymax)/o[1]))),id(c,Math.max(0,Math.floor((n.xmax-s[0])/o[0])),Math.max(0,Math.floor((s[1]-n.ymin)/o[1]))),id(d,c[0]-l[0]+1,c[1]-l[1]+1));const{cols:m,rows:g}=r;let w,S,$,x;return!n&&m&&g&&(id(l,m[0],g[0]),id(c,m[1],g[1]),id(d,m[1]-m[0]+1,g[1]-g[0]+1)),t.isWrappable?(w=op(Math.ceil(Math.round((i.valid[1]-i.valid[0])/r.resolution)/t.size[0]),d[1]),S=!0,$=i.origin,x=i.valid):(w=d,S=!1),new M7(r.level,r.resolution,r.scale,s,l,c,d,o,w,S,$,x)}constructor(t,r,n,i,s,o,l,c,d,m,g,w){this.level=t,this.resolution=r,this.scale=n,this.origin=i,this.first=s,this.last=o,this.size=l,this.norm=c,this.worldSize=d,this.wrap=m,this._spatialReferenceOrigin=g,this._spatialReferenceValid=w}normalizeCol(t){if(!this.wrap)return t;const r=this.worldSize[0];return t<0?r-1-Math.abs((t+1)%r):t%r}normalizeKey(t){if(!this.wrap)return;const r=this.worldSize[0],n=t.col;n<0?(t.col=n+r,t.world-=1):n>=r&&(t.col=n-r,t.world+=1)}denormalizeCol(t,r){return this.wrap?this.worldSize[0]*r+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){const r=this.origin[0]+t*this.norm[0],n=this._spatialReferenceOrigin,i=this._spatialReferenceValid;return this.wrap&&n&&i?r===n[0]?i[0]:this.origin[0]===n[0]&&t===this.worldSize[0]?i[1]:r:r}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,r,n=!1){yo.set(r);const i=n?yo.col:this.denormalizeCol(yo.col,yo.world),s=yo.row;return yae(t,this.getXForColumn(i),this.getYForRow(s+1),this.getXForColumn(i+1),this.getYForRow(s)),t}getTileCoords(t,r,n=!1){yo.set(r);const i=n?yo.col:this.denormalizeCol(yo.col,yo.world);return Array.isArray(t)?id(t,this.getXForColumn(i),this.getYForRow(yo.row)):(t.x=this.getXForColumn(i),t.y=this.getYForRow(yo.row)),t}},P0=class{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}*keys(){const t=this.lodInfo;for(const{row:r,colFrom:n,colTo:i}of this.spans)for(let s=n;s<=i;s++){const o=t.getWorldForColumn(s);yield new bc(t.level,r,t.normalizeCol(s),o)}}forEach(t,r){const{spans:n,lodInfo:i}=this,{level:s}=i;if(n.length!==0)for(const{row:o,colFrom:l,colTo:c}of n)for(let d=l;d<=c;d++)t.call(r,s,o,i.normalizeCol(d),i.getWorldForColumn(d))}};P0.pool=new wh(P0);let fE=class{constructor(t,r,n){this.row=t,this.colFrom=r,this.colTo=n}};const mr=new bc("0/0/0/0");let vae=class k7{static create(t,r){t[1]>r[1]&&([t,r]=[r,t]);const[n,i]=t,[s,o]=r,l=s-n,c=o-i,d=c!==0?l/c:0,m=(Math.ceil(i)-i)*d,g=(Math.floor(i)-i)*d;return new k7(n,Math.floor(i),Math.ceil(o),d,l<0?m:g,l<0?g:m,l<0?s:n,l<0?n:s)}constructor(t,r,n,i,s,o,l,c){this.x=t,this.ymin=r,this.ymax=n,this.invM=i,this.leftAdjust=s,this.rightAdjust=o,this.leftBound=l,this.rightBound=c}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const Zi=[[0,0],[0,0],[0,0],[0,0]],wae=1e-6;let _ae=class{constructor(t,r=null,n=t.lods[0].level,i=t.lods[t.lods.length-1].level){this.tileInfo=t,this.fullExtent=r,this.scales=[],this._infoByScale={},this._infoByLevel={};const s=t.lods.filter(l=>l.level>=n&&l.level<=i);this.minScale=s[0].scale,this.maxScale=s[s.length-1].scale;const o=this._lodInfos=s.map(l=>gae.create(t,l,r));s.forEach((l,c)=>{this._infoByLevel[l.level]=o[c],this._infoByScale[l.scale]=o[c],this.scales[c]=l.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel[typeof t=="number"?t:t.level]}getTileBounds(t,r,n=!1){mr.set(r);const i=this._infoByLevel[mr.level];return i?i.getTileBounds(t,mr,n):t}getTileCoords(t,r,n=!1){mr.set(r);const i=this._infoByLevel[mr.level];return i?i.getTileCoords(t,mr,n):t}getTileCoverage(t,r=192,n=!0,i="closest"){if(!n&&(t.scale>this.minScale||t.scale<this.maxScale))return null;const s=i==="closest"?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),o=P0.pool.acquire(s),l=this._wrap;let c,d,m,g=1/0,w=-1/0;const S=o.spans;Zi[0][0]=Zi[0][1]=Zi[1][1]=Zi[3][0]=-r,Zi[1][0]=Zi[2][0]=t.size[0]+r,Zi[2][1]=Zi[3][1]=t.size[1]+r;for(const P of Zi)t.toMap(P,P),P[0]=s.getColumnForX(P[0]),P[1]=s.getRowForY(P[1]);const $=[];let x=3;for(let P=0;P<4;P++){if(Zi[P][1]===Zi[x][1]){x=P;continue}const F=vae.create(Zi[P],Zi[x]);g=Math.min(F.ymin,g),w=Math.max(F.ymax,w),$[F.ymin]===void 0&&($[F.ymin]=[]),$[F.ymin].push(F),x=P}if(g==null||w==null||w-g>100)return null;let M=[];for(c=g;c<w;){$[c]!=null&&(M=M.concat($[c])),d=1/0,m=-1/0;for(let P=M.length-1;P>=0;P--){const F=M[P];d=Math.min(d,F.getLeftCol()),m=Math.max(m,F.getRightCol())}if(d=Math.floor(d),m=Math.floor(m),c>=s.first[1]&&c<=s.last[1])if(l)if(s.size[0]<s.worldSize[0]){const P=Math.floor(m/s.worldSize[0]);for(let F=Math.floor(d/s.worldSize[0]);F<=P;F++)S.push(new fE(c,Math.max(s.getFirstColumnForWorld(F),d),Math.min(s.getLastColumnForWorld(F),m)))}else S.push(new fE(c,d,m));else d>s.last[0]||m<s.first[0]||(d=Math.max(d,s.first[0]),m=Math.min(m,s.last[0]),S.push(new fE(c,d,m)));c+=1;for(let P=M.length-1;P>=0;P--){const F=M[P];F.ymax>=c?F.incrRow():M.splice(P,1)}}return o}getTileParentId(t){mr.set(t);const r=this._infoByLevel[mr.level],n=this._lodInfos.indexOf(r)-1;return n<0?null:(this._getTileIdAtLOD(mr,this._lodInfos[n],mr),mr.id)}getTileResolution(t){const r=this._infoByLevel[typeof t=="object"?t.level:t];return r?r.resolution:-1}getTileScale(t){const r=this._infoByLevel[t.level];return r?r.scale:-1}intersects(t,r){mr.set(r);const n=this._infoByLevel[mr.level],i=t.lodInfo;if(i.resolution>n.resolution){this._getTileIdAtLOD(mr,i,mr);const o=i.denormalizeCol(mr.col,mr.world);for(const l of t.spans)if(l.row===mr.row&&l.colFrom<=o&&l.colTo>=o)return!0}if(i.resolution<n.resolution){const[o,l,c,d]=t.spans.reduce((x,M)=>(x[0]=Math.min(x[0],M.row),x[1]=Math.max(x[1],M.row),x[2]=Math.min(x[2],M.colFrom),x[3]=Math.max(x[3],M.colTo),x),[1/0,-1/0,1/0,-1/0]),m=n.denormalizeCol(mr.col,mr.world),g=i.getColumnForX(n.getXForColumn(m)),w=i.getRowForY(n.getYForRow(mr.row)),S=i.getColumnForX(n.getXForColumn(m+1))-1,$=i.getRowForY(n.getYForRow(mr.row+1))-1;return!(g>d||S<c||w>l||$<o)}const s=i.denormalizeCol(mr.col,mr.world);return t.spans.some(o=>o.row===mr.row&&o.colFrom<=s&&o.colTo>=s)}normalizeBounds(t,r,n){if(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],this._wrap){const i=ii(this.tileInfo.spatialReference),s=-n*(i.valid[1]-i.valid[0]);t[0]+=s,t[2]+=s}return t}getSmallestInfoForScale(t){const r=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>r[0])return this._infoByScale[r[0]];for(let n=1;n<r.length-1;n++)if(t>r[n]+wae)return this._infoByScale[r[n-1]];return this._infoByScale[r[r.length-1]]}getClosestInfoForScale(t){const r=this.scales;return this._infoByScale[t]||(t=r.reduce((n,i)=>Math.abs(i-t)<Math.abs(n-t)?i:n,r[0])),this._infoByScale[t]}scaleToLevel(t){const r=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let n=r.length-1;n>=0;n--)if(t<r[n])return n===r.length-1?this._infoByScale[r[r.length-1]].level:this._infoByScale[r[n]].level+(r[n]-t)/(r[n]-r[n+1]);return this._infoByScale[r[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}zoomToScale(t){return this.tileInfo.zoomToScale(t)}_getTileIdAtLOD(t,r,n){const i=this._infoByLevel[n.level];return t.set(n),r.resolution<i.resolution?null:(r.resolution===i.resolution||(t.level=r.level,t.col=Math.floor(n.col*i.resolution/r.resolution+.01),t.row=Math.floor(n.row*i.resolution/r.resolution+.01)),t)}},Sae=class{constructor(t,r){this.item=t,this.controller=r,this.promise=null}},bae=class{constructor(t){this._schedule=null,this._task=null,this._deferreds=new Xv,this._controllers=new Xv,this._processingItems=new Xv,this._pausedSignal=v0(!1),this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new zw(t.peeker),this.process=t.process;const r=t.scheduler;t.priority&&r&&(this._task=r.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule=_r(this._schedule),this._task=_r(this._task)}get updating(){return!!this._task?.updating||this.running}get length(){return this._processingItems.size+this._queue.length}abort(t){const r=this._controllers.get(t);r&&r.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(r=>t.push(r)),this._controllers.clear(),t.forEach(r=>r.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((r,n)=>t(n))}get(t){const r=this._deferreds.get(t);return r?r.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(t,r){const n=this.get(t);if(n)return n;const i=new AbortController;let s=null;r&&(s=zs(r,()=>i.abort()));const o=()=>{const m=this._processingItems.get(t);m&&m.controller.abort(),l(),d.reject(Sr())},l=()=>{c.remove(),s?.remove(),this._removeItem(t),this._queue.remove(t),this._scheduleNext()},c=W3(i.signal,o),d=Vs();return this._deferreds.set(t,d),this._controllers.set(t,i),d.promise.then(l,l),this._queue.push(t),this._scheduleNext(),d.promise}last(){return this._queue.last()}lastPromise(){const t=this.last();return t?this.get(t):null}peek(){return this._queue.peek()}popLast(){const t=this._queue.popLast();return t&&(this._deferreds.get(t)?.reject(Sr()),this._removeItem(t)),t}reset(){const t=Array.from(this._processingItems.values());this._processingItems.clear();for(const r of t)this._queue.push(r.item),r.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_removeItem(t){this._deferreds.delete(t),this._controllers.delete(t),this._processingItems.delete(t)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=G0(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(r))}_processError(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(r))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if(t==null)return;let r;const n=new AbortController,i=new Sae(t,n);this._processingItems.set(t,i);try{r=this.process(t,n.signal)}catch(s){this._processError(i,s)}Da(r)?(i.promise=r,r.then(s=>this._processResult(i,s),s=>this._processError(i,s))):this._processResult(i,r)}get test(){}};const UI=[0,0];let $l=class extends He{constructor(t){super(t),this._keyToItem=new Map,this._tilesByScale=new Map,this.concurrency=6}initialize(){const{concurrency:t,process:r,scheduler:n,priority:i}=this;this._queue=new bae({concurrency:t,scheduler:n,priority:i,process:(s,o)=>{const l=this._keyToItem.get(s);return r(l,{signal:o})},peeker:s=>this._peek(s)})}destroy(){this.clear(),this._queue=wr(this._queue)}get length(){return this._queue?this._queue.length:0}abort(t){const r=typeof t=="string"?t:t.id;this._queue.abort(r)}clear(){this._queue.clear(),this._keyToItem.clear(),this._tilesByScale.clear()}has(t){return typeof t=="string"?this._keyToItem.has(t):this._keyToItem.has(t.id)}pause(){this._queue.pause()}push(t){const r=t.key.id;if(this._queue.has(r))return this._queue.get(r);const n=this._queue.push(r),i=this.tileInfoView.getTileScale(t.key),s=U3(this._tilesByScale,i,()=>new Set),o=()=>{s.delete(t.key),s.size===0&&this._tilesByScale.delete(i),this._keyToItem.delete(r)};return s.add(t.key),this._keyToItem.set(r,t),n.then(o,o),n}reset(){this._queue.reset()}resume(){this._queue.resume()}_peek(t){if(!this.state)return t.values().next().value;const r=new Set;for(const o of t)r.add(this._keyToItem.get(o).key);const n=this.state.scale;let i,s=Number.POSITIVE_INFINITY;for(const[o,l]of this._tilesByScale)if(t5(l,c=>r.has(c))){const c=Math.abs(o-n);c<s&&(i=l,s=c)}return this._getClosestTileKey(i,t).id}_getClosestTileKey(t,r){const n=this.tileInfoView,i=this.state.center;let s,o=Number.POSITIVE_INFINITY;for(const l of t)if(r.has(l.id)){n.getTileCoords(UI,l);const c=ES(UI,i);c<o&&(o=c,s=l)}return s}};p([y({constructOnly:!0})],$l.prototype,"concurrency",void 0),p([y({constructOnly:!0})],$l.prototype,"priority",void 0),p([y({constructOnly:!0})],$l.prototype,"process",void 0),p([y({constructOnly:!0})],$l.prototype,"scheduler",void 0),p([y()],$l.prototype,"state",void 0),p([y({constructOnly:!0})],$l.prototype,"tileInfoView",void 0),$l=p([G("esri.views.2d.tiling.TileQueue")],$l);const pSe=$l;let Eae=class{constructor(t,r,n){this.maxSize=t,this._tileInfoView=r,this._removedFunc=n,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const r=this._tilePerId.get(t);if(!r)return;const n=r.key.level,i=this._tileKeysPerLevel[n];jI(this._tilePerId,t);for(let s=0;s<i.length;s++)if(i[s].id===t){i.splice(s,1);break}return r.visible=!0,r}add(t){t.visible=!1;const r=t.key,n=r.id;if(this._tilePerId.has(n))return;this._tilePerId.set(n,t);const i=r.level;this._tileKeysPerLevel[i]||(this._tileKeysPerLevel[i]=[]),this._tileKeysPerLevel[i].push(r)}prune(t,r,n){let i=this._tilePerId.size;if(i<=this.maxSize)return;let s=this._tileKeysPerLevel.length-1;for(;i>this.maxSize&&s>=0;)s!==t&&(i=this._pruneAroundCenterTile(i,r,n,s)),s--;i>this.maxSize&&(i=this._pruneAroundCenterTile(i,r,n,t))}_pruneAroundCenterTile(t,r,n,i){const s=this._tileKeysPerLevel[i];if(!s||s.length===0)return t;const{size:o,origin:l}=this._tileInfoView.tileInfo,c=n*o[0],d=n*o[1],m=[0,0],g=[0,0];for(s.sort((w,S)=>(m[0]=l.x+c*(w.col+.5),m[1]=l.y-d*(w.row+.5),g[0]=l.x+c*(S.col+.5),g[1]=l.y-d*(S.row+.5),s_(m,r)-s_(g,r)));s.length>0;){const w=s.pop();if(this._removeTile(w.id),--t===this.maxSize)break}return t}_removeTile(t){const r=this._tilePerId.get(t);this._removedFunc&&r&&this._removedFunc(r),jI(this._tilePerId,t)}};function jI(e,t){e.delete(t)}const sd=new bc(0,0,0,0),cl=new Map,Cm=[],mE=[];let mSe=class{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,t.resampling!=null&&(this.resampling=t.resampling),t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),t.buffer!=null&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new Eae(t.cacheSize,this.tileInfoView,r=>{this.releaseTile(r)}))}destroy(){this.tileIndex.clear()}update(t){const{resampling:r,tileIndex:n}=this,{scale:i,center:s,resolution:o}=t.state,{minScale:l,maxScale:c}=this.tileInfoView,d=!t.stationary&&i>this._previousScale;if(this._previousScale=i,!r&&(i>l||i<c))return this.tiles.length=0,void this.clear();const m=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.resampling,this.coveragePolicy);if(!m)return this.tiles.length=0,void this.clear();const{spans:g,lodInfo:w}=m,{level:S}=w;this.tiles.length=0,n.forEach(P=>P.visible=!0);let $=0,x=0;if(g.length>0)for(const{row:P,colFrom:F,colTo:V}of g)for(let U=F;U<=V;U++){$++;const z=sd.set(S,P,w.normalizeCol(U),w.getWorldForColumn(U)).id;let Z=n.get(z);if(Z)Z.isReady?(cl.set(z,Z),x++):d||this._addParentTile(z,cl);else{if(this._tileCache?.has(z)){if(Z=this._tileCache.pop(z),this.tileIndex.set(z,Z),Z.isReady){cl.set(z,Z),x++;continue}}else Z=this.acquireTile(sd),this.tileIndex.set(z,Z);d||this._addParentTile(z,cl)}}const M=x===$;for(const[P,F]of n){if(cl.has(P))continue;sd.set(P);const V=this.tileInfoView.intersects(m,sd),U=this.cachePolicy==="purge"?sd.level!==S:sd.level>S;!V||!d&&M?!U&&V||Cm.push(F):F.isReady?U&&this.cachePolicy==="purge"&&this._hasReadyAncestor(sd,S)?Cm.push(F):mE.push(F):U&&Cm.push(F)}for(const P of mE)P.isReady&&cl.set(P.key.id,P);for(const P of Cm)this._tileCache?this._tileCache.add(P):this.releaseTile(P),n.delete(P.key.id);for(const P of cl.values())this.tiles.push(P);for(const P of n.values())cl.has(P.key.id)||(P.visible=!1);this._tileCache?.prune(S,s,o),P0.pool.release(m),mE.length=0,Cm.length=0,cl.clear()}clear(){const{tileIndex:t}=this;for(const r of t.values())this.releaseTile(r);t.clear()}refresh(t){for(const r of this.tileIndex.values())t(r);this._tileCache?.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,r){let n=t,i=null;for(;n=this.tileInfoView.getTileParentId(n),n;)if(this.tileIndex.has(n)){if(i=this.tileIndex.get(n),i?.isReady){r.has(i.key.id)||r.set(i.key.id,i);break}}else if(this._tileCache?.has(n)&&(i=this._tileCache.pop(n),this.tileIndex.set(n,i),i?.isReady)){r.has(i.key.id)||r.set(i.key.id,i);break}}_hasReadyAncestor(t,r){const n=Ri();this.tileInfoView.getTileBounds(n,t,!0);for(const i of this.tileIndex.values())if(i.isReady&&i.key.level>=r&&i.key.level<t.level){const s=Ri();if(this.tileInfoView.getTileBounds(s,i.key,!0),hq(s,n))return!0}return!1}},Ln=class extends He{constructor(t){super(t),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([dt(()=>this.constraints?.version,r=>{this.constraints&&r&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},Hl)])}get center(){if(!this.ready)return this._get("center");const{center:t,spatialReference:r}=this.state.paddedViewState;return this.state.commitProperty("id"),new yt({x:t[0],y:t[1],spatialReference:r})}set center(t){if(t==null)return;if(!this.ready)return void this._set("center",t);let r;try{r=this._project(t,this.state.spatialReference)}catch(i){return void Ne.getLogger(this).error(new fe("mapview:invalid-center","could not project the value in the view's spatial reference",{input:t,error:i}))}const n=this.viewpoint;Ux(n,n,r),this.viewpoint=n}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(t){if(t==null)return;if(!t.width||!t.height)return void Ne.getLogger(this).error(new fe("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",t),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let r;try{r=this._project(t,this.state.spatialReference)}catch(i){return void Ne.getLogger(this).error(new fe("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:i}))}const n=this.viewpoint;bse(n,n,r,this.state.size,{constraints:this.constraints}),this.viewpoint=n}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(t){this.ready?(this.state.padding=t,this._set("padding",this.state.padding)):this._set("padding",t)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(t){if(isNaN(t))return;if(!this.ready)return void this._set("rotation",t);const r=this.viewpoint;Pse(r,r,t),this.viewpoint=r}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(t){if(!t||isNaN(t))return;if(!this.ready){this._set("scale",t),this._set("zoom",void 0);const n=this._get("extent");return void(n&&(this._set("extent",void 0),this._set("center",n.center)))}const r=this.viewpoint;xI(r,r,t),this.viewpoint=r}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(t){if(t==null)return;if(!this.ready)return this._set("viewpoint",t),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let r,n;try{r=this._project(t,this.state.spatialReference),!t.scale||isNaN(t.scale)?n=new fe("mapview:invalid-viewpoint",`invalid scale value of ${t.scale}`):t.targetGeometry==null&&(n=new fe("mapview:invalid-viewpoint","geometry not defined"))}catch(s){n=new fe("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:s})}if(n)return void Ne.getLogger(this).error(n);this._scaleBeforeChangingSpatialReference=null;const i=new Io({targetGeometry:new yt,scale:0,rotation:0});Bn(i,r),this.constraints?.constrain(i,this.state.paddedViewState.viewpoint),this.state.viewpoint=i,this._set("viewpoint",i)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){return this.ready?this.constraints?.scaleToZoom(this.scale)??-1:this._get("zoom")}set zoom(t){if(!(t>=0))return;if(!this.ready){this._set("zoom",t),this._set("scale",void 0);const i=this._get("extent");return void(i&&(this._set("extent",void 0),this._set("center",i.center)))}const r=this.constraints?.zoomToScale(t)??0;if(!r)return void this._set("zoom",-1);const n=this.viewpoint;xI(n,n,r),this.viewpoint=n,this._set("zoom",this.constraints?.scaleToZoom(this.scale)??-1)}getUserStartupOptions(t){if(!t[0]&&!t[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:r,constraints:n}=this,i=this._get("center"),s=this._get("extent"),o=this._get("scale"),l=this._get("rotation"),c=this._get("viewpoint"),d=this._get("zoom"),m=d!=null&&n!=null&&n.zoomToScale(d)||void 0;let g,w,S;const $=c?.rotation,x=c?.targetGeometry;x?.type==="extent"?g=x:x?.type==="point"&&(w=x,S=c?.scale);const M=s??g;return{center:i??w??M?.center,rotation:l??$,scale:(o??m??S??(M&&$S(M,[t[0]-r.left-r.right,t[1]-r.top-r.bottom])))||void 0}}startup(t,r,n,i){const s=t.targetGeometry;try{this._project(t,n)}catch(o){Ne.getLogger(this).warn(new Bl("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:s.toJSON(),spatialReference:n,error:o})),t.targetGeometry=i||new yt({x:0,y:0,spatialReference:n})}this.constraints?.fit(t),this._set("state",new Fk({padding:this.padding,size:r,viewpoint:t})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[t,r],spatialReference:n,rotation:i,scale:s}=this.state.paddedViewState,o=new yt({x:t,y:r,spatialReference:n});this._set("viewpoint",null),this._set("extent",null),this._set("center",o),this._set("zoom",-1),this._set("rotation",i),this._set("scale",s),this._set("state",null)}changeSpatialReference(t){const r=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=r.scale;else{const c=r.viewpoint.clone();c.scale=this._scaleBeforeChangingSpatialReference,r.viewpoint=c}const n=r.clone(),[i,s]=r.center;let o=null;try{o=this._project(new yt({x:i,y:s,spatialReference:r.spatialReference}),t)}catch(c){sM()||Ne.getLogger(this).warn(new Bl("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:o?.toJSON(),spatialReference:t,error:c}))}o||(o=new yt({x:0,y:0,spatialReference:t}));const l=Ux(new Io({targetGeometry:new yt,scale:0,rotation:0}),r.viewpoint,o);n.viewpoint=l;try{const d=[r.size[0]/2,r.size[1]/2],m=[d[0]+20,d[1]],g=r.toMap([0,0],m),{x:w,y:S}=this._project(new yt({x:g[0],y:g[1],spatialReference:r.spatialReference}),t);g[0]=w,g[1]=S,n.toScreen(g,g);const $=Ase(d,g,m),x=Math.hypot(g[0]-d[0],g[1]-d[1])/20;!Number.isFinite(x)||Math.abs(x)>4?(l.rotation=0,l.targetGeometry=new yt({x:0,y:0,spatialReference:t})):(l.scale*=x,l.scale>ie("mapview-srswitch-adjust-rotation-scale-threshold")?l.rotation=0:l.rotation+=Number.isFinite($)?$:0)}catch{}this._get("constraints")?.constrain(l,void 0),this._get("state").viewpoint=l}resize(t,r){if(!this.ready)return;const n=this.state;let i=this.state.paddedViewState.viewpoint;const s=this.state.paddedViewState.size.slice();n.size=[t,r],Rse(i,i,s,this.state.paddedViewState.size,this.resizeAlign),i=this.constraints?.constrain(i,void 0)??i,this.state.viewpoint=i}toMap(t){if(!this.ready)return null;const r=[0,0],[n,i]=this.state.toMap(r,[t.x,t.y]),s=this.state.spatialReference;return new yt({x:n,y:i,spatialReference:s})}toScreen(t,r){if(!this.ready)return null;const n=this._project(t,this.state.spatialReference),i=[n.x,n.y];return r?.pickClosestTarget===!1||this.state.paddedViewState.wrapMapCoordinate(i,i),this.state.toScreen(i,i),hn(i[0],i[1])}_project(t,r){const n=t?.targetGeometry||t;if(!r)return t;if(!n)return null;if(r.imageCoordinateSystem||n.spatialReference?.imageCoordinateSystem||pn(r,n.spatialReference))return t;const i=kc(n,r);if(!i)throw new fe("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:n,spatialReference:r});return Tae(t)?(t.targetGeometry=i,t):i}};function Tae(e){return e?.declaredClass==="esri.Viewpoint"}p([y({type:yt})],Ln.prototype,"center",null),p([y()],Ln.prototype,"constraints",void 0),p([y({type:tr})],Ln.prototype,"extent",null),p([y({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],Ln.prototype,"padding",null),p([y()],Ln.prototype,"ready",void 0),p([y()],Ln.prototype,"resizeAlign",void 0),p([y({readOnly:!0})],Ln.prototype,"resolution",null),p([y({type:Number})],Ln.prototype,"rotation",null),p([y({type:Number})],Ln.prototype,"scale",null),p([y({readOnly:!0})],Ln.prototype,"state",void 0),p([y({type:Io})],Ln.prototype,"viewpoint",null),p([y({readOnly:!0})],Ln.prototype,"visibleArea",null),p([y()],Ln.prototype,"zoom",null),Ln=p([G("esri.views.2d.ViewStateManager")],Ln);function Uk(e,t){switch(t){case"primary":return e.pointerType==="touch"||e.button===0;case"secondary":return e.pointerType!=="touch"&&e.button===2;case"tertiary":return e.pointerType!=="touch"&&e.button===1}}let zI=class extends tn{constructor(t,r){super(!0),this._view=t,this.registerIncoming("double-click",r,n=>this._handleDoubleClick(n,r))}_handleDoubleClick(t,r){Uk(t.data,"primary")&&(t.stopPropagation(),r?this._view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this._view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}},$ae=class extends tn{constructor(t,r,n){super(!0),this.view=t,this.pointerType=r,this.registerIncoming("double-tap-drag",n,i=>this._handleDoubleTapDrag(i))}_handleDoubleTapDrag(t){const{data:r}=t,{pointerType:n}=r;if(n!==this.pointerType)return;t.stopPropagation();const{action:i,delta:s}=r,{view:o}=this,{mapViewNavigation:l}=o;switch(i){case"begin":{const{scale:c}=o;this._startScale=c,this._currentScale=c,this._previousDelta=s,l.begin();break}case"update":{if(this._previousDelta.y===s.y)return;this._previousDelta=s;const c=1.015**s.y,d=this._startScale*c,m=d/this._currentScale;l.setViewpointImmediate(m),this._currentScale=d;break}case"end":{const{constraints:c}=o,{effectiveLODs:d,snapToZoom:m}=c;if(!m||!d)return void l.end();const g=c.snapScale(this._currentScale),w=(s.y>0?Math.max(g,c.snapToPreviousScale(this._startScale)):Math.min(g,c.snapToNextScale(this._startScale)))/this._currentScale;l.zoom(w).then(()=>{l.end()});break}}}},MS=class{constructor(t){this._callbacks=t,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(t){const r=t.data,n=r.pointers.size;switch(r.action){case"start":this._currentCount=n,this._emitStart(t);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(t);break;case"end":this._emitEnd(t),this._currentCount=0}this._previousEvent=t}_emitStart(t){this._startEvent=t,this._callbacks.condition?.(this._currentCount,t)&&this._callbacks.start(this._currentCount,t,this._startEvent)}_emitUpdate(t){this._callbacks.condition?.(this._currentCount,t)&&this._callbacks.update(this._currentCount,t,this._startEvent)}_emitEnd(t){this._callbacks.condition?.(this._currentCount,t)&&this._callbacks.end(this._currentCount,t,this._startEvent),this._startEvent=null}},xae=class extends tn{constructor(t,r,n){super(!0),this.view=t,this.pointerAction=r,this.registerIncoming("drag",n,i=>this._handleDrag(i)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this._dragEventSeparator=new MS({start:(r,n)=>{this.view.mapViewNavigation.pan.begin(this.view,n.data),n.stopPropagation()},update:(r,n)=>{this.view.mapViewNavigation.pan.update(this.view,n.data),n.stopPropagation()},end:(r,n)=>{this.view.mapViewNavigation.pan.end(this.view,n.data),n.stopPropagation()},condition:(r,n)=>r===1&&Uk(n.data,this.pointerAction)})}_handleDrag(t){const r=this.view.mapViewNavigation;r.pinch.zoomMomentum||r.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},Mae=class extends tn{constructor(t,r,n){super(!0),this._view=t,this.pointerAction=r;const i=this._view.mapViewNavigation;this._dragEventSeparator=new MS({start:(s,o)=>{i.rotate.begin(this._view,o.data),o.stopPropagation()},update:(s,o)=>{i.rotate.update(this._view,o.data),o.stopPropagation()},end:(s,o)=>{i.rotate.end(),o.stopPropagation()},condition:(s,o)=>s===1&&Uk(o.data,this.pointerAction)}),this.registerIncoming("drag",n,s=>this._dragEventSeparator.handle(s))}};function A7(e){const t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function kae(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Aae(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function Cae(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function C7(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function R7(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function P7(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function Rae(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function Pae(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function Oae(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function Iae(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function Nae(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function Lae(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function Dae(e,t=0,r=1){return e[0]=Math.min(Math.max(e[0],t),r),e[1]=Math.min(Math.max(e[1],t),r),e[2]=Math.min(Math.max(e[2],t),r),e}function Fae(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function O7(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function Uae(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function I7(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+n*n+i*i)}function N7(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i}function L7(e){const t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function jae(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function zae(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function qx(e,t){const r=t[0],n=t[1],i=t[2];let s=r*r+n*n+i*i;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s),e}function D7(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Gae(e,t,r){const n=t[0],i=t[1],s=t[2],o=r[0],l=r[1],c=r[2];return e[0]=i*c-s*l,e[1]=s*o-n*c,e[2]=n*l-i*o,e}function Vae(e,t,r){const n=t[0],i=t[1],s=t[2],o=r[0],l=r[1],c=r[2],d=i*c-s*l,m=s*o-n*c,g=n*l-i*o,w=Math.sqrt(d*d+m*m+g*g);return e[0]=d/w,e[1]=m/w,e[2]=g/w,e}function Bae(e,t,r,n){const i=t[0],s=t[1],o=t[2];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e[2]=o+n*(r[2]-o),e}function Hae(e,t,r,n,i,s){const o=s*s,l=o*(2*s-3)+1,c=o*(s-2)+s,d=o*(s-1),m=o*(3-2*s);return e[0]=t[0]*l+r[0]*c+n[0]*d+i[0]*m,e[1]=t[1]*l+r[1]*c+n[1]*d+i[1]*m,e[2]=t[2]*l+r[2]*c+n[2]*d+i[2]*m,e}function Wae(e,t,r,n,i,s){const o=1-s,l=o*o,c=s*s,d=l*o,m=3*s*l,g=3*c*o,w=c*s;return e[0]=t[0]*d+r[0]*m+n[0]*g+i[0]*w,e[1]=t[1]*d+r[1]*m+n[1]*g+i[1]*w,e[2]=t[2]*d+r[2]*m+n[2]*g+i[2]*w,e}function qae(e,t=1){const r=QM,n=2*r()*Math.PI,i=2*r()-1,s=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(n)*s,e[1]=Math.sin(n)*s,e[2]=i*t,e}function Zae(e,t,r){const n=t[0],i=t[1],s=t[2];return e[0]=r[0]*n+r[4]*i+r[8]*s+r[12],e[1]=r[1]*n+r[5]*i+r[9]*s+r[13],e[2]=r[2]*n+r[6]*i+r[10]*s+r[14],e}function Yae(e,t,r){const n=t[0],i=t[1],s=t[2];return e[0]=n*r[0]+i*r[3]+s*r[6],e[1]=n*r[1]+i*r[4]+s*r[7],e[2]=n*r[2]+i*r[5]+s*r[8],e}function Jae(e,t,r){const n=r[0],i=r[1],s=r[2],o=r[3],l=t[0],c=t[1],d=t[2],m=i*d-s*c,g=s*l-n*d,w=n*c-i*l,S=i*w-s*g,$=s*m-n*w,x=n*g-i*m,M=2*o;return e[0]=l+m*M+2*S,e[1]=c+g*M+2*$,e[2]=d+w*M+2*x,e}function Kae(e,t,r,n){const i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[0],s[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),s[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function Xae(e,t,r,n){const i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),s[1]=i[1],s[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function Qae(e,t,r,n){const i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),s[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),s[2]=i[2],e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function ele(e,t){qx(GI,e),qx(VI,t);const r=D7(GI,VI);return r>1?0:r<-1?Math.PI:Math.acos(r)}const GI=xc(),VI=xc();function tle(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function rle(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function nle(e,t){if(e===t)return!0;const r=e[0],n=e[1],i=e[2],s=t[0],o=t[1],l=t[2],c=Ii();return Math.abs(r-s)<=c*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-o)<=c*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-l)<=c*Math.max(1,Math.abs(i),Math.abs(l))}function ile(e,t,r){const n=r[0]-t[0],i=r[1]-t[1],s=r[2]-t[2];let o=n*n+i*i+s*s;return o>0?(o=1/Math.sqrt(o),e[0]=n*o,e[1]=i*o,e[2]=s*o,e):(e[0]=0,e[1]=0,e[2]=0,e)}const sle=C7,ole=R7,ale=P7,lle=I7,ule=N7,cle=A7,dle=L7;Object.freeze(Object.defineProperty({__proto__:null,abs:Oae,add:Cae,angle:ele,bezier:Wae,ceil:Rae,clamp:Dae,copy:kae,cross:Gae,crossAndNormalize:Vae,direction:ile,dist:lle,distance:I7,div:ale,divide:P7,dot:D7,equals:nle,exactEquals:rle,floor:Pae,hermite:Hae,inverse:zae,len:cle,length:A7,lerp:Bae,max:Lae,min:Nae,mul:ole,multiply:R7,negate:jae,normalize:qx,random:qae,rotateX:Kae,rotateY:Xae,rotateZ:Qae,round:Fae,scale:O7,scaleAndAdd:Uae,set:Aae,sign:Iae,sqrDist:ule,sqrLen:dle,squaredDistance:N7,squaredLength:L7,str:tle,sub:sle,subtract:C7,transformMat3:Yae,transformMat4:Zae,transformQuat:Jae},Symbol.toStringTag,{value:"Module"}));function go(e){let t=e*e;return e<0&&(t*=-1),t}function hle(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function ple(e,t,r){const n=r,i=e.state,s=e.device,o=t.tiltDirection==="forward-down"?1:-1,l=1;return s.deviceType==="standard"?(n.translation[0]=go(i.axes[0]),n.translation[1]=go(i.axes[1]),n.translation[2]=go(i.buttons[7])-go(i.buttons[6]),n.heading=go(i.axes[2]),n.tilt=go(i.axes[3])):s.deviceType==="spacemouse"&&(n.translation[0]=1.2*go(i.axes[0]),n.translation[1]=1.2*go(i.axes[1]),n.translation[2]=2*-go(i.axes[2]),n.heading=1.2*go(i.axes[5]),n.tilt=1.2*go(i.axes[3])),n.tilt*=o,O7(n.translation,n.translation,l),n}function fle(e){return e.translation[0]===0&&e.translation[1]===0&&e.translation[2]===0&&e.heading===0&&e.tilt===0&&e.zoom===0}let mle=class extends tn{constructor(t){super(!0),this._view=t,this._frameTask=null,this._watchHandles=new Sf,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",r=>this._handleGamePadEvent(r)),this._handle.pause()}onInstall(t){super.onInstall(t),this._watchHandles.add([dt(()=>this._view.navigation.gamepad?.enabled,r=>{r?(this._handle.resume(),this._frameTask||(this._frameTask=of({update:n=>this._frameUpdate(n.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},Hn)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(t){const r=this._view.navigation.gamepad.device;r&&t.data.device!==r||this._currentDevice&&this._currentDevice!==t.data.device||(t.data.action==="end"?(this._currentDevice=null,hle(this._transformation)):(this._currentDevice=t.data.device,ple(t.data,this._view.navigation.gamepad,this._transformation)))}_frameUpdate(t){const r=this._transformation;if(fle(r))return;const n=this._view.viewpoint.clone(),i=this._view.navigation.gamepad.velocityFactor,s=gle*i*t;xS(n,n,[r.translation[0]*s,-r.translation[1]*s]);const o=1+r.translation[2]*vle*t,l=this._view.constraints.rotationEnabled?-r.heading*yle*t:0,c=this._view.size,d=[c[0]/2,c[1]];s7(n,n,o,l,d,c);const m=this._view.constraints.constrain(n,this._view.viewpoint);this._view.viewpoint=m}};const yle=.06,gle=.7,vle=6e-4;function F7(e){const t=()=>e(document.visibilityState==="visible");return document.addEventListener("visibilitychange",t),Dt(()=>document.removeEventListener("visibilitychange",t))}let wle=class extends tn{constructor(t,r,n){super(!0),this.view=t,this.keys=r,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=i=>{const s=this._keyMap[i.data.key];if(i.modifiers.has("Meta")||i.modifiers.has("Control"))return void this._stopMovement();if(s==null)return;i.stopPropagation(),i.preventDefault();const o=i.type==="key-down";if(this._pressedKeys[o?"add":"delete"](s),o){if(this._direction===s)return;this._direction=s,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{const l=this._timeout===void 0,c=this._pressedKeys.size>0;l||c?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction==null&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[r.left]:"left",[r.right]:"right",[r.up]:"up",[r.down]:"down"},this.registerIncoming("key-down",n,this._handleKey),this.registerIncoming("key-up",n,this._handleKey),this.registerIncoming("blur",n,this._stopMovement),this._visibilityHandle=F7(i=>i?null:this._stopMovement())}onUninstall(){this._stopMovement(),this._visibilityHandle?.remove()}get _direction(){return this._currentDirection}set _direction(t){const r=this._currentDirection!=null;if(t!=null){if(r||this.view.mapViewNavigation.begin(),this._currentDirection!==t)switch(t){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else r&&this.view.mapViewNavigation.stop();this._currentDirection=t}_setTimeout(t){clearTimeout(this._timeout),this._timeout=t===void 0?void 0:setTimeout(()=>{this._timeout=void 0,t()},this._stickyKeyDuration)}},_le=class extends tn{constructor(t,r,n){super(!0),this.view=t,this.keys=r,this._pressed=!1,this._keyToDirection={[r.clockwiseOption1]:"clockwise",[r.clockwiseOption2]:"clockwise",[r.counterClockwiseOption1]:"counterClockwise",[r.counterClockwiseOption2]:"counterClockwise",[r.resetOption1]:"reset",[r.resetOption2]:"reset"},this.registerIncoming("key-down",n,i=>this._handleKeyDown(i)),this.registerIncoming("key-up",n,i=>this._handleKeyUp(i)),this.registerIncoming("blur",n,()=>this._handleStop()),this._visibilityHandle=F7(i=>i?null:this._handleStop())}onUninstall(){this._visibilityHandle?.remove(),this._handleStop()}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,r){const n=t.modifiers;if(n.size>0&&!n.has("Shift")||!this.view.constraints.rotationEnabled)return;const i=this._keyToDirection[t.data.key];if(this._pressed=i!=null,this._pressed){if(t.preventDefault(),r)switch(this.view.mapViewNavigation.begin(),i){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}};var Gp;(function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"})(Gp||(Gp={}));let Sle=class extends tn{constructor(t,r,n){super(!0),this.view=t,this.keys=r,this._keysToZoomAction={},this.registerIncoming("key-down",n,i=>this._handleKeyDown(i)),r.zoomIn.forEach(i=>this._keysToZoomAction[i]=Gp.IN),r.zoomOut.forEach(i=>this._keysToZoomAction[i]=Gp.OUT)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const r=t.modifiers;if(r.size>0&&!r.has("Shift"))return;const{key:n}=t.data;if(!(n in this._keysToZoomAction))return;const i=this._keysToZoomAction[n],{mapViewNavigation:s}=this.view;let o=null;switch(i){case Gp.IN:o=s.zoomIn();break;case Gp.OUT:o=s.zoomOut();break;default:return}s.begin(),o.then(()=>s.end()),t.stopPropagation()}};const ble=.6;let Ele=class extends tn{constructor(t,r){super(!0),this._view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",r,n=>this._handleMouseWheel(n))}_handleMouseWheel(t){if(!this._view.navigation.mouseWheelZoomEnabled||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;const r=this._view.mapViewNavigation,{x:n,y:i,deltaY:s}=t.data,o=1/ble**(1/60*s),l=r.zoom(o,[n,i]);l&&(this._canZoom=!1,l.catch(()=>{}).then(()=>{this._canZoom=!0,r.end()}))}},Tle=class extends tn{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",n=>this._handleDrag(n)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const r=this.view.mapViewNavigation;this._dragEventSeparator=new MS({start:(n,i)=>{r.pinch.begin(this.view,i.data),i.stopPropagation()},update:(n,i)=>{r.pinch.update(this.view,i.data),i.stopPropagation()},end:(n,i)=>{r.pinch.end(this.view),i.stopPropagation()},condition:n=>n>=2})}_handleDrag(t){this._dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function BI(e){const t=e.native;return t?{buttons:t.buttons.map(r=>r.pressed?r.value||1:0),axes:t.axes.map(r=>Mle(r,e.axisThreshold))}:{buttons:[],axes:[]}}function $le(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let r=0;r<e.axes.length;r++)if(e.axes[r]!==t.axes[r])return!1;for(let r=0;r<e.buttons.length;r++)if(e.buttons[r]!==t.buttons[r])return!1;return!0}function xle(e){for(let t=0;t<e.axes.length;t++)if(e.axes[t]!==0)return!1;for(let t=0;t<e.buttons.length;t++)if(e.buttons[t]!==0)return!1;return!0}function Mle(e,t){const r=Math.abs(e);return r<t?0:Math.sign(e)*(r-t)/(1-t)}let kle=class{constructor(t,r){this._element=t,this._input=r,this._hasEventListeners=!1,this._onConnectGamepad=s=>{this._connectGamepad(s.gamepad)},this._onDisconnectGamepad=s=>{const o=s.gamepad,l=o.index,c=this._inputDevices[l];c&&(this._emitGamepadEvent(o,BI(c),!1),this._inputDevices.splice(l,1),this._latestUpdate.splice(l,1),this._input.gamepad.devices.remove(c),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const n="getGamepads"in window.navigator,i=window.isSecureContext;this.supported=n&&i,this.supported&&(HI(s=>this._connectGamepad(s)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this._callback=t}_connectGamepad(t){const r=new xk(t);r.deviceType!=="unknown"&&(this._inputDevices[t.index]=r,this._input.gamepad.devices.add(r)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=of({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const t=document.hasFocus(),r=this._element.contains(document.activeElement),n=this._input.gamepad.enabledFocusMode==="document"&&!t||this._input.gamepad.enabledFocusMode==="view"&&!r;HI(i=>{const s=this._inputDevices[i.index];if(!s)return;const o=this._latestUpdate[i.index],l=BI(s),c=n||xle(l);o&&(o.timestamp===i.timestamp||!o.active&&c||$le(o.state,l))||this._emitGamepadEvent(i,l,!c)})}_emitGamepadEvent(t,r,n){const i=this._latestUpdate[t.index],s=i&&i.active;if(!s&&!n)return;const o=!s&&n?"start":s&&n?"update":"end";this._latestUpdate[t.index]={timestamp:t.timestamp,state:r,active:n},this._callback&&this._callback({device:this._inputDevices[t.index],state:r,action:o})}};function Ale(e){if(!e||!e.connected)return!1;for(let t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return!1;return!0}function HI(e){for(const t of navigator.getGamepads())Ale(t)&&e(t)}const WI=ie("edge"),Cle=ie("chrome"),Rle=ie("ff"),Ple=ie("safari"),qI="esri-view-surface",ap={touchNone:`${qI}--touch-none`,touchPan:`${qI}--touch-pan`};let U7=class j7{constructor(t,r){this._input=r,this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new kle(t,this._input),this._gamepadSource.onEvent=n=>this._callback("gamepad",n)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(t=>{this._releasePointerCaptureSafe(t)}),this._gamepadSource=wr(this._gamepadSource),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const r in this._active)if(!t||!t.has(r)){const n=this._active[r];this._element.removeEventListener(yE[r],n),delete this._active[r]}t&&t.forEach(r=>{if(!this._active[r]&&yE[r]){const n=(this._eventHandlers[r]||this._handleDefault).bind(this,r);this._element.addEventListener(yE[r],n),this._active[r]=n}}),this._gamepadSource.hasEventListeners=t?.has("gamepad")??!1}setPointerCapture(t,r){r?this._setPointerCatpureSafe(t.pointerId):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?ap.touchNone:ap.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?ap.touchPan:ap.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(ap.touchNone),this._element.classList.remove(ap.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCatpureSafe(t){try{this._element.setPointerCapture(t),this._activePointerCaptures.add(t)}catch{}}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch{}}_updateNormalizedPointerLikeEvent(t,r){const n=S9(this._element,t);return j7.test.disableSubpixelCoordinates&&(n.x=Math.round(n.x),n.y=Math.round(n.y)),r.x=n.x,r.y=n.y,r}_handleKey(t,r){const{key:n}=r;n&&t==="key-up"&&this._keyDownState.delete(n);const i={native:r,key:n,repeat:!!n&&this._keyDownState.has(n)};n&&t==="key-down"&&this._keyDownState.add(i.key),this._callback(t,i)}_handlePointer(t,r){const n=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});this._callback(t,n)}_handlePointerPreventDefault(t,r){const n=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});r.preventDefault(),this._callback(t,n)}_getDeltaFromTrackpadOrMouseWheel(t){return t.shiftKey&&ie("mac")&&t.deltaY===0?t.deltaX:t.deltaY}_handleMouseWheel(t,r){let n=this._getDeltaFromTrackpadOrMouseWheel(r);switch(r.deltaMode){case 0:WI&&(n=n/document.documentElement.clientHeight*600);break;case 1:n*=30;break;case 2:n*=900}WI?n*=.7:Cle||Ple?n*=.6:Rle&&(n*=1.375);const i=100,s=Math.abs(n);s>i&&(n=n/s*200/(1+Math.exp(-.02*(s-i))));const o=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,deltaY:n});this._callback(t,o)}_handlePointerCaptureLost(t,r){this._activePointerCaptures.delete(r.pointerId),this._handleDefault(t,r)}_handleDefault(t,r){const n={native:r};r.preventDefault(),this._callback(t,n)}_preventAltKeyDefault(t){t.key==="Alt"&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}};U7.test={disableSubpixelCoordinates:!1};const yE={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let Ole=class extends tn{constructor(){super(!0),this.registerIncoming("context-menu",t=>t.data.native.preventDefault())}};const En={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};function l_(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function Ile(e,t){const r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)}function Nle(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:hn()},e.length===0)return t;if(e.length===1)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(e.length===2){const[V,U]=e,[z,Z]=[U.x-V.x,U.y-V.y];return t.radius=Math.sqrt(z*z+Z*Z)/2,t.center.x=(V.x+U.x)/2,t.center.y=(V.y+U.y)/2,t}let r=0,n=0;for(let V=0;V<e.length;V++)r+=e[V].x,n+=e[V].y;r/=e.length,n/=e.length;const i=e.map(V=>V.x-r),s=e.map(V=>V.y-n);let o=0,l=0,c=0,d=0,m=0,g=0,w=0;for(let V=0;V<i.length;V++){const U=i[V],z=s[V],Z=U*U,Q=z*z;o+=Z,l+=Q,c+=U*z,d+=Z*U,m+=Q*z,g+=U*Q,w+=z*Z}const S=.5*(d+g),$=.5*(m+w),x=o*l-c*c,M=(S*l-$*c)/x,P=(o*$-c*S)/x,F=hn(M+r,P+n);return{radius:Math.sqrt(M*M+P*P+(o+l)/e.length),center:F}}function nh(e){const{native:t}=e,{pointerId:r,button:n,pointerType:i}=t;return i==="mouse"?`${r}:${n}`:`${i}`}let Lle=class extends tn{constructor(t=En.maximumDoubleClickDelay,r=En.maximumDoubleClickDistance,n=En.maximumDoubleTouchDelay,i=En.maximumDoubleTouchDistance,s=bf){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=i,this._clock=s,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=hn(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new MS({start:(o,l)=>this._dragStart(o,l),update:(o,l)=>this._dragUpdate(l),end:(o,l)=>this._dragEnd(l)}),this.registerIncoming("drag",o=>this._dragEventSeparator.handle(o)),this.registerIncoming("pointer-down",o=>this._handlePointerDown(o)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout=_r(t.doubleTapTimeout)})}get hasPendingInputs(){for(const t of this._pointerState.values())if(t.doubleTapTimeout!=null)return!0;return!1}_clearPointerDown(t){const r=this._pointerState.get(t);r&&(r.doubleTapTimeout=_r(r.doubleTapTimeout),this._pointerState.delete(t),this.refreshHasPendingInputs())}_dragStart(t,r){if(!this._doubleTapDragReady||t!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:n,modifiers:i}=r,{center:s}=n;this._dragStartCenter=s;const o=gE("begin",hn(0,0),n);this._doubleTapDrag.emit(o,void 0,i),r.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:r,modifiers:n}=t,{center:i}=r,s=gE("update",hn(i.x-this._dragStartCenter.x,i.y-this._dragStartCenter.y),r);this._doubleTapDrag.emit(s,void 0,n),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:r,modifiers:n}=t,{center:i}=r,s=gE("end",hn(i.x-this._dragStartCenter.x,i.y-this._dragStartCenter.y),r);this._doubleTapDrag.emit(s,void 0,n),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:r}=t,n=nh(r),i=this._pointerState.get(n),{pointerType:s}=r.native;if(i){const o=s==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(n),l_(i.event.data,r)>o?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(t){const{data:r}=t,{pointerType:n}=r.native,i=nh(r),s=n==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._clearPointerDown(i),s);this._pointerState.set(i,{event:t,doubleTapTimeout:o}),this.refreshHasPendingInputs()}};function gE(e,t,r){const{button:n,buttons:i,pointer:s,pointers:o,pointerType:l,timestamp:c}=r;return{action:e,delta:t,button:n,buttons:i,pointer:s,pointers:o,pointerType:l,timestamp:c}}let Dle=class extends tn{constructor(t){super(!1),this._navigationTouch=t,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,r,n,i){return{action:t,pointerType:this._pointerType,button:this._mouseButton,buttons:r.buttons,timestamp:i,pointers:Fle(this._activePointerMap),pointer:r,angle:n.angle,radius:n.radius,center:n.center}}_addPointer(t){const r=t.native.pointerId,n=H1(this._activePointerMap).angle,i={event:t,initialAngle:0,lastAngle:0};this._activePointerMap.set(r,i);const s=iw(i,z7(this._activePointerMap));i.initialAngle=s,i.lastAngle=s,this._updatePointerAngles(n)}_updatePointer(t){if(t&&t.x==null&&t.y==null)return;const r=t.native.pointerId,n=this._activePointerMap.get(r);n?n.event=t:this._addPointer(t)}_removePointer(t){const r=H1(this._activePointerMap).angle;this._activePointerMap.delete(t),this._updatePointerAngles(r)}_updatePointerAngles(t){const r=H1(this._activePointerMap);this._activePointerMap.forEach(n=>{n.initialAngle=iw(n,r)-t,n.lastAngle=iw(n,r)-t})}_emitEvent(t,r,n){const i=H1(this._activePointerMap);this._drag.emit(this._createPayload(t,r,i,n),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(t){const r=t.data.native.pointerId,n=t.timestamp;this._activePointerMap.get(r)&&(this._activePointerMap.size===1?(this._updatePointer(t.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",t.data,n),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(r)):(this._removePointer(r),this._emitEvent("removed",t.data,t.timestamp)))}_handlePointerDrag(t){const r=t.data,n=r.currentEvent,i=t.timestamp;switch(r.action){case"start":case"update":this._isDragging?this._activePointerMap.has(n.native.pointerId)?(this._updatePointer(n),!this._isCurrentDragSuppressed&&this._emitEvent("update",n,i)):(this._addPointer(n),this._emitEvent("added",n,i),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(n),this._pointerType=t.data.startEvent.pointerType,this._mouseButton=t.data.startEvent.button,this._startStateModifiers=t.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",n,i))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function z7(e){const t=[];return e.forEach(r=>{t.push(hn(r.event.x,r.event.y))}),Nle(t)}function H1(e){const t=z7(e);let r=0;return e.forEach(n=>{let i=iw(n,t),s=i-n.lastAngle;for(;s>Math.PI;)s-=2*Math.PI;for(;s<-Math.PI;)s+=2*Math.PI;i=n.lastAngle+s,n.lastAngle=i;const o=i-n.initialAngle;r+=o}),r/=e.size||1,{angle:r,radius:t.radius,center:t.center}}function Fle(e){const t=new Map;return e.forEach((r,n)=>t.set(n,r.event)),t}function iw(e,t){const r=e.event,n=r.x-t.center.x,i=r.y-t.center.y;return Math.atan2(i,n)}var ZI;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"})(ZI||(ZI={}));let Ule=class extends tn{constructor(t=En.maximumDoubleClickDelay,r=En.maximumDoubleClickDistance,n=En.maximumDoubleTouchDelay,i=En.maximumDoubleTouchDistance,s=bf){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=i,this._clock=s,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const r=t.data,n=nh(r);if(!this._pointerState.has(n)){const i={downButton:r.native.button,x:r.x,y:r.y,immediateDoubleClick:null};this._pointerState.set(n,i),this.startCapturingPointer(r.native)}}_handlePointerUp(t){const r=t.data,n=nh(r),i=this._pointerState.get(n);if(i&&i.downButton===r.native.button){const s=i.immediateDoubleClick,o=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;s?(s.timeoutHandle.remove(),l_(s,t.data)>o?this._startImmediateDoubleClick(t,i):(this._immediateDoubleClick.emit(t.data,void 0,s.modifiers),this._removeState(r))):l_(i,t.data)>o?this._removeState(r):this._startImmediateDoubleClick(t,i)}}_startImmediateDoubleClick(t,r){const n=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;r.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),n)}}_removeState(t){const r=nh(t);this._pointerState.delete(r),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}},jle=class extends tn{constructor(t=En.maximumClickDelay,r=En.movementUntilMouseDrag,n=En.movementUntilPenDrag,i=En.movementUntilTouchDrag,s=En.holdDelay,o=bf){super(!1),this._maximumClickDelay=t,this._movementUntilMouseDrag=r,this._movementUntilPenDrag=n,this._movementUntilTouchDrag=i,this._holdDelay=s,this._clock=o,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",l=>this._handlePointerDown(l)),this.registerIncoming("pointer-up",l=>this._handlePointerLoss(l,"pointer-up")),this.registerIncoming("pointer-capture-lost",l=>this._handlePointerLoss(l,"pointer-capture-lost")),this.registerIncoming("pointer-cancel",l=>this._handlePointerLoss(l,"pointer-cancel")),this._moveHandle=this.registerIncoming("pointer-move",l=>this._handlePointerMove(l)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout=_r(t.holdTimeout)}),super.onUninstall()}_handlePointerDown(t){const r=t.data,n=r.native.pointerId;let i=null;this._pointerState.size===0&&(i=this._clock.setTimeout(()=>{const o=this._pointerState.get(n);if(o){if(!o.isDragging){const l=o.previousEvent;this._pointerHold.emit(l,void 0,t.modifiers),o.holdEmitted=!0}o.holdTimeout=null}},this._holdDelay));const s={startEvent:r,previousEvent:r,startTimestamp:t.timestamp,isDragging:!1,downButton:r.native.button,holdTimeout:i,modifiers:new Set};this._pointerState.set(n,s),this.startCapturingPointer(r.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_handlePointerMove(t){const r=t.data,n=r.native.pointerId,i=this._pointerState.get(n);i&&(i.isDragging?this._pointerDrag.emit(W1("update",i,r),void 0,i.modifiers):Ile(r,i.startEvent)>this._getDragThreshold(r.native.pointerType)&&this._startDragging(t),i.previousEvent=r)}_getDragThreshold(t){switch(t){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(t){const r=t.data,n=r.native.pointerId;this._pointerState.forEach(i=>{i.holdTimeout!=null&&(i.holdTimeout.remove(),i.holdTimeout=null),i.isDragging||(i.modifiers=t.modifiers,i.isDragging=!0,n===i.startEvent.native.pointerId?this._pointerDrag.emit(W1("start",i,r)):this._pointerDrag.emit(W1("start",i,i.previousEvent),t.timestamp))})}_handlePointerLoss(t,r){const n=t.data,i=n.native.pointerId,s=this._pointerState.get(i);s&&(s.holdTimeout!=null&&(s.holdTimeout.remove(),s.holdTimeout=null),s.isDragging?this._pointerDrag.emit(W1("end",s,r==="pointer-up"?n:s.previousEvent),void 0,s.modifiers):r==="pointer-up"&&s.downButton===n.native.button&&t.timestamp-s.startTimestamp<=this._maximumClickDelay&&!s.holdEmitted&&this._immediateClick.emit(n),this._pointerState.delete(i),this.stopCapturingPointer(n.native),this._pointerState.size===0&&this._moveHandle.pause())}};function W1(e,t,r){return{action:e,startEvent:t.startEvent,previousEvent:t.previousEvent,currentEvent:r}}let zle=class extends tn{constructor(t=En.maximumDoubleClickDelay,r=En.maximumDoubleClickDistance,n=En.maximumDoubleTouchDelay,i=En.maximumDoubleTouchDistance,s=bf){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=i,this._clock=s,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",o=>this._handleImmediateClick(o)),this.registerIncoming("pointer-down",o=>this._handlePointerDown(o))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimer=_r(t.doubleClickTimer))}get hasPendingInputs(){for(const t of this._pointerState.values())if(t.doubleClickTimer!=null)return!0;return!1}_clearDoubleClickTimer(t,r){const n=this._pointerState.get(t);n&&(n.doubleClickTimer=_r(n.doubleClickTimer),r&&this._click.emit(n.event.data,void 0,n.event.modifiers),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const r=this._pointerState.get(t);r.pointerDownCount===1&&this._click.emit(r.event.data,void 0,r.event.modifiers),r.doubleClickTimer=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}_handleImmediateClick(t){const r=t.data,{pointerType:n}=r.native,i=Gle(r);if(!this._pointerState.has(i))return void this._startClick(t);const s=this._pointerState.get(i),{data:o,modifiers:l}=s.event,c=n==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;l_(o,r)>c?(this._clearDoubleClickTimer(i,!0),this._startClick(t)):(this._clearDoubleClickTimer(i,!1),s.pointerDownCount===2&&this._doubleClick.emit(o,void 0,l))}_handlePointerDown(t){const r=nh(t.data),n=this._pointerState.get(r);n&&(n.pointerDownCount+=1)}_startClick(t){const{data:r}=t,{native:{pointerType:n}}=r,i=nh(r),s=n==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(i),s);this._pointerState.set(i,{event:t,doubleClickTimer:o,pointerDownCount:1}),this.refreshHasPendingInputs()}};function Gle(e){const{pointerId:t,pointerType:r,button:n}=e.native;return r==="mouse"?`${t}:${n}`:`${r}`}const q1={counter:"Control",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"}};let Id=class extends He{initialize(){const t=()=>this.view?.ready;this.addHandles([Pa(()=>!t(),()=>this._disconnect()),Pa(t,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerType(){return this._inputManager?.latestPointerType}get latestPointerLocation(){return this._inputManager?.latestPointerLocation}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}isModifierKeyDown(t){return this._inputManager?.isModifierKeyDown(t)??!1}_disconnect(){this.view.viewEvents.disconnect(),this._inputManager=wr(this._inputManager)}_connect(){const t=this.view.surface,r=new U7(t,this.view.input),n=[new Ule,new jle,new zle,new Dle(this.view.navigation),new Lle],i=new Ms({eventSource:r,recognizers:n});i.installHandlers("prevent-context-menu",[new Ole],dc.INTERNAL),i.installHandlers("navigation",[new Tle(this.view),new mle(this.view),new Ele(this.view),new zI(this.view),new zI(this.view,[q1.counter]),new xae(this.view,"primary"),new wle(this.view,q1.pan),new Sle(this.view,q1.zoom),new _le(this.view,q1.rotate),new Mae(this.view,"secondary"),new $ae(this.view,"touch")],dc.INTERNAL),this.view.viewEvents.connect(i),this._source=r,this._inputManager=i,dt(()=>this.view?.navigation?.browserTouchPanEnabled,s=>{this._source&&(this._source.browserTouchPanningEnabled=!s)},Hn)}get test(){}};p([y()],Id.prototype,"view",void 0),p([y()],Id.prototype,"latestPointerType",null),p([y()],Id.prototype,"latestPointerLocation",null),p([y()],Id.prototype,"multiTouchActive",null),Id=p([G("esri.views.2d.input.MapViewInputManager")],Id);const Vle=Id;function Ble(e,t,r,n,i){G7(e,t,r||0,n||e.length-1,i||Hle)}function G7(e,t,r,n,i){for(;n>r;){if(n-r>600){var s=n-r+1,o=t-r+1,l=Math.log(s),c=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*c*(s-c)/s)*(o-s/2<0?-1:1);G7(e,t,Math.max(r,Math.floor(t-o*c/s+d)),Math.min(n,Math.floor(t+(s-o)*c/s+d)),i)}var m=e[t],g=r,w=n;for(Rm(e,r,t),i(e[n],m)>0&&Rm(e,r,n);g<w;){for(Rm(e,g,w),g++,w--;i(e[g],m)<0;)g++;for(;i(e[w],m)>0;)w--}i(e[r],m)===0?Rm(e,r,w):Rm(e,++w,n),w<=t&&(r=w+1),t<=w&&(n=w-1)}}function Rm(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function Hle(e,t){return e<t?-1:e>t?1:0}function u_(e,t){if(!(this instanceof u_))return new u_(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&(typeof t=="function"?this.toBBox=t:this._initFormat(t)),this.clear()}function Wle(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function lp(e,t){Ty(e,0,e.children.length,t,e)}function Ty(e,t,r,n,i){i||(i=Ap(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var s,o=t;o<r;o++)s=e.children[o],$y(i,e.leaf?n(s):s);return i}function $y(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function YI(e,t){return e.minX-t.minX}function JI(e,t){return e.minY-t.minY}function vE(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function Z1(e){return e.maxX-e.minX+(e.maxY-e.minY)}function qle(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function Zle(e,t){var r=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY);return Math.max(0,i-r)*Math.max(0,s-n)}function wE(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function Y1(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Ap(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function KI(e,t,r,n,i){for(var s,o=[t,r];o.length;)(r=o.pop())-(t=o.pop())<=n||(s=t+Math.ceil((r-t)/n/2)*n,Ble(e,s,t,r,i),o.push(t,s,s,r))}u_.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,r=[],n=this.toBBox;if(!Y1(e,t))return r;for(var i,s,o,l,c=[];t;){for(i=0,s=t.children.length;i<s;i++)o=t.children[i],Y1(e,l=t.leaf?n(o):o)&&(t.leaf?r.push(o):wE(e,l)?this._all(o,r):c.push(o));t=c.pop()}return r},collides:function(e){var t=this.data,r=this.toBBox;if(!Y1(e,t))return!1;for(var n,i,s,o,l=[];t;){for(n=0,i=t.children.length;n<i;n++)if(s=t.children[n],Y1(e,o=t.leaf?r(s):s)){if(t.leaf||wE(e,o))return!0;l.push(s)}t=l.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(e){return e!=null&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=Ap([]),this},remove:function(e,t){if(e==null)return this;for(var r,n,i,s,o=this.data,l=this.toBBox(e),c=[],d=[];o||c.length;){if(o||(o=c.pop(),n=c[c.length-1],r=d.pop(),s=!0),o.leaf&&(i=Wle(e,o.children,t))!==-1)return o.children.splice(i,1),c.push(o),this._condense(c),this;s||o.leaf||!wE(o,l)?n?(r++,o=n.children[r],s=!1):o=null:(c.push(o),d.push(r),r=0,n=o,o=o.children[0])}return this},toBBox:function(e){return e},compareMinX:YI,compareMinY:JI,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},_build:function(e,t,r,n){var i,s=r-t+1,o=this._maxEntries;if(s<=o)return lp(i=Ap(e.slice(t,r+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,n-1))),(i=Ap([])).leaf=!1,i.height=n;var l,c,d,m,g=Math.ceil(s/o),w=g*Math.ceil(Math.sqrt(o));for(KI(e,t,r,w,this.compareMinX),l=t;l<=r;l+=w)for(KI(e,l,d=Math.min(l+w-1,r),g,this.compareMinY),c=l;c<=d;c+=g)m=Math.min(c+g-1,d),i.children.push(this._build(e,c,m,n-1));return lp(i,this.toBBox),i},_chooseSubtree:function(e,t,r,n){for(var i,s,o,l,c,d,m,g;n.push(t),!t.leaf&&n.length-1!==r;){for(m=g=1/0,i=0,s=t.children.length;i<s;i++)c=vE(o=t.children[i]),(d=qle(e,o)-c)<g?(g=d,m=c<m?c:m,l=o):d===g&&c<m&&(m=c,l=o);t=l||t.children[0]}return t},_insert:function(e,t,r){var n=this.toBBox,i=r?e:n(e),s=[],o=this._chooseSubtree(i,this.data,t,s);for(o.children.push(e),$y(o,i);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(i,s,t)},_split:function(e,t){var r=e[t],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var s=this._chooseSplitIndex(r,i,n),o=Ap(r.children.splice(s,r.children.length-s));o.height=r.height,o.leaf=r.leaf,lp(r,this.toBBox),lp(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(r,o)},_splitRoot:function(e,t){this.data=Ap([e,t]),this.data.height=e.height+1,this.data.leaf=!1,lp(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,r){var n,i,s,o,l,c,d,m;for(c=d=1/0,n=t;n<=r-t;n++)o=Zle(i=Ty(e,0,n,this.toBBox),s=Ty(e,n,r,this.toBBox)),l=vE(i)+vE(s),o<c?(c=o,m=n,d=l<d?l:d):o===c&&l<d&&(d=l,m=n);return m},_chooseSplitAxis:function(e,t,r){var n=e.leaf?this.compareMinX:YI,i=e.leaf?this.compareMinY:JI;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,i)&&e.children.sort(n)},_allDistMargin:function(e,t,r,n){e.children.sort(n);var i,s,o=this.toBBox,l=Ty(e,0,t,o),c=Ty(e,r-t,r,o),d=Z1(l)+Z1(c);for(i=t;i<r-t;i++)s=e.children[i],$y(l,e.leaf?o(s):s),d+=Z1(l);for(i=r-t-1;i>=t;i--)s=e.children[i],$y(c,e.leaf?o(s):s),d+=Z1(c);return d},_adjustParentBBoxes:function(e,t,r){for(var n=r;n>=0;n--)$y(t[n],e)},_condense:function(e){for(var t,r=e.length-1;r>=0;r--)e[r].children.length===0?r>0?(t=e[r-1].children).splice(t.indexOf(e[r]),1):this.clear():lp(e[r],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};let XI=class V7{constructor(t,r){this.key=new bc(0,0,0,0),this.bounds=Ri(),this.objectIds=new Set,this.key.set(r);const n=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=n.resolution,this.level=n.level,this.scale=n.scale,this.minScale=t.zoomToScale(n.level-1),this.maxScale=t.zoomToScale(n.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return tr.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(t){return{$view:{scale:this.scale,timeZone:t}}}createChildTiles(){const t=this.key.getChildKeys(),r=ni.acquire();for(let n=0;n<t.length;n++)r[n]=new V7(this.tileInfoView,t[n]);return r}getQuantizationParameters(){return g9.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const od={added:[],removed:[]},_E=new Set,Yle=new bc(0,0,0,0);function Jle(e,t){const r=ii(t);if(!r)return null;const[n,i]=r.valid;return e[2]>i?[Ri([e[0],e[1],i,e[3]]),Ri([n,e[1],n+e[2]-i,e[3]])]:e[0]<n?[Ri([n,e[1],e[2],e[3]]),Ri([i-(n-e[0]),e[1],i,e[3]])]:null}let Kle=class extends $c{constructor(t){super(),this._tiles=new Map,this._index=u_(9,ie("esri-csp-restrictions")?r=>({minX:r.bounds[0],minY:r.bounds[1],maxX:r.bounds[2],maxY:r.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}getIntersectingTiles(t){if(!t||hD(t)===0||pD(t)===0)return[];const r=Jle(t,this.tileScheme.spatialReference);return r!=null?[...new Set([...this.boundsIntersections(r[0]),...this.boundsIntersections(r[1])])]:this.boundsIntersections(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const r={added:[],removed:[]};for(const n of t.added)if(!this.has(n)){const i=new XI(this.tileScheme,n);this._tiles.set(n,i),this._index.insert(i),r.added.push(i)}for(const n of t.removed)if(this.has(n)){const i=this.get(n);this._tiles.delete(n),this._index.remove(i),r.removed.push(i)}this.tiles.length=0,this._tiles.forEach(n=>this.tiles.push(n)),(r.added.length||r.removed.length)&&this.emit("update",r)}setViewState(t){const r=this.tileScheme.getTileCoverage(t,0);if(!r)return;const{spans:n,lodInfo:i}=r,{level:s}=i;if(n.length>0)for(const{row:o,colFrom:l,colTo:c}of n)for(let d=l;d<=c;d++){const m=Yle.set(s,o,i.normalizeCol(d),i.getWorldForColumn(d)).id;if(_E.add(m),!this.has(m)){const g=new XI(this.tileScheme,m);this._tiles.set(m,g),this._index.insert(g),this.tiles.push(g),od.added.push(g)}}for(let o=this.tiles.length-1;o>=0;o--){const l=this.tiles[o];_E.has(l.id)||(this._tiles.delete(l.id),this.tiles.splice(o,1),this._index.remove(l),od.removed.push(l))}(od.added.length||od.removed.length)&&this.emit("update",od),P0.pool.release(r),_E.clear(),od.added.length=0,od.removed.length=0}};const FSe=1e-30,QI=512,J1=16777216,USe=8,jSe=29,zSe=24,GSe=4,VSe=0,BSe=0,HSe=0,WSe=1,qSe=2,ZSe=3,YSe=4,JSe=5,KSe=6,XSe=12,QSe=13,e2e=5,Xle=6,t2e=5,r2e=6;var eN;(function(e){e[e.FilterFlags=0]="FilterFlags",e[e.Animation=1]="Animation",e[e.GPGPU=2]="GPGPU",e[e.VV=3]="VV",e[e.DD0=4]="DD0",e[e.DD1=5]="DD1",e[e.DD2=6]="DD2",e[e.LocalTimeOrigin=7]="LocalTimeOrigin"})(eN||(eN={}));const B7=6,Qle=1<<B7,n2e=Qle<<1,i2e=1.05,s2e=3,o2e=1,a2e=3,l2e=3,u2e=5,c2e=6,d2e=1.15,eue=2,h2e=128,tue=256,p2e=tue-2*eue,f2e=2,m2e=128,y2e=10,g2e=1024,v2e=128,w2e=4,_2e=1,S2e=1<<20,b2e=.75,E2e=10,T2e=.75,$2e=256,x2e=32,M2e=512,k2e=0,A2e=1,rue=1,C2e=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],R2e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Pm=256,nue=new Ot("cyan"),iue=1,sue=.25;new Ot("black");const oue="default",aue="temporary",lue=new Ot("yellow");let Nd=class extends He{constructor(t){super(t),this.color=nue.clone(),this.haloOpacity=iue,this.fillOpacity=sue}equals(t){return this.color.equals(t.color)&&(this.haloColor||this.color).equals(t.haloColor||t.color)&&this.haloOpacity===t.haloOpacity&&this.fillOpacity===t.fillOpacity}};p([y({type:Ot})],Nd.prototype,"color",void 0),p([y({type:Ot})],Nd.prototype,"haloColor",void 0),p([y()],Nd.prototype,"haloOpacity",void 0),p([y()],Nd.prototype,"fillOpacity",void 0),Nd=p([G("esri.views.support.HighlightOptions")],Nd);const uue=Nd;var Zx;let xy=Zx=class extends uue{constructor(e){super(e),this.haloWidth=2.1,this.haloBlur=.8/this.haloWidth}equals(e){return super.equals(e)&&this.haloWidth===e.haloWidth&&this.haloBlur===e.haloBlur}get optionsKey(){return`${this.color};${this.haloColor};${this.haloOpacity};${this.fillOpacity};${this.haloWidth};${this.haloBlur}`}clone(){return new Zx({color:this.color.clone(),haloColor:this.haloColor?.clone(),haloOpacity:this.haloOpacity,fillOpacity:this.fillOpacity,haloWidth:this.haloWidth,haloBlur:this.haloBlur})}};p([y()],xy.prototype,"haloWidth",void 0),p([y()],xy.prototype,"haloBlur",void 0),xy=Zx=p([G("esri.views.2d.support.HighlightOptions")],xy);const mh=xy;var tN,rN,nN,iN,Yx,sN,oN,Ea,Jx,Xy,Qr,c_,Ds,cr,je,O0,Ol,aN,lN,uN;(function(e){e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e[e.COLOR=16384]="COLOR"})(tN||(tN={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(rN||(rN={})),function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(nN||(nN={})),function(e){e[e.ADD=32774]="ADD",e[e.MIN=32775]="MIN",e[e.MAX=32776]="MAX",e[e.SUBTRACT=32778]="SUBTRACT",e[e.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(iN||(iN={})),function(e){e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e[e.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",e[e.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",e[e.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",e[e.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",e[e.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"}(Yx||(Yx={})),function(e){e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(sN||(sN={})),function(e){e[e.CW=2304]="CW",e[e.CCW=2305]="CCW"}(oN||(oN={})),function(e){e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=5131]="HALF_FLOAT"}(Ea||(Ea={})),function(e){e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS"}(Jx||(Jx={})),function(e){e[e.ZERO=0]="ZERO",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP"}(Xy||(Xy={})),function(e){e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(Qr||(Qr={})),function(e){e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(c_||(c_={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_3D=32879]="TEXTURE_3D",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(Ds||(Ds={})),function(e){e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.RED=6403]="RED",e[e.RG=33319]="RG",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER"}(cr||(cr={})),function(e){e[e.RGBA4=32854]="RGBA4",e[e.R16F=33325]="R16F",e[e.RG16F=33327]="RG16F",e[e.RGB32F=34837]="RGB32F",e[e.RGBA16F=34842]="RGBA16F",e[e.R32F=33326]="R32F",e[e.RG32F=33328]="RG32F",e[e.RGBA32F=34836]="RGBA32F",e[e.R11F_G11F_B10F=35898]="R11F_G11F_B10F",e[e.RGB8=32849]="RGB8",e[e.RGBA8=32856]="RGBA8",e[e.RGB5_A1=32855]="RGB5_A1",e[e.R8=33321]="R8",e[e.RG8=33323]="RG8",e[e.R8I=33329]="R8I",e[e.R8UI=33330]="R8UI",e[e.R16I=33331]="R16I",e[e.R16UI=33332]="R16UI",e[e.R32I=33333]="R32I",e[e.R32UI=33334]="R32UI",e[e.RG8I=33335]="RG8I",e[e.RG8UI=33336]="RG8UI",e[e.RG16I=33337]="RG16I",e[e.RG16UI=33338]="RG16UI",e[e.RG32I=33339]="RG32I",e[e.RG32UI=33340]="RG32UI",e[e.RGB16F=34843]="RGB16F",e[e.RGB9_E5=35901]="RGB9_E5",e[e.SRGB8=35905]="SRGB8",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.RGB565=36194]="RGB565",e[e.RGBA32UI=36208]="RGBA32UI",e[e.RGB32UI=36209]="RGB32UI",e[e.RGBA16UI=36214]="RGBA16UI",e[e.RGB16UI=36215]="RGB16UI",e[e.RGBA8UI=36220]="RGBA8UI",e[e.RGB8UI=36221]="RGB8UI",e[e.RGBA32I=36226]="RGBA32I",e[e.RGB32I=36227]="RGB32I",e[e.RGBA16I=36232]="RGBA16I",e[e.RGB16I=36233]="RGB16I",e[e.RGBA8I=36238]="RGBA8I",e[e.RGB8I=36239]="RGB8I",e[e.R8_SNORM=36756]="R8_SNORM",e[e.RG8_SNORM=36757]="RG8_SNORM",e[e.RGB8_SNORM=36758]="RGB8_SNORM",e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.RGB10_A2=32857]="RGB10_A2",e[e.RGB10_A2UI=36975]="RGB10_A2UI"}(je||(je={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.INT=5124]="INT",e[e.HALF_FLOAT=5131]="HALF_FLOAT",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(O0||(O0={})),function(e){e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",e[e.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(Ol||(Ol={})),function(e){e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_READ=35045]="STATIC_READ",e[e.DYNAMIC_READ=35049]="DYNAMIC_READ",e[e.STREAM_READ=35041]="STREAM_READ",e[e.STATIC_COPY=35046]="STATIC_COPY",e[e.DYNAMIC_COPY=35050]="DYNAMIC_COPY",e[e.STREAM_COPY=35042]="STREAM_COPY"}(aN||(aN={})),function(e){e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER"}(lN||(lN={})),function(e){e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",e[e.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(uN||(uN={}));const O2e=33984;var d_,cN,dN;(function(e){e[e.Texture=0]="Texture",e[e.BufferObject=1]="BufferObject",e[e.VertexArrayObject=2]="VertexArrayObject",e[e.Shader=3]="Shader",e[e.Program=4]="Program",e[e.FramebufferObject=5]="FramebufferObject",e[e.Renderbuffer=6]="Renderbuffer",e[e.TransformFeedback=7]="TransformFeedback",e[e.Sync=8]="Sync",e[e.UNCOUNTED=9]="UNCOUNTED",e[e.LinesOfCode=9]="LinesOfCode",e[e.Uniform=10]="Uniform",e[e.COUNT=11]="COUNT"})(d_||(d_={})),function(e){e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",e[e.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",e[e.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",e[e.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",e[e.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",e[e.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",e[e.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",e[e.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",e[e.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",e[e.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",e[e.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",e[e.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",e[e.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",e[e.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",e[e.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(cN||(cN={})),function(e){e[e.NONE=0]="NONE",e[e.BACK=1029]="BACK"}(dN||(dN={}));const I2e=33306;var bn,hN,pN,fN,mN,yN,gN;(function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(bn||(bn={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT=5124]="INT",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",e[e.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",e[e.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",e[e.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",e[e.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",e[e.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",e[e.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",e[e.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",e[e.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",e[e.SAMPLER_3D=35679]="SAMPLER_3D",e[e.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",e[e.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",e[e.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",e[e.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",e[e.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",e[e.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",e[e.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",e[e.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",e[e.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",e[e.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(hN||(hN={})),function(e){e[e.OBJECT_TYPE=37138]="OBJECT_TYPE",e[e.SYNC_CONDITION=37139]="SYNC_CONDITION",e[e.SYNC_STATUS=37140]="SYNC_STATUS",e[e.SYNC_FLAGS=37141]="SYNC_FLAGS"}(pN||(pN={})),function(e){e[e.UNSIGNALED=37144]="UNSIGNALED",e[e.SIGNALED=37145]="SIGNALED"}(fN||(fN={})),function(e){e[e.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",e[e.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",e[e.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",e[e.WAIT_FAILED=37149]="WAIT_FAILED"}(mN||(mN={})),function(e){e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(yN||(yN={})),function(e){e[e.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(gN||(gN={}));const cue=()=>Ne.getLogger("esri.views.webgl.checkWebGLError");function due(e,t){switch(t){case e.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case e.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case e.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case e.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case e.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case e.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}const H7=!!ie("enable-feature:webgl-debug");function W7(){return H7}function N2e(){return H7}function up(e){if(W7()){const t=e.getError();if(t){const r=due(e,t),n=new Error().stack;cue().error(new fe("webgl-error","WebGL error occurred",{message:r,stack:n}))}}}var Kx;(function(e){e[e.Texture=0]="Texture",e[e.RenderBuffer=1]="RenderBuffer"})(Kx||(Kx={}));function hue(e){switch(e){case Ea.BYTE:case Ea.UNSIGNED_BYTE:return 1;case Ea.SHORT:case Ea.UNSIGNED_SHORT:case Ea.HALF_FLOAT:return 2;case Ea.FLOAT:case Ea.INT:case Ea.UNSIGNED_INT:return 4}}function pue(e){const t=e.gl;switch(t.getError()){case t.NO_ERROR:return null;case t.INVALID_ENUM:return"An unacceptable value has been specified for an enumerated argument";case t.INVALID_VALUE:return"An unacceptable value has been specified for an argument";case t.INVALID_OPERATION:return"The specified command is not allowed for the current state";case t.INVALID_FRAMEBUFFER_OPERATION:return"The currently bound framebuffer is not framebuffer complete";case t.OUT_OF_MEMORY:return"Not enough memory is left to execute the command";case t.CONTEXT_LOST_WEBGL:return"WebGL context is lost"}return"Unknown error"}function L2e(e,t,r,n,i=0){const s=e.gl;e.bindBuffer(r);for(const o of n){const l=t.get(o.name);if(l==null){console.warn(`There is no location for vertex attribute '${o.name}' defined.`);continue}const c=i*o.stride;if(o.count<=4)s.vertexAttribPointer(l,o.count,o.type,o.normalized,o.stride,o.offset+c),s.enableVertexAttribArray(l),o.divisor>0&&e.gl.vertexAttribDivisor(l,o.divisor);else if(o.count===9)for(let d=0;d<3;d++)s.vertexAttribPointer(l+d,3,o.type,o.normalized,o.stride,o.offset+12*d+c),s.enableVertexAttribArray(l+d),o.divisor>0&&e.gl.vertexAttribDivisor(l+d,o.divisor);else if(o.count===16)for(let d=0;d<4;d++)s.vertexAttribPointer(l+d,4,o.type,o.normalized,o.stride,o.offset+16*d+c),s.enableVertexAttribArray(l+d),o.divisor>0&&e.gl?.vertexAttribDivisor(l+d,o.divisor);else console.error("Unsupported vertex attribute element count: "+o.count);if(W7()){const d=pue(e),m=hue(o.type),g=o.offset,w=Math.round(m/g)!==m/g?`. Offset not a multiple of stride. DataType requires ${m} bytes, but descriptor has an offset of ${g}`:"";d&&console.error(`Unable to bind vertex attribute "${o.name}" with baseInstanceOffset ${c}${w}:`,d,o)}}}function D2e(e,t,r,n){const i=e.gl;e.bindBuffer(r);for(const s of n){const o=t.get(s.name);if(s.count<=4)i.disableVertexAttribArray(o),s.divisor&&s.divisor>0&&e.gl?.vertexAttribDivisor(o,0);else if(s.count===9)for(let l=0;l<3;l++)i.disableVertexAttribArray(o+l),s.divisor&&s.divisor>0&&e.gl?.vertexAttribDivisor(o+l,0);else if(s.count===16)for(let l=0;l<4;l++)i.disableVertexAttribArray(o+l),s.divisor&&s.divisor>0&&e.gl?.vertexAttribDivisor(o+l,0);else console.error("Unsupported vertex attribute element count: "+s.count)}e.unbindBuffer(Yx.ARRAY_BUFFER)}function fue(e){switch(e){case cr.ALPHA:case cr.LUMINANCE:case cr.RED:case cr.RED_INTEGER:case je.R8:case je.R8I:case je.R8UI:case je.R8_SNORM:case Ol.STENCIL_INDEX8:return 1;case cr.LUMINANCE_ALPHA:case cr.RG:case cr.RG_INTEGER:case je.RGBA4:case je.R16F:case je.R16I:case je.R16UI:case je.RG8:case je.RG8I:case je.RG8UI:case je.RG8_SNORM:case je.RGB565:case je.RGB5_A1:case Ol.DEPTH_COMPONENT16:return 2;case cr.DEPTH_COMPONENT:case cr.RGB:case cr.RGB_INTEGER:case je.RGB8:case je.RGB8I:case je.RGB8UI:case je.RGB8_SNORM:case je.SRGB8:case Ol.DEPTH_COMPONENT24:return 3;case cr.DEPTH_STENCIL:case cr.DEPTH24_STENCIL8:case cr.RGBA:case cr.RGBA_INTEGER:case je.RGBA8:case je.R32F:case je.R11F_G11F_B10F:case je.RG16F:case je.R32I:case je.R32UI:case je.RG16I:case je.RG16UI:case je.RGBA8I:case je.RGBA8UI:case je.RGBA8_SNORM:case je.SRGB8_ALPHA8:case je.RGB9_E5:case je.RGB10_A2UI:case je.RGB10_A2:case Ol.DEPTH_STENCIL:case Ol.DEPTH_COMPONENT32F:case Ol.DEPTH24_STENCIL8:return 4;case Ol.DEPTH32F_STENCIL8:return 5;case je.RGB16F:case je.RGB16I:case je.RGB16UI:return 6;case je.RG32F:case je.RG32I:case je.RG32UI:case je.RGBA16F:case je.RGBA16I:case je.RGBA16UI:return 8;case je.RGB32F:case je.RGB32I:case je.RGB32UI:return 12;case je.RGBA32F:case je.RGBA32I:case je.RGBA32UI:return 16;case bn.COMPRESSED_RGB_S3TC_DXT1_EXT:case bn.COMPRESSED_RGBA_S3TC_DXT1_EXT:return .5;case bn.COMPRESSED_RGBA_S3TC_DXT3_EXT:case bn.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case bn.COMPRESSED_R11_EAC:case bn.COMPRESSED_SIGNED_R11_EAC:case bn.COMPRESSED_RGB8_ETC2:case bn.COMPRESSED_SRGB8_ETC2:case bn.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case bn.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return .5;case bn.COMPRESSED_RG11_EAC:case bn.COMPRESSED_SIGNED_RG11_EAC:case bn.COMPRESSED_RGBA8_ETC2_EAC:case bn.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}let q7=class{constructor(t=0,r=t){this.width=t,this.height=r,this.target=Ds.TEXTURE_2D,this.pixelFormat=cr.RGBA,this.dataType=O0.UNSIGNED_BYTE,this.samplingMode=Qr.LINEAR,this.wrapMode=c_.REPEAT,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.depth=1,this.isImmutable=!1}};function mue(e){return e.width<=0||e.height<=0?0:Math.round(e.width*e.height*(e.hasMipmap?4/3:1)*(e.internalFormat==null?4:fue(e.internalFormat))*(e.target===Ds.TEXTURE_CUBE_MAP?6:1))}let yue=class Z7 extends q7{constructor(t,r){switch(super(),this.context=t,Object.assign(this,r),this.internalFormat){case je.R16F:case je.R16I:case je.R16UI:case je.R32F:case je.R32I:case je.R32UI:case je.R8_SNORM:case je.R8:case je.R8I:case je.R8UI:this.pixelFormat=cr.RED}}static validate(t,r){return new Z7(t,r)}},Y7=class Os{constructor(t,r=null,n=null){if(this.type=Kx.Texture,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._wasImmutablyAllocated=!1,"context"in t)this._descriptor=t,n=r;else{const i=yue.validate(t,r);if(!i)throw new fe("Texture descriptor invalid");this._descriptor=i}this._descriptor.target===Ds.TEXTURE_CUBE_MAP?this._setDataCubeMap(n):this.setData(n)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return mue(this._descriptor)}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty}dispose(){this._glName&&this._descriptor.context.instanceCounter.decrement(d_.Texture,this),this._descriptor.context.gl&&this._glName&&(this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null)}release(){this.dispose()}resize(t,r){const n=this._descriptor;if(n.width!==t||n.height!==r){if(this._wasImmutablyAllocated)throw new fe("Immutable textures can't be resized!");n.width=t,n.height=r,this._descriptor.target===Ds.TEXTURE_CUBE_MAP?this._setDataCubeMap(null):this.setData(null)}}_setDataCubeMap(t=null){for(let r=Ds.TEXTURE_CUBE_MAP_POSITIVE_X;r<=Ds.TEXTURE_CUBE_MAP_NEGATIVE_Z;r++)this._setData(t,r)}setData(t){this._setData(t)}_setData(t,r){const n=this._descriptor.context?.gl;if(!n)return;up(n),this._glName||(this._glName=n.createTexture(),this._glName&&this._descriptor.context.instanceCounter.increment(d_.Texture,this));const i=this._descriptor,s=r??i.target,o=Om(s),l=this._descriptor.context.bindTexture(this,Os.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(Os.TEXTURE_UNIT_FOR_UPDATES),K1(i),this._configurePixelStorage(),up(n);const c=this._deriveInternalFormat();if(_N(t)){let d="width"in t?t.width:t.codedWidth,m="height"in t?t.height:t.codedHeight;const g=1;t instanceof HTMLVideoElement&&(d=t.videoWidth,m=t.videoHeight),i.width&&i.height,o&&i.depth,i.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(s,c,i.hasMipmap,d,m,g),this._texImage(s,0,c,d,m,g,t),up(n),i.hasMipmap&&(this.generateMipmap(),up(n)),i.width||(i.width=d),i.height||(i.height=m),o&&!i.depth&&(i.depth=g)}else{const{width:d,height:m,depth:g}=i;if(d==null||m==null)throw new fe("Width and height must be specified!");if(o&&g==null)throw new fe("Depth must be specified!");if(i.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(s,c,i.hasMipmap,d,m,g),sw(t)){const w=t.levels,S=SN(s,d,m,g),$=Math.min(S-1,w.length-1);n.texParameteri(i.target,this._descriptor.context.gl.TEXTURE_MAX_LEVEL,$);const x=c;if(!wue(x))throw new fe("Attempting to use compressed data with an uncompressed format!");this._forEachMipmapLevel((M,P,F,V)=>{const U=w[Math.min(M,w.length-1)];this._compressedTexImage(s,M,x,P,F,V,U)},$)}else this._texImage(s,0,c,d,m,g,t),up(n),i.hasMipmap&&this.generateMipmap()}vN(n,this._descriptor),wN(n,this._descriptor),gue(this._descriptor.context,this._descriptor),up(n),this._descriptor.context.bindTexture(l,Os.TEXTURE_UNIT_FOR_UPDATES)}updateData(t,r,n,i,s,o,l=0){o||console.error("An attempt to use uninitialized data!"),this._glName||console.error("An attempt to update uninitialized texture!");const c=this._descriptor,d=this._deriveInternalFormat(),{context:m,pixelFormat:g,dataType:w,target:S,isImmutable:$}=c;if($&&!this._wasImmutablyAllocated)throw new fe("Cannot update immutable texture before allocation!");const x=m.bindTexture(this,Os.TEXTURE_UNIT_FOR_UPDATES,!0);(r<0||n<0||r+i>c.width||n+s>c.height)&&console.error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:M}=m;l&&M.pixelStorei(M.UNPACK_SKIP_ROWS,l),_N(o)?M.texSubImage2D(S,t,r,n,i,s,g,w,o):sw(o)?M.compressedTexSubImage2D(S,t,r,n,i,s,d,o.levels[t]):M.texSubImage2D(S,t,r,n,i,s,g,w,o),l&&M.pixelStorei(M.UNPACK_SKIP_ROWS,0),m.bindTexture(x,Os.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(t,r,n,i,s,o,l,c){c||console.error("An attempt to use uninitialized data!"),this._glName||console.error("An attempt to update uninitialized texture!");const d=this._descriptor,m=this._deriveInternalFormat(),{context:g,pixelFormat:w,dataType:S,isImmutable:$,target:x}=d;if($&&!this._wasImmutablyAllocated)throw new fe("Cannot update immutable texture before allocation!");Om(x)||console.warn("Attempting to set 3D texture data on a non-3D texture");const M=g.bindTexture(this,Os.TEXTURE_UNIT_FOR_UPDATES);g.setActiveTexture(Os.TEXTURE_UNIT_FOR_UPDATES),(r<0||n<0||i<0||r+s>d.width||n+o>d.height||i+l>d.depth)&&console.error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:P}=g;if(sw(c))c=c.levels[t],P.compressedTexSubImage3D(x,t,r,n,i,s,o,l,m,c);else{const F=c;P.texSubImage3D(x,t,r,n,i,s,o,l,w,S,F)}g.bindTexture(M,Os.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const t=this._descriptor;if(!t.hasMipmap){if(this._wasImmutablyAllocated)throw new fe("Cannot add mipmaps to immutable texture after allocation");t.hasMipmap=!0,this._samplingModeDirty=!0,K1(t)}t.samplingMode===Qr.LINEAR?(this._samplingModeDirty=!0,t.samplingMode=Qr.LINEAR_MIPMAP_NEAREST):t.samplingMode===Qr.NEAREST&&(this._samplingModeDirty=!0,t.samplingMode=Qr.NEAREST_MIPMAP_NEAREST);const r=this._descriptor.context.bindTexture(this,Os.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(Os.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(t.target),this._descriptor.context.bindTexture(r,Os.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){const t=this._descriptor;if(t.hasMipmap){if(this._wasImmutablyAllocated)throw new fe("Cannot delete mipmaps to immutable texture after allocation");t.hasMipmap=!1,this._samplingModeDirty=!0,K1(t)}t.samplingMode===Qr.LINEAR_MIPMAP_NEAREST?(this._samplingModeDirty=!0,t.samplingMode=Qr.LINEAR):t.samplingMode===Qr.NEAREST_MIPMAP_NEAREST&&(this._samplingModeDirty=!0,t.samplingMode=Qr.NEAREST)}setSamplingMode(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,this._samplingModeDirty=!0)}setWrapMode(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,K1(this._descriptor),this._wrapModeDirty=!0)}applyChanges(){const t=this._descriptor,r=t.context.gl;this._samplingModeDirty&&(vN(r,t),this._samplingModeDirty=!1),this._wrapModeDirty&&(wN(r,t),this._wrapModeDirty=!1)}_deriveInternalFormat(){if(this._descriptor.internalFormat!=null)return this._descriptor.internalFormat===cr.DEPTH_STENCIL&&(this._descriptor.internalFormat=cr.DEPTH24_STENCIL8),this._descriptor.internalFormat;switch(this._descriptor.dataType){case O0.FLOAT:switch(this._descriptor.pixelFormat){case cr.RGBA:return this._descriptor.internalFormat=je.RGBA32F;case cr.RGB:return this._descriptor.internalFormat=je.RGB32F;default:throw new fe("Unable to derive format")}case O0.UNSIGNED_BYTE:switch(this._descriptor.pixelFormat){case cr.RGBA:return this._descriptor.internalFormat=je.RGBA8;case cr.RGB:return this._descriptor.internalFormat=je.RGB8}}return this._descriptor.internalFormat=this._descriptor.pixelFormat===cr.DEPTH_STENCIL?cr.DEPTH24_STENCIL8:this._descriptor.pixelFormat}_configurePixelStorage(){const t=this._descriptor.context.gl,{unpackAlignment:r,flipped:n,preMultiplyAlpha:i}=this._descriptor;t.pixelStorei(t.UNPACK_ALIGNMENT,r),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,n?1:0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i?1:0)}_texStorage(t,r,n,i,s,o){const{gl:l}=this._descriptor.context;if(!vue(r))throw new fe("Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;const c=n?SN(t,i,s,o):1;if(Om(t)){if(o==null)throw new fe("Missing depth dimension for 3D texture upload");l.texStorage3D(t,c,r,i,s,o)}else l.texStorage2D(t,c,r,i,s);this._wasImmutablyAllocated=!0}_texImage(t,r,n,i,s,o,l){const c=this._descriptor.context.gl,d=Om(t),{isImmutable:m,pixelFormat:g,dataType:w}=this._descriptor;if(m){if(l!=null){const S=l;if(d){if(o==null)throw new fe("Missing depth dimension for 3D texture upload");c.texSubImage3D(t,r,0,0,0,i,s,o,g,w,S)}else c.texSubImage2D(t,r,0,0,i,s,g,w,S)}}else{const S=l;if(d){if(o==null)throw new fe("Missing depth dimension for 3D texture upload");c.texImage3D(t,r,n,i,s,o,0,g,w,S)}else c.texImage2D(t,r,n,i,s,0,g,w,S)}}_compressedTexImage(t,r,n,i,s,o,l){const c=this._descriptor.context.gl,d=Om(t);if(this._descriptor.isImmutable){if(l!=null)if(d){if(o==null)throw new fe("Missing depth dimension for 3D texture upload");c.compressedTexSubImage3D(t,r,0,0,0,i,s,o,n,l)}else c.compressedTexSubImage2D(t,r,0,0,i,s,n,l)}else if(d){if(o==null)throw new fe("Missing depth dimension for 3D texture upload");c.compressedTexImage3D(t,r,n,i,s,o,0,l)}else c.compressedTexImage2D(t,r,n,i,s,0,l)}_forEachMipmapLevel(t,r=1/0){let{width:n,height:i,depth:s,hasMipmap:o,target:l}=this._descriptor;const c=l===Ds.TEXTURE_3D;if(n==null||i==null||c&&s==null)throw new fe("Missing texture dimensions for mipmap calculation");for(let d=0;t(d,n,i,s),o&&(n!==1||i!==1||c&&s!==1)&&!(d>=r);++d)n=Math.max(1,n>>1),i=Math.max(1,i>>1),c&&(s=Math.max(1,s>>1))}};function K1(e){(e.width!=null&&e.width<0||e.height!=null&&e.height<0||e.depth!=null&&e.depth<0)&&console.error("Negative dimension parameters are not allowed!")}function vN(e,t){let r=t.samplingMode,n=t.samplingMode;r===Qr.LINEAR_MIPMAP_NEAREST||r===Qr.LINEAR_MIPMAP_LINEAR?(r=Qr.LINEAR,t.hasMipmap||(n=Qr.LINEAR)):r!==Qr.NEAREST_MIPMAP_NEAREST&&r!==Qr.NEAREST_MIPMAP_LINEAR||(r=Qr.NEAREST,t.hasMipmap||(n=Qr.NEAREST)),e.texParameteri(t.target,e.TEXTURE_MAG_FILTER,r),e.texParameteri(t.target,e.TEXTURE_MIN_FILTER,n)}function wN(e,t){typeof t.wrapMode=="number"?(e.texParameteri(t.target,e.TEXTURE_WRAP_S,t.wrapMode),e.texParameteri(t.target,e.TEXTURE_WRAP_T,t.wrapMode)):(e.texParameteri(t.target,e.TEXTURE_WRAP_S,t.wrapMode.s),e.texParameteri(t.target,e.TEXTURE_WRAP_T,t.wrapMode.t))}function gue(e,t){const r=e.capabilities.textureFilterAnisotropic;r&&e.gl.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY,t.maxAnisotropy??1)}function vue(e){return e in je}function wue(e){return e in bn}function sw(e){return e!=null&&"type"in e&&e.type==="compressed"}function _ue(e){return e!=null&&"byteLength"in e}function _N(e){return e!=null&&!sw(e)&&!_ue(e)}function Om(e){return e===Ds.TEXTURE_3D||e===Ds.TEXTURE_2D_ARRAY}function SN(e,t,r,n=1){let i=Math.max(t,r);return e===Ds.TEXTURE_3D&&(i=Math.max(i,n)),Math.round(Math.log(i)/Math.LN2)+1}Y7.TEXTURE_UNIT_FOR_UPDATES=0;const SE=()=>Ne.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient");function Sue(e,t){t.fillColor[0]=e.color.r/255,t.fillColor[1]=e.color.g/255,t.fillColor[2]=e.color.b/255,t.fillColor[3]=e.color.a,e.haloColor?(t.outlineColor[0]=e.haloColor.r/255,t.outlineColor[1]=e.haloColor.g/255,t.outlineColor[2]=e.haloColor.b/255,t.outlineColor[3]=e.haloColor.a):(t.outlineColor[0]=t.fillColor[0],t.outlineColor[1]=t.fillColor[1],t.outlineColor[2]=t.fillColor[2],t.outlineColor[3]=t.fillColor[3]),t.fillColor[3]*=e.fillOpacity,t.outlineColor[3]*=e.haloOpacity,t.fillColor[0]*=t.fillColor[3],t.fillColor[1]*=t.fillColor[3],t.fillColor[2]*=t.fillColor[3],t.outlineColor[0]*=t.outlineColor[3],t.outlineColor[1]*=t.outlineColor[3],t.outlineColor[2]*=t.outlineColor[3],t.outlineWidth=(1-e.haloBlur)*e.haloWidth,t.outerHaloWidth=e.haloBlur*e.haloWidth/2,t.innerHaloWidth=e.haloBlur*e.haloWidth/2,t.outlinePosition=0}const bue=[0,0,0,0];let J7=class{constructor(){this.type="single",this._highlightOptions=new mh,this._convertedHighlightOptions={fillColor:[0,0,0,0],outlineColor:[0,0,0,0],outlinePosition:0,outlineWidth:0,innerHaloWidth:0,outerHaloWidth:0},this._optionsShadeTexKey="",this._texelData=new Uint8Array(4*Pm),this._minMaxDistance=[0,0]}setHighlightOptions(t){this._highlightOptions=t}applyHighlightOptions(t,r){this._updateGradientTexture(t),t.bindTexture(this._shadeTex,Xle),r.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){this._shadeTex?.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:(1<<B7)-1,activeGradient:this}]}_updateGradientTexture(t){const{optionsKey:r}=this._highlightOptions;if(r===this._optionsShadeTexKey)return;this._optionsShadeTexKey=r,Sue(this._highlightOptions,this._convertedHighlightOptions);const n=this._convertedHighlightOptions,i=n.outlinePosition-n.outlineWidth/2-n.outerHaloWidth,s=n.outlinePosition-n.outlineWidth/2,o=n.outlinePosition+n.outlineWidth/2,l=n.outlinePosition+n.outlineWidth/2+n.innerHaloWidth,c=Math.sqrt(Math.PI/2)*rue,d=Math.abs(i)>c?Math.round(10*(Math.abs(i)-c))/10:0,m=Math.abs(l)>c?Math.round(10*(Math.abs(l)-c))/10:0;let g;d&&!m?SE().error("The outer rim of the highlight is "+d+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!d&&m?SE().error("The inner rim of the highlight is "+m+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):d&&m&&SE().error("The highlight is "+Math.max(d,m)+"px away from the edge of the feature; consider reducing some width values.");const w=[void 0,void 0,void 0,void 0];function S(x,M,P){w[0]=(1-P)*x[0]+P*M[0],w[1]=(1-P)*x[1]+P*M[1],w[2]=(1-P)*x[2]+P*M[2],w[3]=(1-P)*x[3]+P*M[3]}const{_texelData:$}=this;for(let x=0;x<Pm;++x)g=i+x/(Pm-1)*(l-i),g<i?(w[0]=0,w[1]=0,w[2]=0,w[3]=0):g<s?S(bue,n.outlineColor,(g-i)/(s-i)):g<o?[w[0],w[1],w[2],w[3]]=n.outlineColor:g<l?S(n.outlineColor,n.fillColor,(g-o)/(l-o)):[w[0],w[1],w[2],w[3]]=n.fillColor,$[4*x]=255*w[0],$[4*x+1]=255*w[1],$[4*x+2]=255*w[2],$[4*x+3]=255*w[3];if(this._minMaxDistance[0]=i,this._minMaxDistance[1]=l,!this._shadeTex){const x=new q7;x.wrapMode=c_.CLAMP_TO_EDGE,x.width=Pm,x.height=1,this._shadeTex=new Y7(t,x)}this._shadeTex.updateData(0,0,0,Pm,1,this._texelData)}},Eue=class{constructor(){this.type="multi",this.gradients=[]}setHighlightOptions(t){for(let r=0;r<t.length;r++)this.gradients[r]||(this.gradients[r]=new J7),this.gradients[r].setHighlightOptions(t[r].options);for(let r=t.length+1;r<this.gradients.length;r++)this.gradients[r].destroy();this.gradients.length=t.length}destroy(){for(const t of this.gradients)t.destroy()}getReasonsWithGradients(){let t=1;const r=[];for(let n=0;n<this.gradients.length;n++){const i=this.gradients[n];r.push({activeReasons:t,activeGradient:i}),t<<=1}return r}};var bN,EN,TN,$N,xN,MN,h_,kN,AN;(function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT",e[e.LABEL=4]="LABEL"})(bN||(bN={})),function(e){e[e.NONE=0]="NONE",e[e.MAP=1]="MAP",e[e.LABEL=2]="LABEL",e[e.LABEL_ALPHA=4]="LABEL_ALPHA",e[e.HITTEST=8]="HITTEST",e[e.HIGHLIGHT=16]="HIGHLIGHT",e[e.CLIP=32]="CLIP",e[e.DEBUG=64]="DEBUG",e[e.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(EN||(EN={})),function(e){e[e.SIZE=0]="SIZE",e[e.COLOR=1]="COLOR",e[e.OPACITY=2]="OPACITY",e[e.ROTATION=3]="ROTATION"}(TN||(TN={})),function(e){e[e.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",e[e.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",e[e.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",e[e.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}($N||($N={})),function(e){e[e.SPRITE=0]="SPRITE",e[e.GLYPH=1]="GLYPH"}(xN||(xN={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SIMPLE=1]="SIMPLE",e[e.DOT_DENSITY=2]="DOT_DENSITY",e[e.OUTLINE_FILL=3]="OUTLINE_FILL",e[e.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",e[e.HEATMAP=5]="HEATMAP",e[e.PIE_CHART=6]="PIE_CHART"}(MN||(MN={})),function(e){e[e.All=0]="All",e[e.Highlight=1]="Highlight",e[e.InsideEffect=2]="InsideEffect",e[e.OutsideEffect=3]="OutsideEffect"}(h_||(h_={})),function(e){e[e.BATCHING=0]="BATCHING",e[e.STRICT_ORDER=1]="STRICT_ORDER",e[e.STRICT_MARKERS_AND_TEXT=2]="STRICT_MARKERS_AND_TEXT"}(kN||(kN={})),function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT"}(AN||(AN={}));const K7={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{ref:e=>e.stencilRef,compare:Jx.EQUAL,mask:255,op:{fail:Xy.KEEP,zFail:Xy.KEEP,zPass:Xy.REPLACE}}}},Tue={color:{write:[!0,!0,!0,!0],blendMode:"additive"},depth:!1,stencil:!1},$ue={...K7,color:{write:[!0,!0,!0,!0],blendMode:"delete"}};function xue({pixelRatio:e,state:t,displayLevel:r,requiredLevel:n},i){const s=1/2**(r-i.key.level),o=1/2**(n-i.key.level);return{displayMat3:t.displayMat3,displayViewMat3:t.displayViewMat3,displayViewScreenMat3:i.transforms.displayViewScreenMat3,viewMat3:t.viewMat3,tileMat3:i.transforms.tileMat3,displayZoomFactor:s,requiredZoomFactor:o,tileOffset:[i.x,i.y],currentScale:t.scale,currentZoom:r,metersPerSRUnit:Tc(t.spatialReference),rotation:t.rotation,pixelRatio:e}}function X7(e){return e.passOptions?.type==="highlight"}function Q7(e){return e.passOptions?.type==="hittest"}function Mue(e){if(!Q7(e))return null;const{position:t,distance:r,smallSymbolDistance:n,smallSymbolSizeThreshold:i}=e.passOptions;return{position:t,distance:r,smallSymbolDistance:n,smallSymbolSizeThreshold:i}}function kue(e){if(!X7(e))return null;const{activeReasons:t,highlightAll:r}=e.passOptions;return{activeReasons:t,highlightAll:r?1:0}}function z2e(e,t,r){const n={};for(const i in r)r[i]instanceof Function?n[i]=r[i](e,t):n[i]=r[i];return n}function G2e(e,t){const{attributeView:r,context:n}=e;return{storage:r.getUniforms(n),view:xue(e,t),hittestRequest:Mue(e),highlight:kue(e)}}function V2e(e){return{inside:e.selection===h_.InsideEffect,outside:e.selection===h_.OutsideEffect}}function Aue(e){return Q7(e)?Tue:X7(e)&&e.passOptions.stepType==="clear"?$ue:K7}function B2e(e){const{row:t,col:r}=e.key,n=r*QI,i=t*QI;return{tileOffsetFromLocalOrigin:[n%J1,i%J1],maxIntsToLocalOrigin:[Math.floor(n/J1),Math.floor(i/J1)]}}const Cue=new en({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function H2e(e){return Cue.toJSON(e)}function W2e(e){const{bandCount:t,attributeTable:r,colormap:n,pixelType:i}=e.raster.rasterInfo;return t===1&&(r!=null||n!=null||i==="u8"||i==="s8")}function Rue(e,t){return t==null?(e?.destroy(),null):(e?.type==="single"&&Array.isArray(t)&&(e.destroy(),e=null),e?.type!=="multi"||Array.isArray(t)||(e.destroy(),e=null),e||(e=Array.isArray(t)?new Eue:new J7),Array.isArray(t)?e.type==="multi"&&e.setHighlightOptions(t):e.type==="single"&&e.setHighlightOptions(t),e)}function q2e(e,t,r,n){const{painter:i,highlightGradient:s}=e,{highlight:o}=i.effects;if(!s)return;const l=e.passOptions,c=s.getReasonsWithGradients();for(let d=0;d<c.length;d++){const m={...e,passOptions:{type:"highlight",activeGradient:n!=null?c[n].activeGradient:c[d].activeGradient,activeReasons:c[d].activeReasons,stepType:"burn",highlightAll:t}};if(o.bind(m),r(m),d<c.length-1){let w=0;for(let S=d+1;S<c.length;S++)w|=c[S].activeReasons;r({...e,passOptions:{type:"highlight",activeGradient:n!=null?c[n].activeGradient:c[d].activeGradient,activeReasons:w,stepType:"clear",highlightAll:t}})}const g={...e,passOptions:{type:"highlight",activeGradient:n!=null?c[n].activeGradient:c[d].activeGradient,activeReasons:c[d].activeReasons,stepType:"draw",highlightAll:t}};i.setPipelineState(Aue(e)),i.updatePipelineState(e.context),o.draw(g),o.unbind()}e.passOptions=l}const X1=e=>parseFloat(e)/100;function Pue(e,t,r){const n=typeof e.left=="string"?X1(e.left)*t:e.left,i=typeof e.right=="string"?X1(e.right)*t:e.right,s=typeof e.top=="string"?X1(e.top)*r:e.top,o=typeof e.bottom=="string"?X1(e.bottom)*r:e.bottom,l=s;return{xmin:n,xmax:Math.max(t-i,n),ymin:l,ymax:Math.max(r-o,s)}}function eU(e,t,r,n){switch(t.type){case"rect":{const{width:i,height:s}=e,{xmin:o,xmax:l,ymin:c,ymax:d}=Pue(t,i,s),{x:m,y:g}=r;return m>o&&m<l&&g>c&&g<d}case"path":return t.path.length===0||!Array.isArray(t.path[0][0])||cM(t.path,[r.x,r.y]);case"geometry":return t.geometry==null||(t.geometry.type==="polygon"?uM(t.geometry,n):H0(t.geometry,n))}}var Xx;let Vp=Xx=class extends He{constructor(...e){super(...e),this.name="default",this.options=new mh}clone(){return new Xx({name:this.name,options:this.options.clone()})}};p([y({type:String})],Vp.prototype,"name",void 0),p([y({type:mh})],Vp.prototype,"options",void 0),Vp=Xx=p([G("esri.views.2d.support.HighlightGroup")],Vp);const tU=Ye.ofType(Vp);function rU(){return new tU([{name:oue,options:new mh},{name:aue,options:new mh({color:lue})}])}rU().items.map(e=>e.name);function Oue(e){if(!e.highlights)return null;const t=e.highlights.findIndex(r=>r.name==="default");return t===-1?null:e.highlights.items[t].options}function Iue(e,t){if(!e.highlights){if(!t)return;e.highlights=new tU([{name:"default",options:new mh}])}const r=e.highlights.findIndex(n=>n.name==="default");t?e.highlights.items[r].options=t:e.highlights.removeAt(r)}async function Nue(e,t,r){const n=E9(t)?b9(e,t):t;if(!e.ready||isNaN(n.x)||isNaN(n.y))return{screenPoint:n,results:[]};let i=new Set;const s=new Set;let o=!1,l=null,c=null;r?.include?RN(r.include,CN(e,w=>{i.add(w),bE(w,S=>s.add(S))},(w,S)=>{s.add(w),i.add(S)},w=>{l||(l=new Set),l.add(w)},w=>i.add(w),()=>o=!0)):(o=!0,i=new Set(e.allLayerViews),i.forEach(w=>{bE(w,S=>s.add(S))})),r?.exclude&&RN(r.exclude,CN(e,w=>{i.delete(w),bE(w,S=>s.delete(S))},w=>s.delete(w),w=>{c||(c=new Set),c.add(w)}));const d=e.toMap(n),m=e.allLayerViews.filter(w=>!w.suspended&&i.has(w)&&w.clips.every(S=>eU(e,S,n,d))).reverse();let g=[...o?e.graphicsView.hitTest(d).map(w=>({type:"graphic",graphic:w,layer:null,mapPoint:d})):[],...await Promise.all(m.map(w=>w.hitTest(d,n)).toArray())].filter(n0).flat().filter(n0);return g=g.filter(w=>w.type!=="graphic"||w.layer?.type!=="subtype-group"||s.has(w.graphic.layer)),l&&(g=g.filter(w=>!("graphic"in w)||!w.graphic||l?.has(Qx(w.graphic)))),c&&(g=g.filter(w=>!("graphic"in w)||!w.graphic||!c?.has(Qx(w.graphic)))),{screenPoint:n,results:g}}function CN(e,t,r,n,i,s){return o=>{if(o instanceof M0){if(o.layer===e)s?.();else{const l=e.allLayerViews.find(c=>c.layer===o.layer);l&&i?.(l)}n(Qx(o))}else if(!("layer"in o&&"element"in o))if(o.type==="subtype-sublayer"){const l=e.allLayerViews.find(c=>c.layer===o.parent);l&&r(o,l)}else{const l=e.allLayerViews.find(c=>c.layer===o);l&&t(l)}}}function RN(e,t){if(e)if(bw(e))for(const r of e)if(bw(r))for(const n of r)t(n);else t(r);else t(e)}function Qx(e){const t=e.getObjectId();return t?`${e.layer?.uid??e.sourceLayer?.uid??"MapView"}/${t}`:`"MapView/${e.uid}`}function bE({layer:e},t){e?.type==="subtype-group"&&e.sublayers.forEach(r=>{t(r)})}let Im=null,p_=!0;function Lue(e,t,r){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(p_)try{return new ImageData(e,t)}catch{p_=!1}return nU(e,t,r)}function Z2e(e,t,r,n){if(!t||!r)throw new Error("Cannot construct image data without dimensions");if(p_)try{return new ImageData(e,t,r)}catch{p_=!1}const i=nU(t,r,n);return i.data.set(e,0),i}function Due(){return Im||(Im=document.createElement("canvas"),Im.width=1,Im.height=1),Im}function nU(e,t,r){return r||(r=Due()),r.getContext("2d").createImageData(e,t)}async function Fue(e,t){const r=window.URL.createObjectURL(e);try{const{data:n}=await Ar(r,{...t,responseType:"image"});return n}catch(n){throw Li(n)?n:new fe("invalid-image",`Could not fetch requested image at ${r}`)}finally{window.URL.revokeObjectURL(r)}}async function Y2e(e,t){const{arrayBuffer:r,mediaType:n}=await Uue(e,t),i=n==="image/png";if(n==="image/gif"){const{isAnimatedGIF:s,parseGif:o}=await ke(()=>import("./gif-Dv7SETOt.js"),[]);if(s(r))return o(r,t)}if(i){const{isAnimatedPNG:s,parseApng:o}=await ke(()=>import("./apng-CtRAPv67.js"),__vite__mapDeps([273,3]));if(s(r))return o(r,t)}return Fue(new Blob([r],{type:n}),t)}async function Uue(e,t){const r=lf(e);if(r?.isBase64)return{arrayBuffer:g5(r.data),mediaType:r.mediaType};const n=await Ar(e,{responseType:"array-buffer",...t});return{arrayBuffer:n.data,mediaType:n.getHeader?.("Content-Type")??""}}function iU(e,t,r){const{ctx:n,canvas:i}=oU(e,r),s=n.getImageData(0,0,e.width,e.height),o=lU(i,t);return aU(i),{dataUrl:o,data:s}}function sU(e,t){const{ctx:r,canvas:n}=oU(e,t),i=r.getImageData(0,0,e.width,e.height);return aU(n),i}function oU(e,t){const r=jue();t.premultipliedAlpha&&Bue(e),r.width=e.width,r.height=e.height;const n=r.getContext("2d",{willReadFrequently:!0});return n.putImageData(e,0,0),t.flipY&&Vue(n),{ctx:n,canvas:r}}function aU(e){e.width=0,e.height=0}function jue(){return EE==null&&(EE=document.createElement("canvas")),EE}let EE=null;function lU(e,t){const r=Hue[t.format],n=t.quality/100;return e.toDataURL(r,n)}function uU(e,t){const r=Gue(e),n=que[r];return{format:r,quality:Uo(t??n,0,100)}}function cU(e,t){return t/Math.max(e[0],e[1])}function zue(e,t,r,n=0,i=0,s=e.width-n,o=e.height-i,l=!1){const{data:c}=e,{width:d,height:m,data:g}=t,w=s/d,S=o/m,$=Math.ceil(w/2),x=Math.ceil(S/2),M=e.width;for(let P=0;P<m;P++)for(let F=0;F<d;F++){const V=4*(F+(l?m-P-1:P)*d);let U=0,z=0,Z=0,Q=0,pe=0,ye=0;const ge=(P+.5)*S;for(let Pe=Math.floor(P*S);Pe<(P+1)*S;Pe++){const Me=Math.abs(ge-(Pe+.5))/x,De=(F+.5)*w,Ae=Me*Me;for(let $t=Math.floor(F*w);$t<(F+1)*w;$t++){const kt=Math.abs(De-($t+.5))/$,it=Math.sqrt(Ae+kt*kt);if(it>=1)continue;let de=2*it*it*it-3*it*it+1;const $e=4*(n+$t+(i+Pe)*M);ye+=de*c[$e+3],z+=de,!r&&c[$e+3]<255&&(de=de*c[$e+3]/255),Z+=de*c[$e],Q+=de*c[$e+1],pe+=de*c[$e+2],U+=de}}g[V]=Z/U,g[V+1]=Q/U,g[V+2]=pe/U,g[V+3]=ye/z}return t}function Gue(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return Wue}}function Vue(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function Bue(e){const t=e.data,r=t.length;for(let n=0;n<r;n+=4){const i=t[n+3];if(i!==255&&i>0){const s=255/i;t[n]=t[n]*s,t[n+1]=t[n+1]*s,t[n+2]=t[n+2]*s}}}const Hue={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},PN=98,Wue="png",que={png:100,jpg:PN,jpeg:PN},J2e=Object.freeze(Object.defineProperty({__proto__:null,createEmptyImageData:Lue,encode:iU,encodeData:sU,getFormatAndQuality:uU,getMaximumResolutionScale:cU,resampleHermite:zue,toDataUrl:lU},Symbol.toStringTag,{value:"Module"})),dU={flipY:!0,premultipliedAlpha:!0};async function Zue(e,t){const r=await hU(e,t),{format:n,quality:i}=uU(t?.format,t?.quality);return iU(r,{format:n,quality:i},dU)}async function Yue(e,t){const r=await hU(e,t);return sU(r,dU)}function hU(e,t){const r=Xue(t||{},Kue(e.stage,e.size),e.size,e.padding),n=Jue(t,e.allLayerViews);return e.stage.takeScreenshot(r,n,e.backgroundColor,t?.rotation)}function Jue(e={},t){if(!e.layers)return;const r=[];return e.layers.forEach(n=>{const i=t.find(s=>s.layer.id===n.id);i?.container&&r.push(i.container)}),r}function Kue(e,t){return Math.min(4,cU(t,Math.min(4096,e.context.parameters.maxTextureSize)))}function Xue(e,t,r,n){e.ignorePadding&&(n={left:0,right:0,top:0,bottom:0});let i=null;e.width!=null&&e.height!=null?i=[e.width,e.height]:e.width==null&&e.height!=null?i=[e.height,e.height]:e.width!=null&&e.height==null?i=[e.width,e.width]:e.width==null&&e.height==null&&(i=null);const s=r[0]-(n.left+n.right),o=r[1]-(n.top+n.bottom);let l,c,d=e.area||{x:0,y:0,width:s,height:o};if(i){const m=s/o,g=i[0]/i[1];if(g>m){const w=d.width/g;d={x:d.x,y:Math.round(d.y+(d.height-w)/2),width:d.width,height:Math.round(w)}}else{const w=d.height*g;d={x:Math.round(d.x+(d.width-w)/2),y:d.y,width:Math.round(w),height:d.height}}}else i=[d.width,d.height];return i[0]>d.width?(l=Math.min(i[0]/d.width,t),c=i[0]/d.width/l):(l=1,c=i[0]/d.width),{cropArea:{x:Math.round((d.x+n.left)*l),y:Math.round((d.y+n.top)*l),width:Math.round(d.width*l),height:Math.round(d.height*l)},outputScale:c,resolutionScale:l}}const ON=160;let My=class extends He{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer==null&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=ON&&this.clear()},ON))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};p([y()],My.prototype,"_timer",void 0),p([y()],My.prototype,"stationary",null),My=p([G("esri.views.2d.support.StationaryManager")],My);const Que=e=>e.includes("Brush");let pU=class{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),Que(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}},TE;function ece(){return TE||(TE=nce()),TE}let tce=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}};function rce(e){if(typeof WebGL2RenderingContext>"u")return null;const t=document.createElement("canvas");if(!t)return null;let r=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(r==null&&(r=t.getContext("webgl2"),r!=null&&(e.majorPerformanceCaveat=!0)),r==null)return r;e.available=!0,e.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const n=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);return n&&(e.supportsHighPrecisionFragment=n.precision>0),r}function nce(){const e=new tce,t=rce(e);return t==null||(e.supportsColorBufferFloat=t.getExtension("EXT_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||t.getExtension("EXT_color_buffer_half_float")!==null),e}function ice(e){const t=ece();return t.available?e==="3d"&&t.majorPerformanceCaveat?new fe("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist."):t.supportsHighPrecisionFragment?t.supportsVertexShaderSamplers?null:new fe("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new fe("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new fe("webgl:required","WebGL2 is required but not supported.",new Error().stack)}function sce(e){return e&&"nodeType"in e}function oce(e){return e&&typeof e.render=="function"}const IN={component:"esri-component"};let Ld=class extends He{constructor(){super(...arguments),this.widget=null}destroy(){this.node=null,this.widget?.destroy()}get id(){return this._get("id")??this.widget?.id??this.node?.id}set id(t){this._set("id",t)}set node(t){const r=this._get("node");t!==r&&(t&&t.classList.add(IN.component),r&&r.classList.remove(IN.component),this._set("node",t))}castNode(t){return this.widget?.destroy(),t?typeof t=="string"||sce(t)?(this._set("widget",null),GM(t)):(oce(t)&&!t.domNode&&(t.domNode=document.createElement("div")),this._set("widget",t),t.domNode):(this._set("widget",null),null)}};p([y()],Ld.prototype,"id",null),p([y()],Ld.prototype,"node",null),p([jr("node")],Ld.prototype,"castNode",null),p([y({readOnly:!0})],Ld.prototype,"widget",void 0),Ld=p([G("esri.views.ui.Component")],Ld);const ow=Ld,fU="calcite-mode-";function ace(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"")}function lce(){return ace().startsWith("dark")}function uce(){return`${fU}${lce()?"dark":"light"}`}function cce(e){dce(e),e.classList.add(uce())}function dce(e){Array.from(e.classList).forEach(t=>{t.startsWith(fU)&&e.classList.remove(t)})}const hce={left:0,top:0,bottom:0,right:0},mU={bottom:30,top:15,right:15,left:15},dl="esri-ui",$i={ui:dl,corner:`${dl}-corner`,innerContainer:`${dl}-inner-container`,manualContainer:`${dl}-manual-container`,cornerContainer:`${dl}-corner-container`,topLeft:`${dl}-top-left`,topRight:`${dl}-top-right`,bottomLeft:`${dl}-bottom-left`,bottomRight:`${dl}-bottom-right`};function pce(e){return e&&!e._started&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}function Q1(e){return e===0?"0":`${e}px`}function $E(e){const t=typeof e=="object"&&e!==null&&Object.getPrototypeOf(e);return(t===null||t===Object.prototype)&&("component"in e||"index"in e||"position"in e)?e:null}function xE(e,{top:t,bottom:r,left:n,right:i}){e.style.top=t,e.style.bottom=r,e.style.left=n,e.style.right=i}let _a=class extends $c.EventedAccessor{constructor(t){super(t),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=Oi(),this.view=null,this._applyViewPadding=()=>{const r=this.container;r&&xE(r,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const r=this._innerContainer;r&&xE(r,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([dt(()=>[this.view?.padding,this.container],this._applyViewPadding,Hn),dt(()=>this.padding,this._applyUIPadding,Hn),dt(()=>[this.container,this._locale],([t,r])=>{t&&t.setAttribute("lang",r)},Hn),GD(t=>{this._locale=t})])}destroy(){this.container=null;for(const t of this._components)t.destroy();this._components.length=0,this._componentMap.clear()}set container(t){const r=this._get("container");t!==r&&(t&&(t.classList.add($i.ui),cce(t),this._attachContainers(t)),r&&(r.classList.remove($i.ui),xE(r,{top:"",bottom:"",left:"",right:""}),r.textContent=""),this._set("container",t))}get height(){const t=this.view?.height??0;if(t===0)return t;const r=this._getViewPadding(),{top:n,bottom:i}=r;return Math.max(t-n-i,0)}get padding(){return this._get("padding")}set padding(t){this._overrideIfSome("padding",t)}castPadding(t){return typeof t=="number"?{bottom:t,top:t,right:t,left:t}:{...mU,...t}}get width(){const t=this.view?.width??0;if(t===0)return t;const r=this._getViewPadding(),{left:n,right:i}=r;return Math.max(t-n-i,0)}add(t,r){let n,i,s;if(Array.isArray(t))return void t.forEach(l=>this.add(l,r));const o=$E(t);o&&({index:n,position:r,component:t,key:i}=o),r&&typeof r=="object"&&({index:n,key:i,position:r,internal:s}=r),!t||r&&!this._isValidPosition(r)||this._add(t,r,n,i,s)}remove(t,r){if(!t)return;if(Array.isArray(t))return t.map(i=>this.remove(i,r));const n=this._find(t);if(n){if(this._componentMap.has(n)&&this._componentMap.get(n)?.key!==r)return;const i=this._components.indexOf(n);return n.node.parentNode?.removeChild(n.node),this._componentMap.delete(n),n.widget?.removeHandlesReference(this._removeWidgetHandleKey),this._components.splice(i,1)[0]}}empty(t,r={removeInternal:!1}){if(Array.isArray(t)){for(const s of t)this.empty(s,r);return}const n=this._positionNameToContainerLookup[t??"manual"],i=Array.prototype.slice.call(n.children).map(s=>this._findByNode(s)).filter(s=>s==null?!1:!(this._componentMap.get(s)?.internal??!1)||r.removeInternal);for(const s of i)this.remove(s)}move(t,r){if(Array.isArray(t)&&t.forEach(o=>this.move(o,r)),!t)return;let n;const i=$E(t)||$E(r);if(i&&(n=i.index,r=i.position,t=i.component||t),r&&!this._isValidPosition(r))return;const s=this.remove(t);s&&this.add(s,{position:r,index:n})}find(t){if(!t)return null;const r=this._findById(t);return r&&(r.widget||r.node)}getComponents(t,r={includeInternal:!1}){return t?Array.isArray(t)?t.flatMap(n=>this._getComponentsAtPosition(n,r)):this._getComponentsAtPosition(t,r):this._components.filter(n=>r.includeInternal||!this._componentMap.get(n)?.internal).map(({widget:n,node:i})=>n??i)}getPosition(t){for(const r in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[r].contains(t))return r;return null}_add(t,r,n,i,s){t instanceof ow||(t=new ow({node:t}));const{widget:o}=t;o!=null&&o instanceof He&&o.addHandles(Dt(()=>{queueMicrotask(()=>this.remove(t))}),this._removeWidgetHandleKey),this._place({component:t,position:r,index:n}),this._components.push(t),this._componentMap.set(t,{key:i,internal:s})}_find(t){return t?t instanceof ow?this._findByComponent(t):typeof t=="string"?this._findById(t):this._findByNode(t.domNode||t):null}_getViewPadding(){return this.view?.padding??hce}_attachContainers(t){t.appendChild(this._innerContainer),t.appendChild(this._manualContainer)}_initContainers(){const t=document.createElement("div");t.classList.add($i.innerContainer,$i.cornerContainer);const r=document.createElement("div");r.classList.add($i.innerContainer,$i.manualContainer);const n=document.createElement("div");n.classList.add($i.topLeft,$i.corner),t.appendChild(n);const i=document.createElement("div");i.classList.add($i.topRight,$i.corner),t.appendChild(i);const s=document.createElement("div");s.classList.add($i.bottomLeft,$i.corner),t.appendChild(s);const o=document.createElement("div");o.classList.add($i.bottomRight,$i.corner),t.appendChild(o),this._innerContainer=t,this._manualContainer=r;const l=EX();this._cornerNameToContainerLookup={"top-left":n,"top-right":i,"bottom-left":s,"bottom-right":o,"top-leading":l?i:n,"top-trailing":l?n:i,"bottom-leading":l?o:s,"bottom-trailing":l?s:o},this._positionNameToContainerLookup={manual:r,...this._cornerNameToContainerLookup}}_isValidPosition(t){return!!this._positionNameToContainerLookup[t]}_place(t){const r=t.position??"manual",{component:n,index:i}=t,s=this._positionNameToContainerLookup[r],o=i!=null&&i>-1;if(pce(n.widget)&&n.widget.startup(),!o)return void s.appendChild(n.node);const l=Array.from(s.children);if(i===0){const{firstChild:d}=s;return void(d?d.parentNode?.insertBefore(n.node,d):s.appendChild(n.node))}if(i>=l.length)return void s.appendChild(n.node);const c=l[i];c.parentNode?.insertBefore(n.node,c)}_toPixelPosition(t){return{top:Q1(t.top),left:Q1(t.left),right:Q1(t.right),bottom:Q1(t.bottom)}}_findByComponent(t){return this._components.find(r=>r===t)??null}_findById(t){return this._components.find(({id:r})=>r===t)??null}_findByNode(t){return this._components.find(({node:r})=>r===t)??null}_getComponentsAtPosition(t,r){const n=this._positionNameToContainerLookup[t];return Array.prototype.slice.call(n.children).map(i=>this._findByNode(i)).filter(n0).filter(i=>r.includeInternal||!this._componentMap.get(i)?.internal).map(({widget:i,node:s})=>i??s)}};p([y()],_a.prototype,"_locale",void 0),p([y()],_a.prototype,"container",null),p([y()],_a.prototype,"height",null),p([y({value:mU})],_a.prototype,"padding",null),p([jr("padding")],_a.prototype,"castPadding",null),p([y()],_a.prototype,"view",void 0),p([y()],_a.prototype,"width",null),_a=p([G("esri.views.ui.UI")],_a);const fce=_a,mce="randomUUID"in crypto;function jk(){if(mce)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=r=>e[r].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function rbe(){return`{${jk().toUpperCase()}}`}function nbe(){return`{${jk()}}`}function ibe(e){const t=e.toUpperCase();return e[0]!=="{"?`{${t}}`:t}const yce={handleInterceptedEvent:(e,t,r,n)=>(e.scheduleRender(),t.properties[`on${n.type}`].apply(t.properties.bind||r,[n]))},gce={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}},vce=e=>({...gce,...e}),wce=(e,t)=>{const r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r},_ce=(e,t)=>e.find(t),NN=(e,t,r=!1)=>{let n=e;return t.forEach((i,s)=>{const o=n?.children?_ce(n.children,l=>l.domNode===i):void 0;r&&!o&&s!==t.length-1||(n=o)}),n},Sce=e=>{let t;const r={...yce,...e},n=vce(r),i=n.performanceLogger;let s,o=!0,l=!1;const c=[],d=[],m=(w,S,$)=>{let x;n.eventHandlerInterceptor=(P,F,V,U)=>function(z){let Z;i("domEvent",z);const Q=wce(z.currentTarget,x.domNode),pe=Q.some(ge=>customElements.get(ge?.tagName?.toLowerCase()));if(z.eventPhase===Event.CAPTURING_PHASE||!pe)Q.reverse(),Z=NN(x.getLastRender(),Q);else{const ge=z.composedPath(),Pe=ge.slice(ge.indexOf(z.currentTarget),ge.indexOf(x.domNode)).reverse();Z=NN(x.getLastRender(),Pe,!0)}let ye;return Z&&(ye=r.handleInterceptedEvent(t,Z,this,z)),i("domEventProcessed",z),ye},r.postProcessProjectionOptions?.(n);const M=$();x=w(S,M,n),n.eventHandlerInterceptor=void 0,c.push(x),d.push($),r.afterFirstVNodeRendered&&r.afterFirstVNodeRendered(x,M)};let g=()=>{if(s=void 0,o){o=!1,i("renderStart",void 0);for(let w=0;w<c.length;w++){const S=d[w]();i("rendered",void 0);try{c[w].update(S)}catch($){console.error($)}i("patched",void 0)}i("renderDone",void 0),o=!0}};return r.modifyDoRenderImplementation&&(g=r.modifyDoRenderImplementation(g,c,d)),t={renderNow:g,scheduleRender:()=>{s||l||(s=requestAnimationFrame(g))},stop:()=>{s&&(cancelAnimationFrame(s),s=void 0),l=!0},resume:()=>{l=!1,o=!0,t.scheduleRender()},append:(w,S)=>{m(ac.append,w,S)},insertBefore:(w,S)=>{m(ac.insertBefore,w,S)},merge:(w,S)=>{m(ac.merge,w,S)},replace:(w,S)=>{m(ac.replace,w,S)},detach:w=>{for(let S=0;S<d.length;S++)if(d[S]===w)return d.splice(S,1),c.splice(S,1)[0];throw new Error("renderFunction was not found")}},t};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const yU="calcite-mode-auto",gU="calcite-mode-dark",bce="calcite-mode-light",sbe={autoMode:yU,darkMode:gU,lightMode:bce,rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"},obe={filter:250,nextTick:0,resize:150,reposition:100};var Fs={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},Ece=Object.defineProperty,Tce=(e,t)=>{for(var r in t)Ece(e,r,{get:t[r],enumerable:!0})},vU=new WeakMap,$h=e=>vU.get(e),$ce=(e,t)=>{const r={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return vU.set(e,r)},LN=(e,t)=>t in e,og=(e,t)=>(0,console.error)(e,t),f_=new Map,xce=[],Mce="slot-fb{display:contents}slot-fb[hidden]{display:none}",DN="http://www.w3.org/1999/xlink",ag=typeof window<"u"?window:{},Lo=ag.document||{head:{}},abe=ag.HTMLElement||class{},fn={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,r,n)=>e.addEventListener(t,r,n),rel:(e,t,r,n)=>e.removeEventListener(t,r,n),ce:(e,t)=>new CustomEvent(e,t)},kce=(()=>{let e=!1;try{Lo.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),Ace=e=>Promise.resolve(e),Cce=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),e3=!1,t3=[],wU=[],_U=(e,t)=>r=>{e.push(r),e3||(e3=!0,t&&fn.$flags$&4?Rce(r3):fn.raf(r3))},FN=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(r){og(r)}e.length=0},r3=()=>{FN(t3),FN(wU),(e3=t3.length>0)&&fn.raf(r3)},Rce=e=>Ace().then(e),lbe=_U(t3,!1),Pce=_U(wU,!0),Oce=e=>{const t=new URL(e,fn.$resourcesUrl$);return t.origin!==ag.location.origin?t.href:t.pathname},Ice=e=>fn.$resourcesUrl$=e,UN={},Nce="http://www.w3.org/2000/svg",Lce="http://www.w3.org/1999/xhtml",Dce=e=>e!=null,zk=e=>(e=typeof e,e==="object"||e==="function");function Fce(e){var t,r,n;return(n=(r=(t=e.head)==null?void 0:t.querySelector('meta[name="csp-nonce"]'))==null?void 0:r.getAttribute("content"))!=null?n:void 0}var Uce={};Tce(Uce,{err:()=>SU,map:()=>jce,ok:()=>n3,unwrap:()=>zce,unwrapErr:()=>Gce});var n3=e=>({isOk:!0,isErr:!1,value:e}),SU=e=>({isOk:!1,isErr:!0,value:e});function jce(e,t){if(e.isOk){const r=t(e.value);return r instanceof Promise?r.then(n=>n3(n)):n3(r)}if(e.isErr){const r=e.value;return SU(r)}throw"should never get here"}var zce=e=>{if(e.isOk)return e.value;throw e.value},Gce=e=>{if(e.isErr)return e.value;throw e.value},yh=(e,t="")=>()=>{},bU=(e,t,...r)=>{let n=null,i=null,s=null,o=!1,l=!1;const c=[],d=g=>{for(let w=0;w<g.length;w++)n=g[w],Array.isArray(n)?d(n):n!=null&&typeof n!="boolean"&&((o=typeof e!="function"&&!zk(n))&&(n=String(n)),o&&l?c[c.length-1].$text$+=n:c.push(o?m_(null,n):n),l=o)};if(d(r),t){t.key&&(i=t.key),t.name&&(s=t.name);{const g=t.className||t.class;g&&(t.class=typeof g!="object"?g:Object.keys(g).filter(w=>g[w]).join(" "))}}if(typeof e=="function")return e(t===null?{}:t,c,Hce);const m=m_(e,null);return m.$attrs$=t,c.length>0&&(m.$children$=c),m.$key$=i,m.$name$=s,m},m_=(e,t)=>{const r={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return r.$attrs$=null,r.$key$=null,r.$name$=null,r},Vce={},Bce=e=>e&&e.$tag$===Vce,Hce={forEach:(e,t)=>e.map(jN).forEach(t),map:(e,t)=>e.map(jN).map(t).map(Wce)},jN=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),Wce=e=>{if(typeof e.vtag=="function"){const r={...e.vattrs};return e.vkey&&(r.key=e.vkey),e.vname&&(r.name=e.vname),bU(e.vtag,r,...e.vchildren||[])}const t=m_(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},qce=e=>xce.map(t=>t(e)).find(t=>!!t),Zce=(e,t)=>e!=null&&!zk(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,Yce=e=>e,ube=(e,t,r)=>{const n=Yce(e);return{emit:i=>Jce(n,t,{bubbles:!!(r&4),composed:!!(r&2),cancelable:!!(r&1),detail:i})}},Jce=(e,t,r)=>{const n=fn.ce(t,r);return e.dispatchEvent(n),n},zN=new WeakMap,Kce=(e,t,r)=>{let n=f_.get(e);Cce&&r?(n=n||new CSSStyleSheet,typeof n=="string"?n=t:n.replaceSync(t)):n=t,f_.set(e,n)},Xce=(e,t,r)=>{var n;const i=EU(t,r),s=f_.get(i);if(e=e.nodeType===11?e:Lo,s)if(typeof s=="string"){e=e.head||e;let o=zN.get(e),l;if(o||zN.set(e,o=new Set),!o.has(i)){{l=Lo.createElement("style"),l.innerHTML=s;const c=(n=fn.$nonce$)!=null?n:Fce(Lo);c!=null&&l.setAttribute("nonce",c),(!(t.$flags$&1)||t.$flags$&1&&e.nodeName!=="HEAD")&&e.insertBefore(l,e.querySelector("link"))}t.$flags$&4&&(l.innerHTML+=Mce),o&&o.add(i)}}else e.adoptedStyleSheets.includes(s)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,s]);return i},Qce=e=>{const t=e.$cmpMeta$,r=e.$hostElement$,n=t.$flags$,i=yh("attachStyles",t.$tagName$),s=Xce(r.shadowRoot?r.shadowRoot:r.getRootNode(),t,e.$modeName$);n&10&&n&2&&(r["s-sc"]=s,r.classList.add(s+"-h"),n&2&&r.classList.add(s+"-s")),i()},EU=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),GN=(e,t,r,n,i,s)=>{if(r!==n){let o=LN(e,t),l=t.toLowerCase();if(t==="class"){const c=e.classList,d=VN(r),m=VN(n);c.remove(...d.filter(g=>g&&!m.includes(g))),c.add(...m.filter(g=>g&&!d.includes(g)))}else if(t==="style"){for(const c in r)(!n||n[c]==null)&&(c.includes("-")?e.style.removeProperty(c):e.style[c]="");for(const c in n)(!r||n[c]!==r[c])&&(c.includes("-")?e.style.setProperty(c,n[c]):e.style[c]=n[c])}else if(t!=="key")if(t==="ref")n&&n(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n"){if(t[2]==="-"?t=t.slice(3):LN(ag,l)?t=l.slice(2):t=l[2]+t.slice(3),r||n){const c=t.endsWith(TU);t=t.replace(tde,""),r&&fn.rel(e,t,r,c),n&&fn.ael(e,t,n,c)}}else{const c=zk(n);if((o||c&&n!==null)&&!i)try{if(e.tagName.includes("-"))e[t]=n;else{const m=n??"";t==="list"?o=!1:(r==null||e[t]!=m)&&(e[t]=m)}}catch{}let d=!1;l!==(l=l.replace(/^xlink\:?/,""))&&(t=l,d=!0),n==null||n===!1?(n!==!1||e.getAttribute(t)==="")&&(d?e.removeAttributeNS(DN,t):e.removeAttribute(t)):(!o||s&4||i)&&!c&&(n=n===!0?"":n,d?e.setAttributeNS(DN,t,n):e.setAttribute(t,n))}}},ede=/\s/,VN=e=>e?e.split(ede):[],TU="Capture",tde=new RegExp(TU+"$"),$U=(e,t,r)=>{const n=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||UN,s=t.$attrs$||UN;for(const o of BN(Object.keys(i)))o in s||GN(n,o,i[o],void 0,r,t.$flags$);for(const o of BN(Object.keys(s)))GN(n,o,i[o],s[o],r,t.$flags$)};function BN(e){return e.includes("ref")?[...e.filter(t=>t!=="ref"),"ref"]:e}var Cp,i3,wf,y_=!1,g_=!1,Gk=!1,ts=!1,v_=(e,t,r,n)=>{var i;const s=t.$children$[r];let o=0,l,c,d;if(y_||(Gk=!0,s.$tag$==="slot"&&(Cp&&n.classList.add(Cp+"-s"),s.$flags$|=s.$children$?2:1)),s.$text$!==null)l=s.$elm$=Lo.createTextNode(s.$text$);else if(s.$flags$&1)l=s.$elm$=Lo.createTextNode("");else{if(ts||(ts=s.$tag$==="svg"),l=s.$elm$=Lo.createElementNS(ts?Nce:Lce,!y_&&Fs.slotRelocation&&s.$flags$&2?"slot-fb":s.$tag$),ts&&s.$tag$==="foreignObject"&&(ts=!1),$U(null,s,ts),!!l.getRootNode().querySelector("body")&&Fs.scoped&&Dce(Cp)&&l["s-si"]!==Cp&&l.classList.add(l["s-si"]=Cp),Bk(l,n),s.$children$)for(o=0;o<s.$children$.length;++o)c=v_(e,s,o,l),c&&l.appendChild(c);s.$tag$==="svg"?ts=!1:l.tagName==="foreignObject"&&(ts=!0)}return l["s-hn"]=wf,s.$flags$&3&&(l["s-sr"]=!0,l["s-cr"]=i3,l["s-sn"]=s.$name$||"",l["s-rf"]=(i=s.$attrs$)==null?void 0:i.ref,d=e&&e.$children$&&e.$children$[r],d&&d.$tag$===s.$tag$&&e.$elm$&&I0(e.$elm$,!1)),l},I0=(e,t)=>{fn.$flags$|=1;const r=Array.from(e.childNodes);if(e["s-sr"]&&Fs.experimentalSlotFixes){let n=e;for(;n=n.nextSibling;)n&&n["s-sn"]===e["s-sn"]&&n["s-sh"]===wf&&r.push(n)}for(let n=r.length-1;n>=0;n--){const i=r[n];i["s-hn"]!==wf&&i["s-ol"]&&(hc(kU(i),i,Vk(i)),i["s-ol"].remove(),i["s-ol"]=void 0,i["s-sh"]=void 0,Gk=!0),t&&I0(i,t)}fn.$flags$&=-2},xU=(e,t,r,n,i,s)=>{let o=e["s-cr"]&&e["s-cr"].parentNode||e,l;for(o.shadowRoot&&o.tagName===wf&&(o=o.shadowRoot);i<=s;++i)n[i]&&(l=v_(null,r,i,e),l&&(n[i].$elm$=l,hc(o,l,Vk(t))))},MU=(e,t,r)=>{for(let n=t;n<=r;++n){const i=e[n];if(i){const s=i.$elm$;RU(i),s&&(g_=!0,s["s-ol"]?s["s-ol"].remove():I0(s,!0),s.remove())}}},rde=(e,t,r,n,i=!1)=>{let s=0,o=0,l=0,c=0,d=t.length-1,m=t[0],g=t[d],w=n.length-1,S=n[0],$=n[w],x,M;for(;s<=d&&o<=w;)if(m==null)m=t[++s];else if(g==null)g=t[--d];else if(S==null)S=n[++o];else if($==null)$=n[--w];else if(ev(m,S,i))Rp(m,S,i),m=t[++s],S=n[++o];else if(ev(g,$,i))Rp(g,$,i),g=t[--d],$=n[--w];else if(ev(m,$,i))(m.$tag$==="slot"||$.$tag$==="slot")&&I0(m.$elm$.parentNode,!1),Rp(m,$,i),hc(e,m.$elm$,g.$elm$.nextSibling),m=t[++s],$=n[--w];else if(ev(g,S,i))(m.$tag$==="slot"||$.$tag$==="slot")&&I0(g.$elm$.parentNode,!1),Rp(g,S,i),hc(e,g.$elm$,m.$elm$),g=t[--d],S=n[++o];else{for(l=-1,c=s;c<=d;++c)if(t[c]&&t[c].$key$!==null&&t[c].$key$===S.$key$){l=c;break}l>=0?(M=t[l],M.$tag$!==S.$tag$?x=v_(t&&t[o],r,l,e):(Rp(M,S,i),t[l]=void 0,x=M.$elm$),S=n[++o]):(x=v_(t&&t[o],r,o,e),S=n[++o]),x&&hc(kU(m.$elm$),x,Vk(m.$elm$))}s>d?xU(e,n[w+1]==null?null:n[w+1].$elm$,r,n,o,w):o>w&&MU(t,s,d)},ev=(e,t,r=!1)=>e.$tag$===t.$tag$?e.$tag$==="slot"?"$nodeId$"in e&&r&&e.$elm$.nodeType!==8?!1:e.$name$===t.$name$:r?!0:e.$key$===t.$key$:!1,Vk=e=>e&&e["s-ol"]||e,kU=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,Rp=(e,t,r=!1)=>{const n=t.$elm$=e.$elm$,i=e.$children$,s=t.$children$,o=t.$tag$,l=t.$text$;let c;l===null?(ts=o==="svg"?!0:o==="foreignObject"?!1:ts,o==="slot"&&!y_||$U(e,t,ts),i!==null&&s!==null?rde(n,i,t,s,r):s!==null?(e.$text$!==null&&(n.textContent=""),xU(n,null,t,s,0,s.length-1)):!r&&Fs.updatable&&i!==null&&MU(i,0,i.length-1),ts&&o==="svg"&&(ts=!1)):(c=n["s-cr"])?c.parentNode.textContent=l:e.$text$!==l&&(n.data=l)},AU=e=>{const t=e.childNodes;for(const r of t)if(r.nodeType===1){if(r["s-sr"]){const n=r["s-sn"];r.hidden=!1;for(const i of t)if(i!==r){if(i["s-hn"]!==r["s-hn"]||n!==""){if(i.nodeType===1&&(n===i.getAttribute("slot")||n===i["s-sn"])||i.nodeType===3&&n===i["s-sn"]){r.hidden=!0;break}}else if(i.nodeType===1||i.nodeType===3&&i.textContent.trim()!==""){r.hidden=!0;break}}}AU(r)}},Dl=[],CU=e=>{let t,r,n;for(const i of e.childNodes){if(i["s-sr"]&&(t=i["s-cr"])&&t.parentNode){r=t.parentNode.childNodes;const s=i["s-sn"];for(n=r.length-1;n>=0;n--)if(t=r[n],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==i["s-hn"]&&!Fs.experimentalSlotFixes)if(HN(t,s)){let o=Dl.find(l=>l.$nodeToRelocate$===t);g_=!0,t["s-sn"]=t["s-sn"]||s,o?(o.$nodeToRelocate$["s-sh"]=i["s-hn"],o.$slotRefNode$=i):(t["s-sh"]=i["s-hn"],Dl.push({$slotRefNode$:i,$nodeToRelocate$:t})),t["s-sr"]&&Dl.map(l=>{HN(l.$nodeToRelocate$,t["s-sn"])&&(o=Dl.find(c=>c.$nodeToRelocate$===t),o&&!l.$slotRefNode$&&(l.$slotRefNode$=o.$slotRefNode$))})}else Dl.some(o=>o.$nodeToRelocate$===t)||Dl.push({$nodeToRelocate$:t})}i.nodeType===1&&CU(i)}},HN=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",RU=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(RU)},hc=(e,t,r)=>{const n=e?.insertBefore(t,r);return Bk(t,e),n},PU=e=>{const t=[];return e&&t.push(...e["s-scs"]||[],e["s-si"],e["s-sc"],...PU(e.parentElement)),t},Bk=(e,t,r=!1)=>{var n;if(e&&t&&e.nodeType===1){const i=new Set(PU(t).filter(Boolean));if(i.size&&((n=e.classList)==null||n.add(...e["s-scs"]=[...i]),e["s-ol"]||r))for(const s of Array.from(e.childNodes))Bk(s,e,!0)}},nde=(e,t,r=!1)=>{var n,i,s,o,l;const c=e.$hostElement$,d=e.$cmpMeta$,m=e.$vnode$||m_(null,null),g=Bce(t)?t:bU(null,null,t);if(wf=c.tagName,d.$attrsToReflect$&&(g.$attrs$=g.$attrs$||{},d.$attrsToReflect$.map(([w,S])=>g.$attrs$[S]=c[w])),r&&g.$attrs$)for(const w of Object.keys(g.$attrs$))c.hasAttribute(w)&&!["key","ref","style","class"].includes(w)&&(g.$attrs$[w]=c[w]);g.$tag$=null,g.$flags$|=4,e.$vnode$=g,g.$elm$=m.$elm$=c.shadowRoot||c,Cp=c["s-sc"],y_=(d.$flags$&1)!==0,i3=c["s-cr"],g_=!1,Rp(m,g,r);{if(fn.$flags$|=1,Gk){CU(g.$elm$);for(const w of Dl){const S=w.$nodeToRelocate$;if(!S["s-ol"]){const $=Lo.createTextNode("");$["s-nr"]=S,hc(S.parentNode,S["s-ol"]=$,S)}}for(const w of Dl){const S=w.$nodeToRelocate$,$=w.$slotRefNode$;if($){const x=$.parentNode;let M=$.nextSibling;{let P=(n=S["s-ol"])==null?void 0:n.previousSibling;for(;P;){let F=(i=P["s-nr"])!=null?i:null;if(F&&F["s-sn"]===S["s-sn"]&&x===F.parentNode){for(F=F.nextSibling;F===S||F?.["s-sr"];)F=F?.nextSibling;if(!F||!F["s-nr"]){M=F;break}}P=P.previousSibling}}(!M&&x!==S.parentNode||S.nextSibling!==M)&&S!==M&&(!S["s-hn"]&&S["s-ol"]&&(S["s-hn"]=S["s-ol"].parentNode.nodeName),hc(x,S,M),S.nodeType===1&&(S.hidden=(s=S["s-ih"])!=null?s:!1)),S&&typeof $["s-rf"]=="function"&&$["s-rf"](S)}else S.nodeType===1&&(r&&(S["s-ih"]=(o=S.hidden)!=null?o:!1),S.hidden=!0)}}g_&&AU(g.$elm$),fn.$flags$&=-2,Dl.length=0}if(Fs.experimentalScopedSlotChanges&&d.$flags$&2)for(const w of g.$elm$.childNodes)w["s-hn"]!==wf&&!w["s-sh"]&&(r&&w["s-ih"]==null&&(w["s-ih"]=(l=w.hidden)!=null?l:!1),w.hidden=!0);i3=void 0},ide=(e,t)=>{},Hk=(e,t)=>(e.$flags$|=16,ide(e,e.$ancestorComponent$),Pce(()=>sde(e,t))),sde=(e,t)=>{const r=e.$hostElement$,n=yh("scheduleUpdate",e.$cmpMeta$.$tagName$),i=r;if(!i)throw new Error(`Can't render component <${r.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let s;return t?s=nf(i,"componentWillLoad"):s=nf(i,"componentWillUpdate"),s=WN(s,()=>nf(i,"componentWillRender")),n(),WN(s,()=>ade(e,i,t))},WN=(e,t)=>ode(e)?e.then(t).catch(r=>{console.error(r),t()}):t(),ode=e=>e instanceof Promise||e&&e.then&&typeof e.then=="function",ade=async(e,t,r)=>{const n=e.$hostElement$,i=yh("update",e.$cmpMeta$.$tagName$);n["s-rc"],r&&Qce(e);const s=yh("render",e.$cmpMeta$.$tagName$);lde(e,t,n,r),s(),i(),ude(e)},qN=null,lde=(e,t,r,n)=>{try{qN=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(Fs.hasRenderFn||Fs.reflect)&&(Fs.vdomRender||Fs.reflect)&&(Fs.hydrateServerSide||nde(e,t,n))}catch(c){og(c,e.$hostElement$)}return qN=null,null},ude=e=>{const t=e.$cmpMeta$.$tagName$,r=e.$hostElement$,n=yh("postUpdate",t),i=r;e.$ancestorComponent$,nf(i,"componentDidRender"),e.$flags$&64?(nf(i,"componentDidUpdate"),n()):(e.$flags$|=64,nf(i,"componentDidLoad"),n())},cbe=e=>{{const t=$h(e),r=t.$hostElement$.isConnected;return r&&(t.$flags$&18)===2&&Hk(t,!1),r}},nf=(e,t,r)=>{if(e&&e[t])try{return e[t](r)}catch(n){og(n)}},cde=(e,t)=>$h(e).$instanceValues$.get(t),dde=(e,t,r,n)=>{const i=$h(e),s=e,o=i.$instanceValues$.get(t),l=i.$flags$,c=s;r=Zce(r,n.$members$[t][0]);const d=Number.isNaN(o)&&Number.isNaN(r);if(r!==o&&!d){i.$instanceValues$.set(t,r);{if(n.$watchers$&&l&128){const g=n.$watchers$[t];g&&g.map(w=>{try{c[w](r,o,t)}catch(S){og(S,s)}})}if((l&18)===2){if(c.componentShouldUpdate&&c.componentShouldUpdate(r,o,t)===!1)return;Hk(i,!1)}}}},hde=(e,t,r)=>{var n,i;const s=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const o=Object.entries((n=t.$members$)!=null?n:{});o.map(([l,[c]])=>{(c&31||c&32)&&Object.defineProperty(s,l,{get(){return cde(this,l)},set(d){dde(this,l,d,t)},configurable:!0,enumerable:!0})});{const l=new Map;s.attributeChangedCallback=function(c,d,m){fn.jmp(()=>{var g;const w=l.get(c);if(this.hasOwnProperty(w))m=this[w],delete this[w];else{if(s.hasOwnProperty(w)&&typeof this[w]=="number"&&this[w]==m)return;if(w==null){const S=$h(this),$=S?.$flags$;if($&&!($&8)&&$&128&&m!==d){const M=this,P=(g=t.$watchers$)==null?void 0:g[c];P?.forEach(F=>{M[F]!=null&&M[F].call(M,m,d,c)})}return}}this[w]=m===null&&typeof this[w]=="boolean"?!1:m})},e.observedAttributes=Array.from(new Set([...Object.keys((i=t.$watchers$)!=null?i:{}),...o.filter(([c,d])=>d[0]&15).map(([c,d])=>{var m;const g=d[1]||c;return l.set(g,c),d[0]&512&&((m=t.$attrsToReflect$)==null||m.push([c,g])),g})]))}}return e},pde=async(e,t,r,n)=>{let i;if(!(t.$flags$&32)){t.$flags$|=32,r.$lazyBundleId$;{i=e.constructor;const o=e.localName;customElements.whenDefined(o).then(()=>t.$flags$|=128)}if(i&&i.style){let o;typeof i.style=="string"?o=i.style:typeof i.style!="string"&&(t.$modeName$=qce(e),t.$modeName$&&(o=i.style[t.$modeName$]));const l=EU(r,t.$modeName$);if(!f_.has(l)){const c=yh("registerStyles",r.$tagName$);Kce(l,o,!!(r.$flags$&1)),c()}}}t.$ancestorComponent$,Hk(t,!0)},ZN=e=>{},fde=e=>{if(!(fn.$flags$&1)){const t=$h(e),r=t.$cmpMeta$,n=yh("connectedCallback",r.$tagName$);t.$flags$&1?(OU(e,t,r.$listeners$),t?.$lazyInstance$?ZN(t.$lazyInstance$):t?.$onReadyPromise$&&t.$onReadyPromise$.then(()=>ZN(t.$lazyInstance$))):(t.$flags$|=1,r.$flags$&12&&mde(e),r.$members$&&Object.entries(r.$members$).map(([i,[s]])=>{if(s&31&&e.hasOwnProperty(i)){const o=e[i];delete e[i],e[i]=o}}),pde(e,t,r)),n()}},mde=e=>{const t=e["s-cr"]=Lo.createComment("");t["s-cn"]=!0,hc(e,t,e.firstChild)},yde=async e=>{if(!(fn.$flags$&1)){const t=$h(e);t.$rmListeners$&&(t.$rmListeners$.map(r=>r()),t.$rmListeners$=void 0)}},dbe=(e,t)=>{const r={$flags$:t[0],$tagName$:t[1]};r.$members$=t[2],r.$listeners$=t[3],r.$watchers$=e.$watchers$,r.$attrsToReflect$=[];const n=e.prototype.connectedCallback,i=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){$ce(this,r)},connectedCallback(){const s=$h(this);OU(this,s,r.$listeners$),fde(this),n&&n.call(this)},disconnectedCallback(){yde(this),i&&i.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(r.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${r.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}),e.is=r.$tagName$,hde(e,r)},hbe=(e,t)=>t,OU=(e,t,r,n)=>{r&&r.map(([i,s,o])=>{const l=vde(e,i),c=gde(t,o),d=wde(i);fn.ael(l,s,c,d),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>fn.rel(l,s,c,d))})},gde=(e,t)=>r=>{var n;try{Fs.lazyLoad||e.$hostElement$[t](r)}catch(i){og(i)}},vde=(e,t)=>t&4?Lo:t&8?ag:t&16?Lo.body:e,wde=e=>kce?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0;/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Qy=globalThis.calciteConfig,pbe=Qy?.focusTrapStack||[];Qy?.logLevel;const YN="2.13.2",_de="2024-10-24",Sde="e38e2977d";function bde(){if(Qy&&Qy.version)return;console.info(`Using Calcite Components ${YN} [Date: ${_de}, Revision: ${Sde}]`);const e=Qy||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:YN,writable:!1}),globalThis.calciteConfig=e}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Ede=()=>typeof navigator<"u"&&typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */function JN(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,r=()=>e.contains(gU)||e.contains(yU)&&t?"dark":"light",n=o=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:o}})),i=o=>{s!==o&&n(o),s=o};let s=r();n(s),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>i(o.matches?"dark":"light")),new MutationObserver(()=>i(r())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}function Tde(){Ede()&&(document.readyState==="interactive"?JN():document.addEventListener("DOMContentLoaded",()=>JN(),{once:!0})),bde()}const $de=Tde;$de();let IU;function xde(){try{Oce(".")}catch{Ice(Ls(zt(IU)))}}function Wk(e){const t=[];for(const r of Object.keys(e))customElements.get(`calcite-${r}`)||t.push(e[r]?.());return t.length>0?Promise.all(t):null}IU="components/assets";const NU=Symbol("widget"),LU=Symbol("widget-test-data"),Mde=[],kde={},w_=new WeakMap;function DU(e,t){let r=t.children;if(r?.length)for(let i=0;i<r.length;++i)r[i]=DU(e,r[i]);else r=Mde;const n=t.vnodeSelector;if(__(n)){const i=t.properties||kde,s=i.key||n,o={key:s,afterCreate:Ade,afterUpdate:Cde,afterRemoved:FU,parentWidget:e,widgetConstructor:n,widgetProperties:{...i,key:s,children:r}};return{vnodeSelector:n.vnodeSelector,properties:o,children:void 0,text:void 0,domNode:null}}return t}function Ade(e,t,r,{parentWidget:n,widgetConstructor:i,widgetProperties:s}){const o=new i(s);o.container=e,w_.set(e,o),o.afterCreate?.(o,e),n.addHandles(Dt(()=>FU(e))),queueMicrotask(()=>{o[LU].projector.renderNow()})}function Cde(e,t,r,{widgetProperties:n}){const i=w_.get(e);i&&(i.set(n),i.afterUpdate?.(i,e))}function FU(e){const t=w_.get(e);t&&(t.afterRemoved?.(t,e),t.destroy(),w_.delete(e))}function __(e){return typeof e=="function"&&e[NU]}const KN=new Set;function Rde(e){KN.add(e),e.finally(()=>KN.delete(e))}var UU;const Pde="esri.widgets.Widget";let Ode=0;function jU(e,t){const r=Object.prototype.hasOwnProperty;for(const n in t)r.call(t,n)&&r.call(e,n)&&(e[n]!=null&&t[n]!=null&&typeof e[n]=="object"&&typeof t[n]=="object"?jU(e[n],t[n]):e[n]=t[n]);return e}const Ide=Sce({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=(n,i,s,o)=>{const l=t?.(n,i,s,o),c=r.test(n);if(!((n=n.replace(r,"")).toLowerCase()in s)||c){const d=n[2].toLowerCase()+n.slice(3),m=S=>l?.call(s,S);s.addEventListener(d,m,c);const g=()=>s.removeEventListener(d,m,c),w=o.afterRemoved;o.afterRemoved=S=>{w?.(S),g()}}return l}},handleInterceptedEvent(e,t,r,n){const{eventPhase:i,type:s}=n,o=i===Event.CAPTURING_PHASE;let l=`on${s}${o?"capture":""}`;const c=t.properties;(c&&l in c||(l=`on${s[0].toUpperCase()}${s.slice(1)}${o?"Capture":""}`,c&&l in c))&&(RF(),e.scheduleRender(),c[l].call(c.bind||r,n))}});let ME=!1,qr=class extends qM($c.EventedAccessor){constructor(t,r){super(t,r),this._attached=!1,this._projector=Ide,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=X4(async()=>{if(this._messageBundleProps?.length){const c=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:d,propertyName:m})=>{if(this.destroyed)return;let g=await Z6(d);this.uiStrings&&Object.keys(this.uiStrings)&&(g=jU(me(g),this.uiStrings)),this[m]=g}));if(this.destroyed)return;for(const d of c)d.status==="rejected"&&Ne.getLogger(this).error("widget-intl:locale-error",this.declaredClass,d.reason)}await this.loadLocale()}),xde();const n="esri-widget-uid-"+jk(),i=this.render.bind(this);this._trackingTarget=new L_(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const s=()=>({vnodeSelector:"div",properties:{key:`${n}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),o=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const c=i()??s(),d=c.properties??={};if(d.key??=n,__(c.vnodeSelector)){if(!this.visible)return s()}else this.visible?d.styles||(d.styles={}):(d.class="",d.styles={display:"none"}),d.styles.display??="";let m=0;return c.children?.forEach(g=>{__(g.vnodeSelector)||(g.properties??={},g.properties.key??=`${this.id}--${m++}`)}),DU(this,c)};this.render=()=>{if(ME)return o();let c=_X(this)??null;if(c)return c;this._trackingTarget.clear(),ME=!0;try{c=Vl(this._trackingTarget,o)}catch(d){throw Ne.getLogger(this).error(d),d}finally{ME=!1}return c&&SX(this,c),c};const l=this.beforeFirstRender();l?this._resourcesFetch=l.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),Rde(this._resourcesFetch)}normalizeCtorArgs(t,r){const n={...t};return r&&(n.container=r),n}postInitialize(){}beforeFirstRender(){const t=this.loadDependencies();return this._messageBundleProps?.length||t?Promise.all([t,this._loadLocale()]).then(()=>{}).catch(WR):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(wr(this._trackingTarget),wr(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,Wb(this))}set container(t){this._get("container")||this._set("container",t)}castContainer(t){return GM(t)}get domNode(){return this.container}set domNode(t){this.container=t}get icon(){return null}set icon(t){this._overrideIfSome("icon",t)}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+Ode++}set id(t){t&&this._set("id",t)}get label(){return this.declaredClass.split(".").pop()}set label(t){this._overrideIfSome("label",t)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(t){this._set("visible",t)}get[(UU=NU,LU)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(Wb(this),this._projector.scheduleRender())}own(t){B4(Ne.getLogger(this),"`Widget.own()` is deprecated in favor of 'Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"}),this.addHandles(t)}classes(...t){return bX.apply(this,t)}renderNow(){Wb(this),this._projector.renderNow()}_postInitialize(){if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this.addHandles(dt(()=>this.viewModel,(r,n)=>{n&&this.removeHandles("delegated-events"),r&&N_(r)&&this.addHandles(this._delegatedEventNames.map(i=>j0(r,i,s=>{this.emit(i,s)})),"delegated-events")},rs)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(WR),this.scheduleRender()};this.addHandles([GD(t),dt(()=>this.uiStrings,t),Pa(()=>this.container,r=>{this.destroyed||this._attach(r)},{initial:!0,once:!0})])}_attach(t){t&&(this._projector.merge(t,this.render),this._attached=!0)}_detach(t){this._attached&&(this._projector.detach(this.render),this._attached=!1),t?.parentNode?.removeChild(t)}};qr[UU]=!0,qr.vnodeSelector="div",p([y()],qr.prototype,"_readyForTrueRender",void 0),p([y({value:null})],qr.prototype,"container",null),p([jr("container")],qr.prototype,"castContainer",null),p([y()],qr.prototype,"icon",null),p([y()],qr.prototype,"id",null),p([y()],qr.prototype,"label",null),p([y()],qr.prototype,"renderable",null),p([y()],qr.prototype,"uiStrings",void 0),p([y()],qr.prototype,"viewModel",void 0),p([y({value:!0})],qr.prototype,"visible",null),p([y()],qr.prototype,"key",void 0),p([y()],qr.prototype,"children",void 0),p([y()],qr.prototype,"afterCreate",void 0),p([y()],qr.prototype,"afterUpdate",void 0),p([y()],qr.prototype,"afterRemoved",void 0),qr=p([G(Pde)],qr);const kS=qr,Nde=new Map;function Lde(e){return Nde.get(e)}function XN(e,t){return e&&"copyright"in e&&(!t||typeof e.originOf=="function"&&e.originOf("copyright")==="user")}function Dde(e,t){return e.length!==t.length||e.some((r,n)=>r.text!==t[n].text)}function Nm(e,t,r){!r||!t||e.find(n=>n.layerView===t&&n.text===r)||e.push({text:r,layerView:t})}function Fde(e){return e.type==="bing-maps"}const hl=[];let Pp=class extends He{constructor(t){super(t),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new Ye,this.view=null,this._allLayerViewsChange=r=>{this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const n=this.view?.allLayerViews;n&&(this.addHandles(n.map(i=>dt(()=>[i.suspended,i.layer?.attributionVisible],()=>this._updateAttributionItems())).toArray(),"suspension"),n.forEach(i=>{i.declaredClass==="esri.views.3d.layers.Tiles3DLayerView3D"&&this.addHandles(i.on("visible-geometry-changed",()=>this._updateAttributionItems()),"visible-geometry-changed")})),r?.removed&&r.removed.forEach(i=>{this._pendingAttributions.delete(i),this._fetchedAttributionData.delete(i)}),this._updateAttributionItems()},this.addHandles([ph(()=>this.view?.allLayerViews,"change",r=>this._allLayerViewsChange(r),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),Pa(()=>this.view?.stationary===!0,()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.view?.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const t=this.view,r=t?.allLayerViews;if(hl.length=0,!t||!r)return void this._clear();r.forEach(i=>{if(i.suspended||!i.layer?.attributionVisible)return;const s=i.layer;if(XN(s,"user"))return void Nm(hl,i,s.copyright);if(s.hasAttributionData){if(this._fetchedAttributionData.has(i)){const l=this._fetchedAttributionData.get(i);return void(l?Nm(hl,i,this._getDynamicAttribution(l,t,s)):XN(s)&&Nm(hl,i,s.copyright))}return void this._fetchAttributionData(i)}const o="portalItem"in s?s.portalItem?.accessInformation:void 0;Nm(hl,i,o||s.copyright)});const n=r.find(i=>i.layer?.type==="integrated-mesh-3dtiles");if(this.view&&n){const i=Lde(this.view);if(i){const s=i.getAttributionText();for(let o=0;o<s.length;++o)Nm(hl,n,s[o])}}Dde(this.items,hl)&&(this.items.removeAll(),this.items.addMany(hl)),hl.length=0,this.notifyChange("state")}async _fetchAttributionData(t){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);const r=await wM(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){const n=r.ok?this._createContributionIndex(r.value,Fde(t.layer)):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,n)}this._updateAttributionItems()}_createContributionIndex(t,r){const n=t.contributors,i={};if(!n)return i;for(let s=0;s<n.length;s++){const o=n[s],l=o.coverageAreas;if(!l)return;for(const c of l){const d=c.bbox,m=c.zoomMin-(r&&c.zoomMin?1:0),g=c.zoomMax-(r&&c.zoomMax?1:0),w=new tr({xmin:d[1],ymin:d[0],xmax:d[3],ymax:d[2],spatialReference:_t.WGS84}),S={extent:Qd(w),attribution:o.attribution||"",score:c.score!=null?c.score:100,id:s};for(let $=m;$<=g;$++)i[$]??=[],i[$].push(S)}}return i.maxKey=Math.max.apply(null,Object.keys(i)),i}_getDynamicAttribution(t,r,n){const{extent:i,scale:s}=r;let o=n.tileInfo?.scaleToZoom(s)??0;if(o=Math.min(t.maxKey??0,Math.round(o)),!i||o==null||o<=-1)return"";const l=t[o],c=V_(i.center.clone().normalize(),_t.WebMercator),d=new Set;return l?l.filter(m=>{const g=m.id,w=!d.has(g)&&c&&m.extent&&H0(m.extent,c);return w&&d.add(g),w}).sort((m,g)=>g.score-m.score||m.objectId-g.objectId).map(m=>m.attribution).join(", "):""}};p([y({readOnly:!0,type:Ye})],Pp.prototype,"items",void 0),p([y({readOnly:!0})],Pp.prototype,"state",null),p([y()],Pp.prototype,"view",void 0),Pp=p([G("esri.widgets.Attribution.AttributionViewModel")],Pp);const zU=Pp,ka={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"};function Ude(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${String(t)}'`);return{value:zde(e[t])}}}function jde(e){const t=e?.type;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function zde(e){return function(t,...r){jde(t)?MX(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...r)}}function AS(e){return(t,r)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}var Gde=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},GU=function(e,t){for(var r=0,n=e.length;r<n;r++){var i=e[r];Array.isArray(i)?GU(i,t):i!=null&&i!==!1&&(i.hasOwnProperty("vnodeSelector")||(i=Gde(i)),t.push(i))}},Vde=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(r.length===1&&typeof r[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var i=[];return GU(r,i),{vnodeSelector:e,properties:t||void 0,children:i,text:void 0,domNode:null}};function Pi(e,t,...r){return typeof e!="function"||__(e)?Vde(e,t,...r):e(t,...r)}function ybe(...e){return e}const cp="esri-attribution",dp={base:cp,poweredBy:`${cp}__powered-by`,sources:`${cp}__sources`,open:`${cp}--open`,sourcesOpen:`${cp}__sources--open`,link:`${cp}__link`};let ti=class extends kS{constructor(t,r){super(t,r),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(n=>n.forEach(({target:i})=>this._checkSourceTextOverflow(i))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new zU}initialize(){this.addHandles(ph(()=>this.viewModel?.items,"change",()=>this.scheduleRender()))}destroy(){this._resizeObserver?.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((t,r)=>(t.includes(r.text)||t.push(r.text),t),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t={[dp.open]:this._isOpen};return Pi("div",{bind:this,class:this.classes(dp.base,ka.widget,t),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return Pi("div",{class:dp.poweredBy},"Powered by"," ",Pi("a",{class:dp.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const t=this._isOpen,r=this._isInteractive,n=r?0:void 0,{attributionText:i}=this,s={[dp.sourcesOpen]:t,[ka.interactive]:r};return Pi("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(dp.sources,s),innerHTML:i,tabIndex:n})}_afterSourcesNodeCreate(t){this._prevSourceNodeHeight=t.clientWidth,this._resizeObserver.observe(t)}_checkSourceTextOverflow(t){let r=!1;const{clientHeight:n,clientWidth:i,scrollWidth:s}=t,o=s>i,l=this._attributionTextOverflowed!==o;if(this._attributionTextOverflowed=o,l&&(r=!0),this._isOpen){const c=n<this._prevSourceNodeHeight;this._prevSourceNodeHeight=n,c&&(this._isOpen=!1,r=!0)}r&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};p([y()],ti.prototype,"_isOpen",void 0),p([y()],ti.prototype,"_isInteractive",null),p([y()],ti.prototype,"_attributionTextOverflowed",void 0),p([y()],ti.prototype,"_prevSourceNodeHeight",void 0),p([y({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],ti.prototype,"attributionText",null),p([y()],ti.prototype,"icon",null),p([y()],ti.prototype,"itemDelimiter",void 0),p([y()],ti.prototype,"label",null),p([y(),AS("esri/widgets/Attribution/t9n/Attribution")],ti.prototype,"messages",void 0),p([y()],ti.prototype,"view",null),p([y({type:zU})],ti.prototype,"viewModel",void 0),p([Ude()],ti.prototype,"_toggleState",null),ti=p([G("esri.widgets.Attribution")],ti);const Bde=ti;function Hde(){const e=ie("mapview-essential-goto-duration");return e==null?e:e}function Wde(e){return e?.spatialReference?.isWebMercator||e?.spatialReference?.isGeographic||!1}const qde=e=>{let t=class extends e{constructor(...r){super(...r),this.goToOverride=null,this.view=null}callGoTo(r){const{view:n}=this;return H4(n),this.goToOverride?this.goToOverride(n,r):n.goTo(r.target,r.options)}};return p([y()],t.prototype,"goToOverride",void 0),p([y()],t.prototype,"view",void 0),t=p([G("esri.widgets.support.GoTo")],t),t};let Dd=class extends qde(He){constructor(t){super(t),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this.addHandles(dt(()=>this.view,this._updateRotationWatcher,Hn))}destroy(){this.view=null}get canShowNorth(){return Wde(this.view)}get state(){return!this.view?.ready||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){this.view?.ready&&(this.view?.type==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:Hde()}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(t){t!=null&&this._set("orientation",{z:t})}_updateForCamera(t){if(!t)return;const r=-t.heading;this._set("orientation",{x:0,y:0,z:r})}_updateRotationWatcher(t){this.removeAllHandles(),t&&this.addHandles(t.type==="2d"?dt(()=>t?.rotation,this._updateForRotation,Hn):dt(()=>t?.camera,this._updateForCamera,Hn))}};p([y({readOnly:!0})],Dd.prototype,"canShowNorth",null),p([y({readOnly:!0})],Dd.prototype,"orientation",void 0),p([y({readOnly:!0})],Dd.prototype,"state",null),p([y()],Dd.prototype,"view",void 0),Dd=p([G("esri.widgets.Compass.CompassViewModel")],Dd);const VU=Dd,QN="esri-compass",eL={base:QN,iconContainer:`${QN}__icon-container`};let xl=class extends kS{constructor(t,r){super(t,r),this.messages=null,this.viewModel=new VU,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=n=>({transform:`rotateZ(${n.z}deg)`})}loadDependencies(){return Wk({button:()=>ke(()=>import("./calcite-button-C0706HrQ.js"),__vite__mapDeps([274,275,276,277,278,279,280,281,282,283,284,285,286,287])),icon:()=>ke(()=>import("./calcite-icon-CSOe2pKd.js"),__vite__mapDeps([288,285,276,283]))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}reset(){return this.viewModel.reset()}render(){const{orientation:t,state:r}=this.viewModel,{messages:n}=this;return Pi("div",{class:this.classes(eL.base,ka.widget)},Pi("calcite-button",{class:ka.widgetButton,disabled:r==="disabled",kind:"neutral",label:n.reset,onclick:this._reset,round:!0,scale:"s",title:n.reset},Pi("div",{"aria-hidden":"true",class:eL.iconContainer,title:n.reset},Pi("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(t)}))))}};p([y()],xl.prototype,"goToOverride",null),p([y()],xl.prototype,"icon",null),p([y()],xl.prototype,"label",null),p([y(),AS("esri/widgets/Compass/t9n/Compass")],xl.prototype,"messages",void 0),p([y()],xl.prototype,"view",null),p([y({type:VU})],xl.prototype,"viewModel",void 0),xl=p([G("esri.widgets.Compass")],xl);const Zde=xl,tL="esri-navigation-toggle",rL={base:tL,isLayoutHorizontal:`${tL}--horizontal`};let Op=class extends He{constructor(t){super(t),this._navigationMode="pan",this.view=null}initialize(){this.addHandles(Pa(()=>this.view?.inputManager,()=>this._setNavigationMode()))}destroy(){this.view=null}get state(){return this.view?.ready&&this.view?.type==="3d"?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(t){this._navigationMode=t,this._setNavigationMode()}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate")}_setNavigationMode(){const t=this.view?.inputManager;t&&(t.primaryDragAction=this._navigationMode==="pan"?"pan":"rotate")}};p([y({readOnly:!0})],Op.prototype,"state",null),p([y()],Op.prototype,"_navigationMode",void 0),p([y()],Op.prototype,"view",void 0),Op=p([G("esri.widgets.NavigationToggle.NavigationToggleViewModel")],Op);const BU=Op;let Ml=class extends kS{constructor(t,r){super(t,r),this.messages=null,this.viewModel=new BU,this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{const n=this.viewModel?.navigationMode==="pan"?this._rotateButton:this._panButton;kX(n),this.toggle()}}loadDependencies(){return Wk({button:()=>ke(()=>import("./calcite-button-C0706HrQ.js"),__vite__mapDeps([274,275,276,277,278,279,280,281,282,283,284,285,286,287]))})}get icon(){return"move"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t=this.viewModel?.state==="disabled",r=this.viewModel?.navigationMode==="pan",n=this.messages.toggle;return Pi("div",{class:this.classes(rL.base,ka.widget,{[rL.isLayoutHorizontal]:this.layout==="horizontal"})},Pi("calcite-button",{afterCreate:i=>{this._panButton=i},appearance:r?"outline-fill":"solid",class:ka.widgetButton,disabled:t,iconStart:"move",kind:"neutral",label:n,onclick:this._toggle,tabIndex:r?void 0:-1,title:n}),Pi("calcite-button",{afterCreate:i=>{this._rotateButton=i},appearance:r?"solid":"outline-fill",class:ka.widgetButton,disabled:t,iconStart:"rotate",kind:"neutral",label:n,onclick:this._toggle,tabIndex:r?-1:void 0,title:n}))}};p([y()],Ml.prototype,"icon",null),p([y()],Ml.prototype,"label",null),p([y({value:"vertical"})],Ml.prototype,"layout",null),p([y(),AS("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Ml.prototype,"messages",void 0),p([y()],Ml.prototype,"view",null),p([y({type:BU})],Ml.prototype,"viewModel",void 0),Ml=p([G("esri.widgets.NavigationToggle")],Ml);const Yde=Ml;let Fd=class extends He{get canZoomIn(){if(!this.view?.ready)return!1;const r=this.view?.constraints?.effectiveMaxScale;return r===0||this._scale>r}get canZoomOut(){const{view:t}=this;if(!t?.ready)return!1;const n=t.constraints?.effectiveMinScale;return n===0||this._scale<n}get _scale(){const t=this.view?.animation?.target;return(t&&"then"in t?void 0:t?.scale)??this.view?.scale??0}};p([y({readOnly:!0})],Fd.prototype,"canZoomIn",null),p([y({readOnly:!0})],Fd.prototype,"canZoomOut",null),p([y()],Fd.prototype,"view",void 0),p([y()],Fd.prototype,"_scale",null),Fd=p([G("esri.widgets.Zoom.ZoomConditions2D")],Fd);const Jde=Fd;let Ip=class extends He{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};p([y({readOnly:!0})],Ip.prototype,"canZoomIn",null),p([y({readOnly:!0})],Ip.prototype,"canZoomOut",null),p([y()],Ip.prototype,"view",void 0),Ip=p([G("esri.widgets.Zoom.ZoomConditions3D")],Ip);const Kde=Ip;let Gu=class extends He{constructor(t){super(t)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){return this._zoomConditions!=null&&this._zoomConditions?.canZoomOut}get state(){return this.view?.ready?"ready":"disabled"}set view(t){t?t.type==="2d"?this._zoomConditions=new Jde({view:t}):t.type==="3d"&&(this._zoomConditions=new Kde({view:t})):this._zoomConditions=null,this._set("view",t)}zoomIn(){if(!this.canZoomIn)return;const t=this.view;t.type==="2d"?t.mapViewNavigation.zoomIn():nT(t.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const t=this.view;t.type==="2d"?t.mapViewNavigation.zoomOut():nT(t.goTo({zoomFactor:.5}))}};p([y()],Gu.prototype,"_zoomConditions",void 0),p([y()],Gu.prototype,"canZoomIn",null),p([y()],Gu.prototype,"canZoomOut",null),p([y({readOnly:!0})],Gu.prototype,"state",null),p([y()],Gu.prototype,"view",null),Gu=p([G("esri.widgets.Zoom.ZoomViewModel")],Gu);const HU=Gu,nL={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"};let kl=class extends kS{constructor(t,r){super(t,r),this.messages=null,this.viewModel=new HU,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return Wk({button:()=>ke(()=>import("./calcite-button-C0706HrQ.js"),__vite__mapDeps([274,275,276,277,278,279,280,281,282,283,284,285,286,287]))})}get icon(){return"magnifying-glass-plus"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}set view(t){this.viewModel.view=t}get view(){return this.viewModel.view}render(){const t={[nL.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:r,canZoomOut:n}=this.viewModel,{zoomIn:i,zoomOut:s}=this.messages;return Pi("div",{class:this.classes(nL.base,ka.widget,t)},Pi("calcite-button",{class:ka.widgetButton,disabled:!r,iconStart:"plus",kind:"neutral",label:i,onclick:this.zoomIn,title:i}),Pi("calcite-button",{class:ka.widgetButton,disabled:!n,iconStart:"minus",kind:"neutral",label:s,onclick:this.zoomOut,title:s}))}};p([y()],kl.prototype,"icon",null),p([y()],kl.prototype,"label",null),p([y({value:"vertical"})],kl.prototype,"layout",null),p([y(),AS("esri/widgets/Zoom/t9n/Zoom")],kl.prototype,"messages",void 0),p([y()],kl.prototype,"view",null),p([y({type:HU})],kl.prototype,"viewModel",void 0),kl=p([G("esri.widgets.Zoom")],kl);const Xde=kl;function Qde(e){return e?.view!==void 0}let aw=class extends fce{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=r=>{this.components.forEach(n=>{const i=this._find(n),s=i?.widget;Qde(s)&&(s.view=r)})},this._componentsWatcher=(r,n)=>{this._removeComponents(n),this._addComponents(r),this._adjustPadding(r)}}initialize(){this.addHandles([dt(()=>this.components,this._componentsWatcher,Hn),dt(()=>this.view,this._updateViewAwareWidgets,Hn)])}_add(t,r,n,i,s){let o=t;if(typeof t=="string"&&this._defaultPositionLookup[t]){if(this._find(t))return;o=this._createComponent(t)}super._add(o,r,n,i,s)}_removeComponents(t){t.forEach(r=>{const n=this._find(r);n&&(this.remove(n),n.destroy())})}_adjustPadding(t){if(!t.includes("attribution")&&!this._isOverridden("padding")){const{top:r}=this.padding;this.padding=r}}_addComponents(t){this.constructed&&t.forEach(r=>this.add(this._createComponent(r),this._defaultPositionLookup[r]))}_createComponent(t){const r=this._createWidget(t);return new ow({id:t,node:r})}_createWidget(t){const r=this.view;switch(t){case"attribution":return new Bde({view:r});case"compass":return new Zde({view:r});case"navigation-toggle":return new Yde({view:r});case"zoom":return new Xde({view:r})}}};p([y()],aw.prototype,"components",void 0),aw=p([G("esri.views.ui.DefaultUI")],aw);const WU=aw;let lw=class extends WU{constructor(t){super(t),this.components=["attribution","zoom"]}};p([y()],lw.prototype,"components",void 0),lw=p([G("esri.views.ui.2d.DefaultUI2D")],lw);const qU=lw;let ehe=class s3{constructor(t,r,n=""){this.major=t,this.minor=r,this._context=n}lessThan(t,r){return this.major<t||t===this.major&&this.minor<r}greaterEqual(t,r){return!this.lessThan(t,r)}validate(t){if(this.major!==t.major){const r=this._context&&this._context+":",n=this._context&&this._context+" ";throw new fe(r+"unsupported-version",`Required major ${n}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:t})}}clone(){return new s3(this.major,this.minor,this._context)}static parse(t,r=""){const[n,i]=t.split("."),s=/^\s*\d+\s*$/;if(!n?.match||!s.test(n))throw new fe((r&&r+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!i?.match||!s.test(i))throw new fe((r&&r+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const o=parseInt(n,10),l=parseInt(i,10);return new s3(o,l,r)}},the=class extends ehe{constructor(t,r){super(t,r,"webmap")}};function kE(e){return e!=null&&typeof e=="object"&&"declaredClass"in e&&e.declaredClass==="esri.WebMap"}new the(2,32);var o3;let uw=o3=class extends ze{constructor(e){super(e),this.color=new Ot([0,0,0,1])}clone(){return new o3(me({color:this.color}))}};p([y({type:Ot,json:{write:!0}})],uw.prototype,"color",void 0),uw=o3=p([G("esri.webmap.background.ColorBackground")],uw);const rhe=uw;let ZU,YU,JU,KU,XU,QU,ej;async function nhe(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:r,MapViewNavigation:n,MagnifierView2D:i,GridView2D:s,Stage:o}]=await Promise.all([ke(()=>import("./webglDeps-D1IzJSuw.js"),__vite__mapDeps([204,79,78,140,205,142])),ke(()=>import("./mapViewDeps-CL_MRX6o.js"),__vite__mapDeps([206,109,8,9,80,81,19,82,77,83,84,76,78,79,49,85,38,86,43,207,142,92,208,205,100,209,129,128,91,21,22,210,120,154,6,89,90,127,204,140,211,95,212,75,31,32,25,26,16,87,34,74,213,138,135,122,139,214,63,215,93,88,216,217,218,219,220,221,134,222,223]))]);YU=e,JU=t,KU=r,XU=n,QU=i,ej=s,ZU=o}let et=class extends MK(nQ(VX(lie))){constructor(e){super(e),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new h0({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.goToManager=new nw({view:this}),this.graphicsView=null,this.stateManager=new Ln({constraints:new x7({view:this})}),this.stationaryManager=new My,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.frameTask=new hae(this),this.floors=new Ye,this.grid=null,this.highlights=rU(),this.inputManager=new Vle({view:this}),this.map=null,this.spatialReferenceLocked=!1,this.timeline=new pU,this.type="2d",this.view2dType=null,this.ui=new qU,this.test={takeScreenshot:async t=>Yue(this._getScreenshotView(t),t)},this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([dt(()=>this.viewpoint,()=>this.stationaryManager.flip(),Hl),this.on("resize",t=>this.stateManager.resize(t.width,t.height))]),NJ()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=wr(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new Kle(this.featuresTilingScheme)}get constraintsInfo(){const e=this.defaultsFromMap?.tileInfo,t=this.spatialReference;return{lods:e?.spatialReference?.equals(t)?e.lods:null,spatialReference:t}}get state(){return this.stateManager.state}get initialExtentRequired(){if(!this.stateManager)return!1;const{scale:e,constraints:t,center:r,viewpoint:n,extent:i}=this;let s=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties?.viewpoint)&&!i&&(t?.effectiveLODs||(s=-1),(!r||e===0&&s===-1)&&(n?.targetGeometry==null||n.targetGeometry.type!=="extent"&&!n.scale))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const t=e.targetGeometry,r=this.spatialReference;return lF(t.spatialReference,r)}set animation(e){const t=this._get("animation");if(e===t)return;if(t&&t.stop(),e!==this.animationManager.animation&&this.animationManager.stop(),!e||e.isFulfilled())return void this._set("animation",null);this._set("animation",e);const r=()=>{this.destroyed||e===this._get("animation")&&(this._set("animation",null),this.frameTask?.requestFrame())};e.when(r,r)}get background(){return kE(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override("background",e)}get center(){return this.stateManager?.center??null}set center(e){this.stateManager.center=e}get constraints(){return this.stateManager?.constraints}set constraints(e){e.view=this;const t=this.stateManager.constraints;this.stateManager.constraints=e,t?.destroy()}get extent(){return this.stateManager?.extent??null}set extent(e){this.stateManager.extent=e}get highlightOptions(){return Oue(this)}set highlightOptions(e){Iue(this,e)}get padding(){return this.stateManager?.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get rendering(){return this.stage?.renderRequested??!1}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(e){this.stateManager.resizeAlign=e}get resolution(){return this.stateManager.resolution??0}get rotation(){return this.stateManager.rotation??0}set rotation(e){const{rotationEnabled:t}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=e,this.constraints.rotationEnabled=t}get scale(){return this.stateManager?.scale??0}set scale(e){this.stateManager&&(this.stateManager.scale=e)}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}get tileInfo(){return this.featuresTilingScheme?.tileInfo}get updating(){const e=!(!this.magnifier.visible||this.magnifier.position===null||!this._magnifierView?.updatingHandles.updating),t=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(r=>!r.destroyed&&!("layerViews"in r)&&r.updating===!0)||e);if(ie("esri-2d-log-updating")){const r=this.allLayerViews.reduce((n,i)=>({...n,[`${i.layer.id}(${i.layer.type})`]:!i.destroyed&&!("layerViews"in i)&&i.updating}),{});console.log(`Updating MapView: ${t}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${this.layerViewManager?.updating}
-> labelManager.updating: ${this.labelManager?.updating}
-> graphicsView.updating: ${this.graphicsView?.updating}
-> allLayerViews: ${JSON.stringify(r)}
-> updatingMagnifier: ${e}
`)}return t}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(e){this.stateManager.viewpoint=e,this.frameTask.requestFrame()}get visibleArea(){const e=this.stateManager.visibleArea;return e&&new Ra({rings:[e.map(t=>[t[0],t[1]])],spatialReference:this.spatialReference})}get zoom(){return this.stateManager.zoom??-1}set zoom(e){this.stateManager.zoom=e}get navigating(){return this.mapViewNavigation?.interacting??!1}goTo(e,t){return this.goToManager.goTo(e,t)}async hitTest(e,t){return Nue(this,e,t)}async takeScreenshot(e){return Zue(this._getScreenshotView(e),e)}toMap(e){if(!this.ready)return null;const t=E9(e)?b9(this,e):e;return this.stateManager.toMap(t)}toScreen(e,t){return this.stateManager.toScreen(e,t)}on(e,t,r,n){return this.inputManager&&this.viewEvents.on(e,t,r,n)||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise(e=>{this.ready?e(this):this._resolveWhenReady.push(e)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||this.defaultsFromMap?.spatialReference||null}getDefaultTimeZone(){return kE(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return kE(this.map)?this.map.initialViewProperties.timeExtent:null}hasLayerViewModule(e){return FI.hasLayerViewModule(e)}importLayerView(e){return FI.importLayerView(e)}pixelSizeAt(){return this.ready?this.resolution:(Ne.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(e){const t=this.toMap(e),r=await this.hitTest(e),n=this.allLayerViews.toArray().filter(c=>c.clips.every(d=>eU(this,d,e,t))).reverse(),i=new globalThis.Map(n.map(c=>[c.layer.uid,c])),s=[];let o=0,l=0;for(;o<r.results.length||l<n.length;){const c=r.results.at(o);if(c&&c.type!=="graphic"){++o;continue}const d=i.get((c?.layer??c?.graphic.layer)?.uid);if((!c||d)&&l<n.length&&n.at(l)!==d){const m=n.at(l);"fetchPopupFeaturesAtLocation"in m&&s.push({mapPoint:t,layerView:m}),++l}else c&&(s.push({graphic:c.graphic,layerView:d}),++o)}return{hits:s,location:t}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let e=ice(this.type);if(ie("safari")&&ie("safari")<9&&(e=new fe("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:ie("safari")})),e!=null)throw Ne.getLogger(this).warn("#validate()",e.message),e}loadAsyncDependencies(){return nhe()}_getDefaultViewpoint(){const{constraints:e,initialExtent:t,map:r,padding:n,size:i}=this;if(!e)return null;const s=r&&"initialViewProperties"in r?r.initialViewProperties:void 0,o=this.stateManager.getUserStartupOptions(this.size),l=s?.viewpoint,c=l?.targetGeometry?.extent??t,d=c?.center,m=l?.rotation??0,g=l?.scale||c&&$S(c,[i[0]-n.left-n.right,i[1]-n.top-n.bottom]),w=o.center??d,S=o.rotation??m,$=o.scale??g;return w&&$?new Io({targetGeometry:w,scale:$,rotation:S}):null}_startup(){this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint();this.stateManager.startup(e,this.size,this.spatialReference,this.defaultsFromMap.extent?.center),this.graphics.owner=this;const t=new ZU(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=t,this._magnifierView=new QU,this._magnifierView.magnifier=this.magnifier,this._gridView=new ej;const r=new KU({view:this});this._set("labelManager",r);const n=new nae({view:this});this._set("animationManager",n);const i=new XU({view:this,animationManager:n});this._set("mapViewNavigation",i),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),t.on("webgl-error",o=>this.fatalError=o.error),dt(()=>this.stationary,o=>t.stationary=o,rs),dt(()=>this.background,o=>{t.backgroundColor=o?.color,this._magnifierView.backgroundColor=o?.color},rs),dt(()=>this.magnifier,o=>this._magnifierView.magnifier=o,rs),dt(()=>this.grid,o=>this._gridView.grid=o,rs),dt(()=>this.renderingOptions,o=>t.renderingOptions=o,rs),dt(()=>this.highlights.items.map(o=>({name:o.name,options:{fillColor:o.options.color,haloColor:o.options.haloColor,fillOpacity:o.options.fillOpacity,haloOpacity:o.options.haloOpacity,haloWidth:o.options.haloWidth,haloBlur:o.options.haloBlur}})),()=>{t.highlightGradient=Rue(t.highlightGradient,this.highlights.items)},rs),dt(()=>this.state.id,()=>t.state=this.state,rs)],"map-view"),this._updateStageChildren();const s=this._resolveWhenReady;this._resolveWhenReady=[],s.forEach(o=>o(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(t=>{this.stage.addChild(t.container)});const e=this.graphicsView;this.stage.addChild(e.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){const e=new _ae(zM.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const t=new YU({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new JU(e)});this._set("graphicsView",t)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),e.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(e){const{allLayerViews:t,padding:r,size:n,stage:i}=this;return{allLayerViews:t,backgroundColor:e?.ignoreBackground?null:this.background?.color,padding:r,size:n,stage:i}}_spatialReferenceChanged(e){if(this.ready){this.frameTask.stop();for(const t of this.allLayerViews)t.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(e),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const t of this.allLayerViews)t.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};et.type="2d",p([y({readOnly:!0})],et.prototype,"animationManager",void 0),p([y({constructOnly:!0})],et.prototype,"deactivatedWebGLExtensions",void 0),p([y({constructOnly:!0})],et.prototype,"debugWebGLExtensions",void 0),p([y({readOnly:!0})],et.prototype,"featuresTilingScheme",void 0),p([y({readOnly:!0})],et.prototype,"fullOpacity",void 0),p([y()],et.prototype,"goToManager",void 0),p([y({readOnly:!0})],et.prototype,"graphicsTileStore",null),p([y()],et.prototype,"graphicsView",void 0),p([y()],et.prototype,"stateManager",void 0),p([y()],et.prototype,"constraintsInfo",null),p([y({readOnly:!0})],et.prototype,"state",null),p([y()],et.prototype,"initialExtentRequired",null),p([y()],et.prototype,"labelManager",void 0),p([y({readOnly:!0})],et.prototype,"mapViewNavigation",void 0),p([y({constructOnly:!0})],et.prototype,"renderCanvas",void 0),p([y()],et.prototype,"renderingOptions",void 0),p([y({constructOnly:!0})],et.prototype,"supersampleScreenshotsEnabled",void 0),p([y({readOnly:!0})],et.prototype,"supportsGround",void 0),p([y()],et.prototype,"defaultsFromMapSettings",null),p([y({readOnly:!0})],et.prototype,"typeSpecificPreconditionsReady",null),p([y()],et.prototype,"animation",null),p([y({type:rhe})],et.prototype,"background",null),p([y()],et.prototype,"center",null),p([y({type:x7})],et.prototype,"constraints",null),p([y()],et.prototype,"extent",null),p([y()],et.prototype,"floors",void 0),p([y()],et.prototype,"grid",void 0),p([y({type:mh})],et.prototype,"highlightOptions",null),p([y({type:Ye.ofType(Vp)})],et.prototype,"highlights",void 0),p([y({readOnly:!0})],et.prototype,"inputManager",void 0),p([y()],et.prototype,"map",void 0),p([y()],et.prototype,"padding",null),p([y({readOnly:!0})],et.prototype,"rendering",null),p([y()],et.prototype,"resizeAlign",null),p([y({readOnly:!0})],et.prototype,"resolution",null),p([y()],et.prototype,"rotation",null),p([y()],et.prototype,"scale",null),p([y({constructOnly:!0})],et.prototype,"spatialReferenceLocked",void 0),p([y()],et.prototype,"stationary",null),p([y({readOnly:!0})],et.prototype,"tileInfo",null),p([y({type:pU,readOnly:!0})],et.prototype,"timeline",void 0),p([y({readOnly:!0})],et.prototype,"type",void 0),p([y({readOnly:!0})],et.prototype,"updating",null),p([y({readOnly:!0})],et.prototype,"view2dType",void 0),p([y()],et.prototype,"viewpoint",null),p([y({readOnly:!0})],et.prototype,"visibleArea",null),p([y()],et.prototype,"zoom",null),p([y({readOnly:!0})],et.prototype,"navigating",null),p([y(),jr(e=>e instanceof WU?e:C_(qU,e))],et.prototype,"ui",void 0),et=p([G("esri.views.View2D")],et);const ihe=et;let cw=class extends ihe{constructor(t){super(t),this.view2dType="map"}};p([y({readOnly:!0})],cw.prototype,"view2dType",void 0),cw=p([G("esri.views.MapView")],cw);const she=cw,iL=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],AE=1,Lm=8;class qk{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[r,n]=new Uint8Array(t,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=n>>4;if(i!==AE)throw new Error(`Got v${i} data when expected v${AE}.`);const s=iL[n&15];if(!s)throw new Error("Unrecognized array type.");const[o]=new Uint16Array(t,2,1),[l]=new Uint32Array(t,4,1);return new qk(l,o,s,t)}constructor(t,r=64,n=Float64Array,i){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=n,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const s=iL.indexOf(this.ArrayType),o=t*2*this.ArrayType.BYTES_PER_ELEMENT,l=t*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-l%8)%8;if(s<0)throw new Error(`Unexpected typed array class: ${n}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,Lm,t),this.coords=new this.ArrayType(this.data,Lm+l+c,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(Lm+o+l+c),this.ids=new this.IndexArrayType(this.data,Lm,t),this.coords=new this.ArrayType(this.data,Lm+l+c,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(AE<<4)+s]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=t)}add(t,r){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=t,this.coords[this._pos++]=r,n}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return a3(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,r,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:s,coords:o,nodeSize:l}=this,c=[0,s.length-1,0],d=[];for(;c.length;){const m=c.pop()||0,g=c.pop()||0,w=c.pop()||0;if(g-w<=l){for(let M=w;M<=g;M++){const P=o[2*M],F=o[2*M+1];P>=t&&P<=n&&F>=r&&F<=i&&d.push(s[M])}continue}const S=w+g>>1,$=o[2*S],x=o[2*S+1];$>=t&&$<=n&&x>=r&&x<=i&&d.push(s[S]),(m===0?t<=$:r<=x)&&(c.push(w),c.push(S-1),c.push(1-m)),(m===0?n>=$:i>=x)&&(c.push(S+1),c.push(g),c.push(1-m))}return d}within(t,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:s,nodeSize:o}=this,l=[0,i.length-1,0],c=[],d=n*n;for(;l.length;){const m=l.pop()||0,g=l.pop()||0,w=l.pop()||0;if(g-w<=o){for(let M=w;M<=g;M++)sL(s[2*M],s[2*M+1],t,r)<=d&&c.push(i[M]);continue}const S=w+g>>1,$=s[2*S],x=s[2*S+1];sL($,x,t,r)<=d&&c.push(i[S]),(m===0?t-n<=$:r-n<=x)&&(l.push(w),l.push(S-1),l.push(1-m)),(m===0?t+n>=$:r+n>=x)&&(l.push(S+1),l.push(g),l.push(1-m))}return c}}function a3(e,t,r,n,i,s){if(i-n<=r)return;const o=n+i>>1;tj(e,t,o,n,i,s),a3(e,t,r,n,o-1,1-s),a3(e,t,r,o+1,i,1-s)}function tj(e,t,r,n,i,s){for(;i>n;){if(i-n>600){const d=i-n+1,m=r-n+1,g=Math.log(d),w=.5*Math.exp(2*g/3),S=.5*Math.sqrt(g*w*(d-w)/d)*(m-d/2<0?-1:1),$=Math.max(n,Math.floor(r-m*w/d+S)),x=Math.min(i,Math.floor(r+(d-m)*w/d+S));tj(e,t,r,$,x,s)}const o=t[2*r+s];let l=n,c=i;for(Dm(e,t,n,r),t[2*i+s]>o&&Dm(e,t,n,i);l<c;){for(Dm(e,t,l,c),l++,c--;t[2*l+s]<o;)l++;for(;t[2*c+s]>o;)c--}t[2*n+s]===o?Dm(e,t,n,c):(c++,Dm(e,t,c,i)),c<=r&&(n=c+1),r<=c&&(i=c-1)}}function Dm(e,t,r,n){CE(e,r,n),CE(t,2*r,2*n),CE(t,2*r+1,2*n+1)}function CE(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function sL(e,t,r,n){const i=e-r,s=t-n;return i*i+s*s}const ohe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},oL=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1)),ad=2,Qu=3,RE=4,Vu=5,rj=6;class ahe{constructor(t){this.options=Object.assign(Object.create(ohe),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){const{log:r,minZoom:n,maxZoom:i}=this.options;r&&console.time("total time");const s=`prepare ${t.length} points`;r&&console.time(s),this.points=t;const o=[];for(let c=0;c<t.length;c++){const d=t[c];if(!d.geometry)continue;const[m,g]=d.geometry.coordinates,w=oL(tv(m)),S=oL(rv(g));o.push(w,S,1/0,c,-1,1),this.options.reduce&&o.push(0)}let l=this.trees[i+1]=this._createTree(o);r&&console.timeEnd(s);for(let c=i;c>=n;c--){const d=+Date.now();l=this.trees[c]=this._createTree(this._cluster(l,c)),r&&console.log("z%d: %d clusters in %dms",c,l.numItems,+Date.now()-d)}return r&&console.timeEnd("total time"),this}getClusters(t,r){let n=((t[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,t[1]));let s=t[2]===180?180:((t[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,s=180;else if(n>s){const g=this.getClusters([n,i,180,o],r),w=this.getClusters([-180,i,s,o],r);return g.concat(w)}const l=this.trees[this._limitZoom(r)],c=l.range(tv(n),rv(o),tv(s),rv(i)),d=l.data,m=[];for(const g of c){const w=this.stride*g;m.push(d[w+Vu]>1?aL(d,w,this.clusterProps):this.points[d[w+Qu]])}return m}getChildren(t){const r=this._getOriginId(t),n=this._getOriginZoom(t),i="No cluster with the specified id.",s=this.trees[n];if(!s)throw new Error(i);const o=s.data;if(r*this.stride>=o.length)throw new Error(i);const l=this.options.radius/(this.options.extent*Math.pow(2,n-1)),c=o[r*this.stride],d=o[r*this.stride+1],m=s.within(c,d,l),g=[];for(const w of m){const S=w*this.stride;o[S+RE]===t&&g.push(o[S+Vu]>1?aL(o,S,this.clusterProps):this.points[o[S+Qu]])}if(g.length===0)throw new Error(i);return g}getLeaves(t,r,n){r=r||10,n=n||0;const i=[];return this._appendLeaves(i,t,r,n,0),i}getTile(t,r,n){const i=this.trees[this._limitZoom(t)],s=Math.pow(2,t),{extent:o,radius:l}=this.options,c=l/o,d=(n-c)/s,m=(n+1+c)/s,g={features:[]};return this._addTileFeatures(i.range((r-c)/s,d,(r+1+c)/s,m),i.data,r,n,s,g),r===0&&this._addTileFeatures(i.range(1-c/s,d,1,m),i.data,s,n,s,g),r===s-1&&this._addTileFeatures(i.range(0,d,c/s,m),i.data,-1,n,s,g),g.features.length?g:null}getClusterExpansionZoom(t){let r=this._getOriginZoom(t)-1;for(;r<=this.options.maxZoom;){const n=this.getChildren(t);if(r++,n.length!==1)break;t=n[0].properties.cluster_id}return r}_appendLeaves(t,r,n,i,s){const o=this.getChildren(r);for(const l of o){const c=l.properties;if(c&&c.cluster?s+c.point_count<=i?s+=c.point_count:s=this._appendLeaves(t,c.cluster_id,n,i,s):s<i?s++:t.push(l),t.length===n)break}return s}_createTree(t){const r=new qk(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<t.length;n+=this.stride)r.add(t[n],t[n+1]);return r.finish(),r.data=t,r}_addTileFeatures(t,r,n,i,s,o){for(const l of t){const c=l*this.stride,d=r[c+Vu]>1;let m,g,w;if(d)m=nj(r,c,this.clusterProps),g=r[c],w=r[c+1];else{const x=this.points[r[c+Qu]];m=x.properties;const[M,P]=x.geometry.coordinates;g=tv(M),w=rv(P)}const S={type:1,geometry:[[Math.round(this.options.extent*(g*s-n)),Math.round(this.options.extent*(w*s-i))]],tags:m};let $;d||this.options.generateId?$=r[c+Qu]:$=this.points[r[c+Qu]].id,$!==void 0&&(S.id=$),o.features.push(S)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,r){const{radius:n,extent:i,reduce:s,minPoints:o}=this.options,l=n/(i*Math.pow(2,r)),c=t.data,d=[],m=this.stride;for(let g=0;g<c.length;g+=m){if(c[g+ad]<=r)continue;c[g+ad]=r;const w=c[g],S=c[g+1],$=t.within(c[g],c[g+1],l),x=c[g+Vu];let M=x;for(const P of $){const F=P*m;c[F+ad]>r&&(M+=c[F+Vu])}if(M>x&&M>=o){let P=w*x,F=S*x,V,U=-1;const z=((g/m|0)<<5)+(r+1)+this.points.length;for(const Z of $){const Q=Z*m;if(c[Q+ad]<=r)continue;c[Q+ad]=r;const pe=c[Q+Vu];P+=c[Q]*pe,F+=c[Q+1]*pe,c[Q+RE]=z,s&&(V||(V=this._map(c,g,!0),U=this.clusterProps.length,this.clusterProps.push(V)),s(V,this._map(c,Q)))}c[g+RE]=z,d.push(P/M,F/M,1/0,z,-1,M),s&&d.push(U)}else{for(let P=0;P<m;P++)d.push(c[g+P]);if(M>1)for(const P of $){const F=P*m;if(!(c[F+ad]<=r)){c[F+ad]=r;for(let V=0;V<m;V++)d.push(c[F+V])}}}}return d}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,r,n){if(t[r+Vu]>1){const o=this.clusterProps[t[r+rj]];return n?Object.assign({},o):o}const i=this.points[t[r+Qu]].properties,s=this.options.map(i);return n&&s===i?Object.assign({},s):s}}function aL(e,t,r){return{type:"Feature",id:e[t+Qu],properties:nj(e,t,r),geometry:{type:"Point",coordinates:[lhe(e[t]),uhe(e[t+1])]}}}function nj(e,t,r){const n=e[t+Vu],i=n>=1e4?`${Math.round(n/1e3)}k`:n>=1e3?`${Math.round(n/100)/10}k`:n,s=e[t+rj],o=s===-1?{}:Object.assign({},r[s]);return Object.assign(o,{cluster:!0,cluster_id:e[t+Qu],point_count:n,point_count_abbreviated:i})}function tv(e){return e/360+.5}function rv(e){const t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function lhe(e){return(e-.5)*360}function uhe(e){const t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}let che=class ij{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(tT),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const r=new ij,n=this._originStores[Mt.DEFAULTS];n&&n.forEach((i,s)=>{r.set(s,me(i),Mt.DEFAULTS)});for(let i=Mt.SERVICE;i<tT;i++){const s=this._originStores[i];s&&s.forEach((o,l)=>{t&&t.has(l)||r.set(l,me(o),i)})}return r}get(t,r){const n=r===void 0?this._values:this._originStores[r];return n?n.get(t):void 0}keys(t){const r=t==null?this._values:this._originStores[t];return r?[...r.keys()]:[]}set(t,r,n=Mt.USER){let i=this._originStores[n];if(i||(i=new Map,this._originStores[n]=i),i.set(t,r),!this._values.has(t)||this._propertyOriginMap.get(t)<=n){const s=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,n),s!==r}return!1}delete(t,r=Mt.USER){const n=this._originStores[r];if(!n)return;const i=n.get(t);if(n.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===r){this._values.delete(t);for(let s=r-1;s>=0;s--){const o=this._originStores[s];if(o&&o.has(t)){this._values.set(t,o.get(t)),this._propertyOriginMap.set(t,s);break}}}return i}has(t,r){const n=r===void 0?this._values:this._originStores[r];return!!n&&n.has(t)}revert(t,r){for(;r>0&&!this.has(t,r);)--r;const n=this._originStores[r],i=n?.get(t),s=this._values.get(t);return this._values.set(t,i),this._propertyOriginMap.set(t,r),s!==i}originOf(t){return this._propertyOriginMap.get(t)||Mt.DEFAULTS}forEach(t){this._values.forEach(t)}};const sj=e=>{let t=class extends e{constructor(...r){super(...r);const n=cs(this),i=n.store,s=new che;n.store=s,d5(n,i,s)}read(r,n){p5(this,r,n)}getAtOrigin(r,n){const i=PE(this),s=ic(n);if(typeof r=="string")return i.get(r,s);const o={};return r.forEach(l=>{o[l]=i.get(l,s)}),o}originOf(r){return Ew(this.originIdOf(r))}originIdOf(r){return PE(this).originOf(r)}revert(r,n){const i=PE(this),s=ic(n),o=cs(this);let l;l=typeof r=="string"?r==="*"?i.keys(s):[r]:r,l.forEach(c=>{o.invalidate(c),i.revert(c,s),o.commit(c)})}};return t=p([G("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function PE(e){return cs(e).store}let lL=class extends sj(He){};lL=p([G("esri.core.ReadOnlyMultiOriginJSONSupport")],lL);const dhe=e=>{let t=class extends e{constructor(...r){super(...r)}clear(r,n="user"){return OE(this).delete(r,ic(n))}write(r,n){return m5(this,r=r||{},n),r}setAtOrigin(r,n,i){cs(this).setAtOrigin(r,n,ic(i))}removeOrigin(r){const n=OE(this),i=ic(r),s=n.keys(i);for(const o of s)n.originOf(o)===i&&n.set(o,n.get(o,i),Mt.USER)}updateOrigin(r,n){const i=OE(this),s=ic(n),o=Po(this,r);for(let l=s+1;l<tT;++l)i.delete(r,l);i.set(r,o,s)}toJSON(r){return this.write({},r)}};return t=p([G("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function OE(e){return cs(e).store}const oj=e=>{let t=class extends dhe(sj(e)){constructor(...r){super(...r)}};return t=p([G("esri.core.MultiOriginJSONSupport")],t),t};let uL=class extends oj(He){};uL=p([G("esri.core.MultiOriginJSONSupport")],uL);function hhe(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}function sf(e,t,r,n){var i=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(i,sf.prototype),i.expected=t,i.found=r,i.location=n,i.name="SyntaxError",i}function IE(e,t,r){return r=r||" ",e.length>t?e:(t-=e.length,e+(r+=r.repeat(t)).slice(0,t))}function phe(e,t){var r,n={},i=(t=t!==void 0?t:{}).grammarSource,s={start:Wo},o=Wo,l="none",c=")",d=",",m="(",g="%",w="px",S="cm",$="mm",x="in",M="pt",P="pc",F="deg",V="rad",U="grad",z="turn",Z="#",Q=".",pe="e",ye=/^[ \t\n\r]/,ge=/^[a-z\-]/,Pe=/^[0-9a-fA-F]/,Me=/^[+\-]/,De=/^[0-9]/,Ae=nn("none"),$t=nr("none",!1),kt=nr(")",!1),it=nr(",",!1),de=nn("whitespace"),$e=xn([" ","	",`
`,"\r"],!1,!1),Ce=nn("function"),W=nr("(",!1),he=nn("identifier"),Fe=xn([["a","z"],"-"],!1,!1),ct=nn("percentage"),ht=nr("%",!1),gt=nn("length"),Je=nr("px",!1),st=nr("cm",!1),lt=nr("mm",!1),Jt=nr("in",!1),mn=nr("pt",!1),Vo=nr("pc",!1),Er=nn("angle"),Tn=nr("deg",!1),ja=nr("rad",!1),Ws=nr("grad",!1),za=nr("turn",!1),qs=nn("number"),Fi=nn("color"),ui=nr("#",!1),ci=xn([["0","9"],["a","f"],["A","F"]],!1,!1),yn=xn(["+","-"],!1,!1),rr=xn([["0","9"]],!1,!1),Ga=nr(".",!1),Va=nr("e",!1),Ba=function(){return[]},Bo=function(L,le){return{type:"function",name:L,parameters:le||[]}},Ui=function(L,le){return le.length>0?to(L,le,3):[L]},Ha=function(L){return{type:"quantity",value:L.value,unit:L.unit}},ds=function(L){return{type:"color",colorType:L.type,value:L.value}},Zs=function(L){return L},Wa=function(){return ji()},Ys=function(L){return{value:L,unit:"%"}},Zl=function(L){return{value:L,unit:"px"}},Oc=function(L){return{value:L,unit:"cm"}},qa=function(L){return{value:L,unit:"mm"}},Za=function(L){return{value:L,unit:"in"}},Ya=function(L){return{value:L,unit:"pt"}},rn=function(L){return{value:L,unit:"pc"}},Js=function(L){return{value:L,unit:"deg"}},qn=function(L){return{value:L,unit:"rad"}},Pt=function(L){return{value:L,unit:"grad"}},hs=function(L){return{value:L,unit:"turn"}},Ks=function(L){return{value:L,unit:null}},ps=function(){return{type:"hex",value:ji()}},Zn=function(L){return{type:"function",value:L}},Xs=function(){return{type:"named",value:ji()}},Yn=function(){return parseFloat(ji())},ne=0|t.peg$currPos,It=ne,$n=[{line:1,column:1}],Ir=ne,Qs=t.peg$maxFailExpected||[],Ie=0|t.peg$silentFails;if(t.startRule){if(!(t.startRule in s))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');o=s[t.startRule]}function ji(){return e.substring(It,ne)}function nr(L,le){return{type:"literal",text:L,ignoreCase:le}}function xn(L,le,we){return{type:"class",parts:L,inverted:le,ignoreCase:we}}function Yl(){return{type:"end"}}function nn(L){return{type:"other",description:L}}function Ho(L){var le,we=$n[L];if(we)return we;if(L>=$n.length)le=$n.length-1;else for(le=L;!$n[--le];);for(we={line:(we=$n[le]).line,column:we.column};le<L;)e.charCodeAt(le)===10?(we.line++,we.column=1):we.column++,le++;return $n[L]=we,we}function di(L,le,we){var Ke=Ho(L),Ct=Ho(le);return{source:i,start:{offset:L,line:Ke.line,column:Ke.column},end:{offset:le,line:Ct.line,column:Ct.column}}}function Qe(L){ne<Ir||(ne>Ir&&(Ir=ne,Qs=[]),Qs.push(L))}function Jl(L,le,we){return new sf(sf.buildMessage(L,le),L,le,we)}function Wo(){var L;return(L=eo())===n&&(L=fs()),L}function eo(){var L,le;return Ie++,L=ne,dr(),e.substr(ne,4)===l?(le=l,ne+=4):(le=n,Ie===0&&Qe($t)),le!==n?(dr(),It=L,L=Ba()):(ne=L,L=n),Ie--,L===n&&Ie===0&&Qe(Ae),L}function fs(){var L,le;if(L=[],(le=zi())!==n)for(;le!==n;)L.push(le),le=zi();else L=n;return L}function zi(){var L,le,we,Ke;return L=ne,dr(),(le=Yt())!==n?(dr(),(we=Ja())===n&&(we=null),dr(),e.charCodeAt(ne)===41?(Ke=c,ne++):(Ke=n,Ie===0&&Qe(kt)),Ke!==n?(dr(),It=L,L=Bo(le,we)):(ne=L,L=n)):(ne=L,L=n),L}function Ja(){var L,le,we,Ke,Ct,Ft,Wt,hr;if(L=ne,(le=qo())!==n){for(we=[],Ke=ne,Ct=dr(),e.charCodeAt(ne)===44?(Ft=d,ne++):(Ft=n,Ie===0&&Qe(it)),Ft===n&&(Ft=null),Wt=dr(),(hr=qo())!==n?Ke=Ct=[Ct,Ft,Wt,hr]:(ne=Ke,Ke=n);Ke!==n;)we.push(Ke),Ke=ne,Ct=dr(),e.charCodeAt(ne)===44?(Ft=d,ne++):(Ft=n,Ie===0&&Qe(it)),Ft===n&&(Ft=null),Wt=dr(),(hr=qo())!==n?Ke=Ct=[Ct,Ft,Wt,hr]:(ne=Ke,Ke=n);It=L,L=Ui(le,we)}else ne=L,L=n;return L}function qo(){var L,le;return L=ne,(le=Zo())===n&&(le=Yo())===n&&(le=ms())===n&&(le=Kl()),le!==n&&(It=L,le=Ha(le)),(L=le)===n&&(L=ne,(le=Gi())!==n&&(It=L,le=ds(le)),L=le),L}function dr(){var L,le;for(Ie++,L=[],le=e.charAt(ne),ye.test(le)?ne++:(le=n,Ie===0&&Qe($e));le!==n;)L.push(le),le=e.charAt(ne),ye.test(le)?ne++:(le=n,Ie===0&&Qe($e));return Ie--,le=n,Ie===0&&Qe(de),L}function Yt(){var L,le,we;return Ie++,L=ne,(le=Vr())!==n?(e.charCodeAt(ne)===40?(we=m,ne++):(we=n,Ie===0&&Qe(W)),we!==n?(It=L,L=Zs(le)):(ne=L,L=n)):(ne=L,L=n),Ie--,L===n&&(le=n,Ie===0&&Qe(Ce)),L}function Vr(){var L,le,we;if(Ie++,L=ne,le=[],we=e.charAt(ne),ge.test(we)?ne++:(we=n,Ie===0&&Qe(Fe)),we!==n)for(;we!==n;)le.push(we),we=e.charAt(ne),ge.test(we)?ne++:(we=n,Ie===0&&Qe(Fe));else le=n;return le!==n&&(It=L,le=Wa()),Ie--,(L=le)===n&&(le=n,Ie===0&&Qe(he)),L}function Zo(){var L,le,we;return Ie++,L=ne,dr(),(le=ar())!==n?(e.charCodeAt(ne)===37?(we=g,ne++):(we=n,Ie===0&&Qe(ht)),we!==n?(It=L,L=Ys(le)):(ne=L,L=n)):(ne=L,L=n),Ie--,L===n&&Ie===0&&Qe(ct),L}function Yo(){var L,le,we;return Ie++,L=ne,dr(),(le=ar())!==n?(e.substr(ne,2)===w?(we=w,ne+=2):(we=n,Ie===0&&Qe(Je)),we!==n?(It=L,L=Zl(le)):(ne=L,L=n)):(ne=L,L=n),L===n&&(L=ne,dr(),(le=ar())!==n?(e.substr(ne,2)===S?(we=S,ne+=2):(we=n,Ie===0&&Qe(st)),we!==n?(It=L,L=Oc(le)):(ne=L,L=n)):(ne=L,L=n),L===n&&(L=ne,dr(),(le=ar())!==n?(e.substr(ne,2)===$?(we=$,ne+=2):(we=n,Ie===0&&Qe(lt)),we!==n?(It=L,L=qa(le)):(ne=L,L=n)):(ne=L,L=n),L===n&&(L=ne,dr(),(le=ar())!==n?(e.substr(ne,2)===x?(we=x,ne+=2):(we=n,Ie===0&&Qe(Jt)),we!==n?(It=L,L=Za(le)):(ne=L,L=n)):(ne=L,L=n),L===n&&(L=ne,dr(),(le=ar())!==n?(e.substr(ne,2)===M?(we=M,ne+=2):(we=n,Ie===0&&Qe(mn)),we!==n?(It=L,L=Ya(le)):(ne=L,L=n)):(ne=L,L=n),L===n&&(L=ne,dr(),(le=ar())!==n?(e.substr(ne,2)===P?(we=P,ne+=2):(we=n,Ie===0&&Qe(Vo)),we!==n?(It=L,L=rn(le)):(ne=L,L=n)):(ne=L,L=n)))))),Ie--,L===n&&Ie===0&&Qe(gt),L}function ms(){var L,le,we;return Ie++,L=ne,(le=ar())!==n?(e.substr(ne,3)===F?(we=F,ne+=3):(we=n,Ie===0&&Qe(Tn)),we!==n?(It=L,L=Js(le)):(ne=L,L=n)):(ne=L,L=n),L===n&&(L=ne,(le=ar())!==n?(e.substr(ne,3)===V?(we=V,ne+=3):(we=n,Ie===0&&Qe(ja)),we!==n?(It=L,L=qn(le)):(ne=L,L=n)):(ne=L,L=n),L===n&&(L=ne,(le=ar())!==n?(e.substr(ne,4)===U?(we=U,ne+=4):(we=n,Ie===0&&Qe(Ws)),we!==n?(It=L,L=Pt(le)):(ne=L,L=n)):(ne=L,L=n),L===n&&(L=ne,(le=ar())!==n?(e.substr(ne,4)===z?(we=z,ne+=4):(we=n,Ie===0&&Qe(za)),we!==n?(It=L,L=hs(le)):(ne=L,L=n)):(ne=L,L=n)))),Ie--,L===n&&(le=n,Ie===0&&Qe(Er)),L}function Kl(){var L,le;return Ie++,L=ne,dr(),(le=ar())!==n?(It=L,L=Ks(le)):(ne=L,L=n),Ie--,L===n&&Ie===0&&Qe(qs),L}function Gi(){var L,le,we,Ke;if(Ie++,L=ne,e.charCodeAt(ne)===35?(le=Z,ne++):(le=n,Ie===0&&Qe(ui)),le!==n){if(we=[],Ke=e.charAt(ne),Pe.test(Ke)?ne++:(Ke=n,Ie===0&&Qe(ci)),Ke!==n)for(;Ke!==n;)we.push(Ke),Ke=e.charAt(ne),Pe.test(Ke)?ne++:(Ke=n,Ie===0&&Qe(ci));else we=n;we!==n?(It=L,L=ps()):(ne=L,L=n)}else ne=L,L=n;return L===n&&(L=ne,(le=zi())!==n&&(It=L,le=Zn(le)),(L=le)===n&&(L=ne,(le=Vr())!==n&&(It=L,le=Xs()),L=le)),Ie--,L===n&&(le=n,Ie===0&&Qe(Fi)),L}function ar(){var L,le,we,Ke,Ct,Ft,Wt,hr;for(L=ne,le=e.charAt(ne),Me.test(le)?ne++:(le=n,Ie===0&&Qe(yn)),le===n&&(le=null),we=ne,Ke=[],Ct=e.charAt(ne),De.test(Ct)?ne++:(Ct=n,Ie===0&&Qe(rr));Ct!==n;)Ke.push(Ct),Ct=e.charAt(ne),De.test(Ct)?ne++:(Ct=n,Ie===0&&Qe(rr));if(e.charCodeAt(ne)===46?(Ct=Q,ne++):(Ct=n,Ie===0&&Qe(Ga)),Ct!==n){if(Ft=[],Wt=e.charAt(ne),De.test(Wt)?ne++:(Wt=n,Ie===0&&Qe(rr)),Wt!==n)for(;Wt!==n;)Ft.push(Wt),Wt=e.charAt(ne),De.test(Wt)?ne++:(Wt=n,Ie===0&&Qe(rr));else Ft=n;Ft!==n?we=Ke=[Ke,Ct,Ft]:(ne=we,we=n)}else ne=we,we=n;if(we===n)if(we=[],Ke=e.charAt(ne),De.test(Ke)?ne++:(Ke=n,Ie===0&&Qe(rr)),Ke!==n)for(;Ke!==n;)we.push(Ke),Ke=e.charAt(ne),De.test(Ke)?ne++:(Ke=n,Ie===0&&Qe(rr));else we=n;if(we!==n){if(Ke=ne,e.charCodeAt(ne)===101?(Ct=pe,ne++):(Ct=n,Ie===0&&Qe(Va)),Ct!==n){if(Ft=e.charAt(ne),Me.test(Ft)?ne++:(Ft=n,Ie===0&&Qe(yn)),Ft===n&&(Ft=null),Wt=[],hr=e.charAt(ne),De.test(hr)?ne++:(hr=n,Ie===0&&Qe(rr)),hr!==n)for(;hr!==n;)Wt.push(hr),hr=e.charAt(ne),De.test(hr)?ne++:(hr=n,Ie===0&&Qe(rr));else Wt=n;Wt!==n?Ke=Ct=[Ct,Ft,Wt]:(ne=Ke,Ke=n)}else ne=Ke,Ke=n;Ke===n&&(Ke=null),It=L,L=Yn()}else ne=L,L=n;return L}function gn(L,le){return L.map(function(we){return we[le]})}function to(L,le,we){return[L].concat(gn(le,we))}if(r=o(),t.peg$library)return{peg$result:r,peg$currPos:ne,peg$FAILED:n,peg$maxFailExpected:Qs,peg$maxFailPos:Ir};if(r!==n&&ne===e.length)return r;throw r!==n&&ne<e.length&&Qe(Yl()),Jl(Qs,Ir<e.length?e.charAt(Ir):null,Ir<e.length?di(Ir,Ir+1):di(Ir,Ir))}function aj(e){if(!e||e.length===0)return null;if(typeof e=="string"){const r=cL(e);return r&&r.length!==0?r:null}const t=e.map(r=>{if(!Number.isFinite(r.scale)||r.scale<=0)throw new fe("effect:invalid-scale","scale must be finite and greater than 0",{stop:r});return{scale:r.scale,effects:cL(r.value)}});t.sort((r,n)=>n.effects.length-r.effects.length);for(let r=0;r<t.length-1;r++){if(!ete(t[r].effects,t[r+1].effects))throw new fe("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[r].effects,b:t[r+1].effects});tte(t[r].effects,t[r+1].effects)}return t.sort((r,n)=>n.scale-r.scale),t}function cL(e){let t;if(!e)return[];try{t=phe(e)}catch(r){throw new fe("effect:invalid-syntax","Invalid effect syntax",{value:e,error:r})}return t.map(r=>fhe(r))}function fhe(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return mhe(e);case"opacity":return yhe(e);case"hue-rotate":return ghe(e);case"blur":return vhe(e);case"drop-shadow":return whe(e);case"bloom":return _he(e)}}catch(t){throw t.details.filter=e,t}throw new fe("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function mhe(e){let t=1;return Rf(e.parameters,1),e.parameters.length===1&&(t=ko(e.parameters[0])),new u$(e.name,t)}function yhe(e){let t=1;return Rf(e.parameters,1),e.parameters.length===1&&(t=ko(e.parameters[0])),new c8(t)}function ghe(e){let t=0;return Rf(e.parameters,1),e.parameters.length===1&&(t=xhe(e.parameters[0])),new l8(t)}function vhe(e){let t=0;return Rf(e.parameters,1),e.parameters.length===1&&(t=Jk(e.parameters[0]),lg(t,e.parameters[0])),new n8(t)}function whe(e){const t=[];let r=null;for(const n of e.parameters)if(n.type==="color"){if(t.length&&Object.freeze(t),r)throw new fe("effect:type-error","Accepts only one color",{});r=Mhe(n)}else{const i=Jk(n);if(Object.isFrozen(t))throw new fe("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(i),t.length===3&&lg(i,n)}if(t.length<2||t.length>3)throw new fe("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new o8(t[0],t[1],t[2]||0,r||lj("black"))}function _he(e){let t=1,r=0,n=0;return Rf(e.parameters,3),e.parameters[0]&&(t=ko(e.parameters[0])),e.parameters[1]&&(r=Jk(e.parameters[1]),lg(r,e.parameters[1])),e.parameters[2]&&(n=ko(e.parameters[2])),new t8(t,r,n)}function Rf(e,t){if(e.length>t)throw new fe("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function CS(e){if(e.type==="color")return"<color>";if(e.unit){if(e.unit in Yk)return"<length>";if(e.unit in Zk)return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function lg(e,t){if(e<0)throw new fe("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function She(e){if(e.type!=="quantity"||e.unit!==null)throw new fe("effect:type-error",`Expected <double>, Actual: ${CS(e)}`,{term:e})}function bhe(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new fe("effect:type-error",`Expected <double> or <percentage>, Actual: ${CS(e)}`,{term:e})}hhe(sf,Error),sf.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var r,n=null;for(r=0;r<e.length;r++)if(e[r].source===this.location.source){n=e[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,s=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(i):i,o=this.location.source+":"+s.line+":"+s.column;if(n){var l=this.location.end,c=IE("",s.line.toString().length," "),d=n[i.line-1],m=(i.line===l.line?l.column:d.length+1)-i.column||1;t+=`
 --> `+o+`
`+c+` |
`+s.line+" | "+d+`
`+c+" | "+IE("",i.column-1," ")+IE("",m,"^")}else t+=`
 at `+o}return t},sf.buildMessage=function(e,t){var r={literal:function(d){return'"'+i(d.text)+'"'},class:function(d){var m=d.parts.map(function(g){return Array.isArray(g)?s(g[0])+"-"+s(g[1]):s(g)});return"["+(d.inverted?"^":"")+m.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(d){return d.description}};function n(d){return d.charCodeAt(0).toString(16).toUpperCase()}function i(d){return d.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(m){return"\\x0"+n(m)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(m){return"\\x"+n(m)})}function s(d){return d.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(m){return"\\x0"+n(m)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(m){return"\\x"+n(m)})}function o(d){return r[d.type](d)}function l(d){var m,g,w=d.map(o);if(w.sort(),w.length>0){for(m=1,g=1;m<w.length;m++)w[m-1]!==w[m]&&(w[g]=w[m],g++);w.length=g}switch(w.length){case 1:return w[0];case 2:return w[0]+" or "+w[1];default:return w.slice(0,-1).join(", ")+", or "+w[w.length-1]}}function c(d){return d?'"'+i(d)+'"':"end of input"}return"Expected "+l(e)+" but "+c(t)+" found."};const Zk={deg:1,grad:.9,rad:180/Math.PI,turn:360};function Ehe(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&Zk[e.unit]!=null))throw new fe("effect:type-error",`Expected <angle>, Actual: ${CS(e)}`,{term:e})}const Yk={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function The(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&Yk[e.unit]!=null))throw new fe("effect:type-error",`Expected <length>, Actual: ${CS(e)}`,{term:e})}function ko(e){bhe(e);const t=e.value;return lg(t,e),e.unit==="%"?.01*t:t}function $he(e){return She(e),lg(e.value,e),e.value}function xhe(e){return Ehe(e),e.value*Zk[e.unit]||0}function Jk(e){return The(e),e.value*Yk[e.unit]||0}function Mhe(e){switch(e.colorType){case"hex":return BQ(e.value);case"named":return lj(e.value);case"function":return Che(e.value)}}function lj(e){if(!HF(e))throw new fe("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return VQ(e)}const khe=/^rgba?/i,Ahe=/^hsla?/i;function Che(e){if(Rf(e.parameters,4),khe.test(e.name))return[ko(e.parameters[0]),ko(e.parameters[1]),ko(e.parameters[2]),e.parameters[3]?ko(e.parameters[3]):1];if(Ahe.test(e.name))return WF($he(e.parameters[0]),ko(e.parameters[1]),ko(e.parameters[2]),e.parameters[3]?ko(e.parameters[3]):1);throw new fe("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function Rhe(e,t,r){try{return Ihe(e)}catch(n){r?.messages?.push(n)}return null}function Phe(e,t,r,n){try{const i=Ohe(e);vh(r,i,t)}catch(i){n.messages&&n.messages.push(i)}}function Ohe(e){const t=aj(e);return t?rte(t)?t.map(r=>r.toJSON()):t.map(({scale:r,effects:n})=>({scale:r,value:n.map(i=>i.toJSON())})):null}function Ihe(e){if(!e||e.length===0)return null;if(Nhe(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:dL(r.value)});return t}return dL(e)}function Nhe(e){const t=e[0];return!!t&&"scale"in t}function dL(e){if(!e?.length)return"";const t=[];for(const r of e){let n=[];switch(r.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":n=[pl(r,"amount")];break;case"blur":n=[pl(r,"radius","pt")];break;case"hue-rotate":n=[pl(r,"angle","deg")];break;case"drop-shadow":n=[pl(r,"xoffset","pt"),pl(r,"yoffset","pt"),pl(r,"blurRadius","pt"),Lhe(r,"color")];break;case"bloom":n=[pl(r,"strength"),pl(r,"radius","pt"),pl(r,"threshold")]}const i=`${r.type}(${n.filter(Boolean).join(" ")})`;aj(i),t.push(i)}return t.join(" ")}function pl(e,t,r){if(e[t]==null)throw new fe("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return r?e[t]+r:""+e[t]}function Lhe(e,t){if(e[t]==null)throw new fe("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const r=e[t];return`rgba(${r[0]||0}, ${r[1]||0}, ${r[2]||0}, ${r[3]/255||0})`}const Dhe={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}},hL={read:{reader:Rhe},write:{allowNull:!0,writer:Phe}},Fhe={json:{read:!1,write:!1,origins:{"web-map":hL,"portal-item":hL}}},uj=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return p([y(Dhe)],t.prototype,"blendMode",void 0),p([y(Fhe)],t.prototype,"effect",void 0),t=p([G("esri.layers.mixins.BlendLayer")],t),t},ls=(e=>e)(["operational-layers","basemap","ground"]),pL={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},fL={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},mL={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},Uhe={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":pL,"web-map/basemap":fL,"web-map/tables":mL,"link-chart/operational-layers":{...pL,LinkChartLayer:!0},"link-chart/basemap":fL,"link-chart/tables":mL,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0}};var l3;let ky=l3=class extends ze{constructor(e){super(e)}async collectRequiredFields(e,t){return Sc(e,t,this.expression)}clone(){return new l3({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};p([y({type:String,json:{write:!0}})],ky.prototype,"expression",void 0),p([y({type:String,json:{write:!0}})],ky.prototype,"title",void 0),ky=l3=p([G("esri.symbols.support.FeatureExpressionInfo")],ky);const yL=ky,cj={unknown:1,inches:un(1,"meters","inches"),feet:un(1,"meters","feet"),"us-feet":un(1,"meters","us-feet"),yards:un(1,"meters","yards"),miles:un(1,"meters","miles"),"nautical-miles":un(1,"meters","nautical-miles"),millimeters:un(1,"meters","millimeters"),centimeters:un(1,"meters","centimeters"),decimeters:un(1,"meters","decimeters"),meters:un(1,"meters","meters"),kilometers:un(1,"meters","kilometers"),"decimal-degrees":1/gW(1,"meters",Pr.radius)};function Pbe(e){return 1/(cj[e]||1)}function jhe(){const e=Object.keys(cj);return t4(e,"decimal-degrees"),e.sort(),e}const zhe=jhe();var u3;const nv=li()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),gL=new en({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let Al=u3=class extends ze{constructor(e){super(e),this.offset=null}readFeatureExpressionInfo(e,t){return e??(t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0)}writeFeatureExpressionInfo(e,t,r,n){t[r]=e.write({},n),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):e!=null||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new u3({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&ZV(this.featureExpressionInfo,e.featureExpressionInfo)}};p([y({type:yL,json:{write:!0}})],Al.prototype,"featureExpressionInfo",void 0),p([At("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],Al.prototype,"readFeatureExpressionInfo",null),p([wt("featureExpressionInfo",{featureExpressionInfo:{type:yL},"featureExpression.value":{type:[0]}})],Al.prototype,"writeFeatureExpressionInfo",null),p([y({type:nv.apiValues,nonNullable:!0,json:{type:nv.jsonValues,read:nv.read,write:{writer:nv.write,isRequired:!0}}})],Al.prototype,"mode",null),p([y({type:Number,json:{write:!0}})],Al.prototype,"offset",void 0),p([y({type:zhe,json:{type:String,read:gL.read,write:gL.write}})],Al.prototype,"unit",null),Al=u3=p([G("esri.symbols.support.ElevationInfo")],Al);const dj=Al;let Np=class extends ze{constructor(t){super(t),this.description=null,this.label=null,this.type=null}};p([y({type:String,json:{write:!0}})],Np.prototype,"description",void 0),p([y({type:String,json:{write:!0}})],Np.prototype,"label",void 0),p([y()],Np.prototype,"type",void 0),Np=p([G("esri.tables.elements.AttributeTableElement")],Np);const _f=Np;var c3;let Ay=c3=class extends _f{constructor(e){super(e),this.displayType="auto",this.type="attachment"}clone(){return new c3({description:this.description,displayType:this.displayType,label:this.label})}};p([y({type:["auto"],json:{write:!0}})],Ay.prototype,"displayType",void 0),p([y({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],Ay.prototype,"type",void 0),Ay=c3=p([G("esri.tables.elements.AttributeTableAttachmentElement")],Ay);const vL=Ay;var d3;let Cy=d3=class extends _f{constructor(e){super(e),this.fieldName=null,this.type="field"}clone(){return new d3({description:this.description,fieldName:this.fieldName,label:this.label})}};p([y({type:String,json:{write:!0}})],Cy.prototype,"fieldName",void 0),p([y({type:String,json:{read:!1,write:!0}})],Cy.prototype,"type",void 0),Cy=d3=p([G("esri.tables.elements.AttributeTableFieldElement")],Cy);const wL=Cy;var h3;let Ry=h3=class extends _f{constructor(e){super(e),this.relationshipId=null,this.type="relationship"}clone(){return new h3({description:this.description,label:this.label,relationshipId:this.relationshipId})}};p([y({type:Number,json:{write:!0}})],Ry.prototype,"relationshipId",void 0),p([y({type:["relationship"],json:{read:!1,write:!0}})],Ry.prototype,"type",void 0),Ry=h3=p([G("esri.tables.elements.AttributeTableRelationshipElement")],Ry);const _L=Ry;function hj(e){return{typesWithGroup:{base:_f,key:"type",typeMap:{attachment:vL,field:wL,group:e,relationship:_L}},typesWithoutGroup:{base:_f,key:"type",typeMap:{attachment:vL,field:wL,relationship:_L}}}}function pj(e,t,r=!0){if(!e)return null;const n=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(i=>n[i.type]).map(i=>n[i.type].fromJSON(i))}function fj(e,t,r=!0){if(!e)return null;const n=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(i=>n[i.type]).map(i=>i.toJSON())}function mj(e,t,r=!0){return e?e.map(n=>Aa(r?t.typesWithGroup:t.typesWithoutGroup,n)):null}var p3;let Il=p3=class extends _f{constructor(e){super(e),this.elements=null,this.type="group"}castElements(e){return mj(e,NE,!1)}readElements(e,t){return pj(t.attributeTableElements,NE,!1)}writeElements(e,t){t.attributeTableElements=fj(e,NE,!1)}clone(){return new p3({description:this.description,elements:me(this.elements),label:this.label})}};p([y({json:{write:!0}})],Il.prototype,"elements",void 0),p([jr("elements")],Il.prototype,"castElements",null),p([At("elements",["attributeTableElements"])],Il.prototype,"readElements",null),p([wt("elements")],Il.prototype,"writeElements",null),p([y({type:String,json:{read:!1,write:!0}})],Il.prototype,"type",void 0),Il=p3=p([G("esri.tables.elements.AttributeTableGroupElement")],Il);const NE=hj(Il),Ghe=Il;var f3;const LE=hj(Ghe);let Bu=f3=class extends ze{constructor(e){super(e),this.elements=null,this.orderByFields=null}castElements(e){return mj(e,LE)}readElements(e,t){return pj(t.attributeTableElements,LE)}writeElements(e,t){t.attributeTableElements=fj(e,LE)}clone(){return new f3({elements:me(this.elements),orderByFields:this.orderByFields})}};p([y({json:{write:!0}})],Bu.prototype,"elements",void 0),p([jr("elements")],Bu.prototype,"castElements",null),p([At("elements",["attributeTableElements"])],Bu.prototype,"readElements",null),p([wt("elements")],Bu.prototype,"writeElements",null),p([y({type:[Object],json:{write:!0}})],Bu.prototype,"orderByFields",void 0),Bu=f3=p([G("esri.tables.AttributeTableTemplate")],Bu);const Vhe=Bu,Ibe={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:ls}}},Nbe={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,r){t[r]=!e}}}},Lbe={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:ls}}},Dbe={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:fh}}},Fbe={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:ls}}},Ube={value:null,type:dj,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:ls}}};function jbe(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const yj={write:{enabled:!0,layerContainerTypes:ls},read:!0},m3={type:Number,json:{origins:{"web-document":yj,"portal-item":{write:!0}}}},zbe={...m3,json:{...m3.json,origins:{"web-document":{...yj,write:{enabled:!0,layerContainerTypes:ls,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,r)=>r&&r.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?t.layerDefinition?.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?Xw(t.layerDefinition.drawingInfo.transparency):void 0:Xw(t.drawingInfo.transparency)}}},Gbe={type:tr,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const r=tr.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(r.spatialReference=_t.fromJSON(t.spatialReference)),r}}}},read:!1}},Vbe={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},Bbe={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:ls}}},name:"layerDefinition.minScale",write:!0}},Hbe={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:ls}}},name:"layerDefinition.maxScale",write:!0}},Bhe={json:{write:{ignoreOrigin:!0,layerContainerTypes:ls},origins:{"web-map":{read:!1,write:!1}}}},Wbe={type:Vhe,json:{name:"attributeTableInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}},Hhe=e=>{let t=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(r,n,i){return i?.portalItem?.type==="Group Layer"?void 0:r}writeListMode(r,n,i,s){(s&&s.layerContainerType==="ground"||r&&eH(this,i,{},s))&&(n[i]=r)}writeOperationalLayerType(r,n,i,s){r&&s?.layerContainerType!=="tables"&&(n.layerType=r)}writeTitle(r,n){n.title=r??"Layer"}readTimeExtent(r){return r?_0.fromArray(r):null}writeTimeExtent(r,n,i,s){r&&s.layerContainerType!=="tables"&&(r.isEmpty?s?.messages&&s.messages.push(new fe("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):n[i]=r.toArray())}read(r,n){n&&(n.layer=this),KB(this,r,i=>super.read(r,i),n)}write(r,n){if(!this.persistenceEnabled&&!n?.ignorePersistenceEnabled)return null;if(n?.origin){const o=`${n.origin}/${n.layerContainerType||"operational-layers"}`;let c=!!Uhe[o]?.[this.operationalLayerType];if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&o==="web-scene/operational-layers"&&(c=!1),this.operationalLayerType==="ArcGISDimensionLayer"&&o==="web-map/operational-layers"&&(c=!1),!c)return n.messages?.push(new fe("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${o}'`,{layer:this})),null}const i=super.write(r,{...n,layer:this}),s=!!n&&!!n.messages&&!!n.messages.filter(o=>o instanceof fe&&o.name==="web-document-write:property-required").length;return U_(i?.url)?(n?.messages?.push(new fe("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&s?null:i}beforeSave(){}};return p([y({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),p([At("id",["id"])],t.prototype,"readId",null),p([y(Bhe)],t.prototype,"listMode",void 0),p([wt("listMode")],t.prototype,"writeListMode",null),p([y({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:ls}}}}})],t.prototype,"operationalLayerType",void 0),p([wt("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),p([y(m3)],t.prototype,"opacity",void 0),p([y({type:Boolean,readOnly:!1})],t.prototype,"persistenceEnabled",void 0),p([y({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),p([wt("title"),wt(["web-scene"],"title")],t.prototype,"writeTitle",null),p([y({type:_0,json:{origins:{"web-scene":{write:{layerContainerTypes:ls}}}}})],t.prototype,"visibilityTimeExtent",void 0),p([At("visibilityTimeExtent")],t.prototype,"readTimeExtent",null),p([wt(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[or,P_]]}})],t.prototype,"writeTimeExtent",null),p([y({type:Boolean,json:{origins:{"web-scene":{name:"visibility",write:{enabled:!0,layerContainerTypes:ls}}},name:"visibility",write:!0}})],t.prototype,"visible",void 0),t=p([G("esri.layers.mixins.OperationalLayer")],t),t};async function Whe(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return Dp(e);const r=_t.WGS84;return await jM(t,r),kc(e,r)}function qhe(e,t){if(!gj(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function gj(e,t){return!!e.typeKeywords?.includes(t)}function qbe(e){return gj(e,Yhe.HOSTED_SERVICE)}function Zhe(e,t){const r=e.typeKeywords;if(r){const n=r.indexOf(t);n>-1&&r.splice(n,1)}}function Zbe(e,t,r){r?qhe(e,t):Zhe(e,t)}async function Ybe(e){const t=e.clone().normalize();let r;if(t.length>1)for(const n of t)r?n.width>r.width&&(r=n):r=n;else r=t[0];return Whe(r)}const Yhe={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer"};function SL(e){const{portal:t,isOrgItem:r,itemControl:n}=e,i=t.user?.privileges;let s=!i||i.includes("features:user:edit"),o=!!r&&!!i?.includes("features:user:fullEdit");const l=n==="update"||n==="admin";return l?o=s=!0:o&&(s=!0),{features:{edit:s,fullEdit:o},content:{updateItem:l}}}const Jhe=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=wr(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(r){r!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",r))}readPortalItem(r,n,i){if(n.itemId)return new Gy({id:n.itemId,portal:i?.portal})}writePortalItem(r,n){r?.id&&(n.itemId=r.id)}async loadFromPortal(r,n){if(this.portalItem?.id)try{const{load:i}=await ke(()=>import("./layersLoader-jMy9qfon.js"),__vite__mapDeps([289,195,193,194,192,184,290]));return br(n),await i({instance:this,supportedTypes:r.supportedTypes,validateItem:r.validateItem,supportsData:r.supportsData,layerModuleTypeMap:r.layerModuleTypeMap},n)}catch(i){throw Li(i)||Ne.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${i}`),i}}async finishLoadEditablePortalLayer(r){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(r).catch(n=>(Wu(n),!0)))}async setUserPrivileges(r,n){if(!Vt.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(n);if(this.url)try{const{features:{edit:i,fullEdit:s},content:{updateItem:o}}=await this._fetchUserPrivileges(r,n);this._set("userHasEditingPrivileges",i),this._set("userHasFullEditingPrivileges",s),this._set("userHasUpdateItemPrivileges",o)}catch(i){Wu(i)}}async _fetchUserPrivileges(r,n){let i=this.portalItem;if(!r||!i||!i.loaded||i.sourceUrl)return this._fetchFallbackUserPrivileges(n);const s=r===i.id;if(s&&i.portal.user)return SL(i);let o,l;if(s)o=i.portal.url;else try{o=await kQ(this.url,n)}catch(g){Wu(g)}if(!o||!vH(o,i.portal.url))return this._fetchFallbackUserPrivileges(n);try{const g=n!=null?n.signal:null;l=await er?.getCredential(`${o}/sharing`,{prompt:!1,signal:g})}catch(g){Wu(g)}const c=!0,d=!1,m=!1;if(!l)return{features:{edit:c,fullEdit:d},content:{updateItem:m}};try{if(s?await i.reload():(i=new Gy({id:r,portal:{url:o}}),await i.load(n)),i.portal.user)return SL(i)}catch(g){Wu(g)}return{features:{edit:c,fullEdit:d},content:{updateItem:m}}}async _fetchFallbackUserPrivileges(r){let n=!0;try{n=await this._fetchUserHasEditingPrivileges(r)}catch(i){Wu(i)}return{features:{edit:n,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(r){const n=this.url?er?.findCredential(this.url):null;if(!n)return!0;const i=iv.credential===n?iv.user:await this._fetchEditingUser(r);return iv.credential=n,iv.user=i,i?.privileges==null||i.privileges.includes("features:user:edit")}async _fetchEditingUser(r){const n=this.portalItem?.portal?.user;if(n)return n;const i=er?.findServerInfo(this.url??"");if(!i?.owningSystemUrl)return null;const s=`${i.owningSystemUrl}/sharing/rest`,o=Na.getDefault();if(o&&o.loaded&&Oo(o.restUrl)===Oo(s))return o.user;const l=`${s}/community/self`,c=r!=null?r.signal:null,d=await wM(Ar(l,{authMode:"no-prompt",query:{f:"json"},signal:c}));return d.ok?ZM.fromJSON(d.value.data):null}read(r,n){n&&(n.layer=this),super.read(r,n)}write(r,n){const i=n?.portal,s=this.portalItem?.id&&(this.portalItem.portal||Na.getDefault());return i&&s&&!b5(s.restUrl,i.restUrl)?(n.messages&&n.messages.push(new fe("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(r,{...n,layer:this})}};return p([y({type:Gy})],t.prototype,"portalItem",null),p([At("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),p([wt("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),p([y({clonable:!1})],t.prototype,"resourceReferences",void 0),p([y({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),p([y({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),p([y({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=p([G("esri.layers.mixins.PortalLayer")],t),t},iv={credential:null,user:null},lc=new Ye,e0=new WeakMap;function Khe(e){Qhe(e)&&lc.push(new WeakRef(e))}function Xhe(e){const t=lc.find(r=>r.deref()===e);t&&lc.remove(t)}function Qhe(e){return e!=null&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function vj(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:vj(t,e%t):0}let DE=0,sv=0;function epe(){const e=Date.now();let t=!1;for(const r of lc){const n=r.deref();n?n.refreshInterval&&e-(e0.get(n)??0)+5>=6e4*n.refreshInterval&&(e0.set(n,e),n.refresh(e)):t=!0}if(t)for(let r=lc.length-1;r>=0;r--)lc.at(r).deref()||lc.removeAt(r)}s5(()=>{const e=Date.now();let t=0;for(const r of lc){const n=r.deref();n&&(t=vj(Math.round(6e4*n.refreshInterval),t),n.refreshInterval?e0.get(n)||e0.set(n,e):e0.delete(n))}if(t!==sv){if(sv=t,clearInterval(DE),sv===0)return void(DE=0);DE=setInterval(epe,sv)}},Hl);const bL=.1,tpe=e=>{let t=class extends e{constructor(...r){super(...r),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=X4(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||Khe(this)},()=>{})}destroy(){Xhe(this)}castRefreshInterval(r){return r>=bL?r:r<=0?0:bL}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(r=Date.now()){nT(this._debounceHasDataChanged()).then(n=>{n&&this._set("refreshTimestamp",r),this.emit("refresh",{dataChanged:n})},n=>{Ne.getLogger(this).error(n),this.emit("refresh",{dataChanged:!1,error:n})})}async hasDataChanged(){return!0}get test(){}};return p([y({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:ls}}}}})],t.prototype,"refreshInterval",void 0),p([jr("refreshInterval")],t.prototype,"castRefreshInterval",null),p([y({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),p([y({readOnly:!0})],t.prototype,"refreshParameters",null),t=p([G("esri.layers.mixins.RefreshableLayer")],t),t},wj=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const r={minScale:this.minScale,maxScale:this.maxScale},n=this.parent;n&&"effectiveScaleRange"in n&&rpe(r,n.effectiveScaleRange);const i=this._get("effectiveScaleRange");return i&&i.minScale===r.minScale&&i.maxScale===r.maxScale?i:r}};return p([y({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),p([y({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),p([y({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=p([G("esri.layers.mixins.ScaleRangeLayer")],t),t};function rpe(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}async function Jbe(e,t,r){let n;try{n=await createImageBitmap(e)}catch(i){throw new fe("request:server",`Unable to load ${t}`,{url:t,error:i})}return br(r),n}async function EL(e,t,r,n,i){let s;try{s=await createImageBitmap(e)}catch(o){throw new fe("request:server",`Unable to load tile ${t}/${r}/${n}`,{error:o,level:t,row:r,col:n})}return br(i),s}var y3;let Hu=y3=class extends ze{constructor(e){super(e)}clone(){return new y3({customLayerParameters:me(this.customLayerParameters),customParameters:me(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})}};p([y({json:{type:Object,write:!0}})],Hu.prototype,"customLayerParameters",void 0),p([y({json:{type:Object,write:!0}})],Hu.prototype,"customParameters",void 0),p([y({type:String,json:{write:!0}})],Hu.prototype,"layerIdentifier",void 0),p([y({type:String,json:{write:!0}})],Hu.prototype,"tileMatrixSet",void 0),p([y({type:String,json:{write:!0}})],Hu.prototype,"url",void 0),Hu=y3=p([G("esri.layers.support.WMTSLayerInfo")],Hu);var g3;let kr=g3=class extends uj(tpe(wj(Hhe(Jhe(oj(nk)))))){constructor(...e){super(...e),this.copyright="",this.fullExtent=new tr(-20037508342787e-6,-2003750834278e-5,2003750834278e-5,20037508342787e-6,_t.WebMercator),this.legendEnabled=!1,this.isReference=null,this.popupEnabled=!1,this.spatialReference=_t.WebMercator,this.subDomains=null,this.tileInfo=new zM({size:[256,256],dpi:96,format:"png8",compressionQuality:0,origin:new yt({x:-20037508342787e-6,y:20037508342787e-6,spatialReference:_t.WebMercator}),spatialReference:_t.WebMercator,lods:[new Gt({level:0,scale:591657527591555e-6,resolution:156543.033928}),new Gt({level:1,scale:295828763795777e-6,resolution:78271.5169639999}),new Gt({level:2,scale:147914381897889e-6,resolution:39135.7584820001}),new Gt({level:3,scale:73957190948944e-6,resolution:19567.8792409999}),new Gt({level:4,scale:36978595474472e-6,resolution:9783.93962049996}),new Gt({level:5,scale:18489297737236e-6,resolution:4891.96981024998}),new Gt({level:6,scale:9244648868618e-6,resolution:2445.98490512499}),new Gt({level:7,scale:4622324434309e-6,resolution:1222.99245256249}),new Gt({level:8,scale:2311162217155e-6,resolution:611.49622628138}),new Gt({level:9,scale:1155581108577e-6,resolution:305.748113140558}),new Gt({level:10,scale:577790.554289,resolution:152.874056570411}),new Gt({level:11,scale:288895.277144,resolution:76.4370282850732}),new Gt({level:12,scale:144447.638572,resolution:38.2185141425366}),new Gt({level:13,scale:72223.819286,resolution:19.1092570712683}),new Gt({level:14,scale:36111.909643,resolution:9.55462853563415}),new Gt({level:15,scale:18055.954822,resolution:4.77731426794937}),new Gt({level:16,scale:9027.977411,resolution:2.38865713397468}),new Gt({level:17,scale:4513.988705,resolution:1.19432856685505}),new Gt({level:18,scale:2256.994353,resolution:.597164283559817}),new Gt({level:19,scale:1128.497176,resolution:.298582141647617}),new Gt({level:20,scale:564.248588,resolution:.14929107082380833}),new Gt({level:21,scale:282.124294,resolution:.07464553541190416}),new Gt({level:22,scale:141.062147,resolution:.03732276770595208}),new Gt({level:23,scale:70.5310735,resolution:.01866138385297604})]}),this.type="web-tile",this.urlTemplate=null,this.wmtsInfo=null}normalizeCtorArgs(e,t){return typeof e=="string"?{urlTemplate:e,...t}:e}load(e){const t=this.loadFromPortal({supportedTypes:["WMTS"]},e).then(()=>{let r="";if(this.urlTemplate)if(this.spatialReference.equals(this.tileInfo.spatialReference)){const n=new jl(this.urlTemplate);!(this.subDomains&&this.subDomains.length>0)&&n.authority?.includes("{subDomain}")&&(r="is missing 'subDomains' property")}else r="spatialReference must match tileInfo.spatialReference";else r="is missing the required 'urlTemplate' property value";if(r)throw new fe("web-tile-layer:load",`WebTileLayer (title: '${this.title}', id: '${this.id}') ${r}`)});return this.addResolvingPromise(t),Promise.resolve(this)}get levelValues(){const e=[];if(!this.tileInfo)return null;for(const t of this.tileInfo.lods)e[t.level]=t.levelValue||t.level;return e}readSpatialReference(e,t){return e||_t.fromJSON(t.fullExtent?.spatialReference)}get tileServers(){if(!this.urlTemplate)return null;const e=[],{urlTemplate:t,subDomains:r}=this,n=new jl(t),i=n.scheme?n.scheme+"://":"//",s=i+n.authority+"/",o=n.authority;if(o?.includes("{subDomain}")){if(r&&r.length>0&&o.split(".").length>1)for(const l of r)e.push(i+o.replaceAll(/\{subDomain\}/gi,l)+"/")}else e.push(s);return e.map(T5)}get urlPath(){if(!this.urlTemplate)return null;const e=this.urlTemplate,t=new jl(e),r=(t.scheme?t.scheme+"://":"//")+t.authority+"/";return e.slice(r.length)}readUrlTemplate(e,t){return e||t.templateUrl}writeUrlTemplate(e,t){Fo(e)&&(e="https:"+e),e&&(e=e.replaceAll(/\{z\}/gi,"{level}").replaceAll(/\{x\}/gi,"{col}").replaceAll(/\{y\}/gi,"{row}"),e=Oo(e)),t.templateUrl=e}fetchTile(e,t,r,n={}){const{signal:i}=n,s=this.getTileUrl(e,t,r),o={responseType:"image",signal:i,query:{...this.refreshParameters}};return Ar(s,o).then(l=>l.data)}async fetchImageBitmapTile(e,t,r,n={}){const{signal:i}=n;if(this.fetchTile!==g3.prototype.fetchTile){const c=await this.fetchTile(e,t,r,n);return EL(c,e,t,r,i)}const s=this.getTileUrl(e,t,r),o={responseType:"blob",signal:i,query:{...this.refreshParameters}},{data:l}=await Ar(s,o);return EL(l,e,t,r,i)}getTileUrl(e,t,r){const{levelValues:n,tileServers:i,urlPath:s}=this;if(!n||!i||!s)return"";const o=n[e];return i[t%i.length]+F3(s,{level:o,z:o,col:r,x:r,row:t,y:t})}};p([y({type:String,value:"",json:{write:!0}})],kr.prototype,"copyright",void 0),p([y({type:tr,json:{write:!0},nonNullable:!0})],kr.prototype,"fullExtent",void 0),p([y({readOnly:!0,json:{read:!1,write:!1}})],kr.prototype,"legendEnabled",void 0),p([y({type:["show","hide"]})],kr.prototype,"listMode",void 0),p([y({json:{read:!0,write:!0}})],kr.prototype,"blendMode",void 0),p([y()],kr.prototype,"levelValues",null),p([y({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],kr.prototype,"isReference",void 0),p([y({type:["WebTiledLayer"],value:"WebTiledLayer"})],kr.prototype,"operationalLayerType",void 0),p([y({readOnly:!0,json:{read:!1,write:!1}})],kr.prototype,"popupEnabled",void 0),p([y({type:_t})],kr.prototype,"spatialReference",void 0),p([At("spatialReference",["spatialReference","fullExtent.spatialReference"])],kr.prototype,"readSpatialReference",null),p([y({type:[String],json:{write:!0}})],kr.prototype,"subDomains",void 0),p([y({type:zM,json:{write:!0}})],kr.prototype,"tileInfo",void 0),p([y({readOnly:!0})],kr.prototype,"tileServers",null),p([y({json:{read:!1}})],kr.prototype,"type",void 0),p([y()],kr.prototype,"urlPath",null),p([y({type:String,json:{origins:{"portal-item":{read:{source:"url"}}}}})],kr.prototype,"urlTemplate",void 0),p([At("urlTemplate",["urlTemplate","templateUrl"])],kr.prototype,"readUrlTemplate",null),p([wt("urlTemplate",{templateUrl:{type:String}})],kr.prototype,"writeUrlTemplate",null),p([y({type:Hu,json:{write:!0}})],kr.prototype,"wmtsInfo",void 0),kr=g3=p([G("esri.layers.WebTileLayer")],kr);const _j=kr,Kbe=Object.freeze(Object.defineProperty({__proto__:null,default:_j},Symbol.toStringTag,{value:"Module"}));let Cl=class extends uj(wj(nk)){constructor(t){super(t),this.elevationInfo=null,this.graphics=new rh,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(t){return this.graphics.add(t),this}addMany(t){return this.graphics.addMany(t),this}removeAll(){return this.graphics.removeAll(),this}remove(t){this.graphics.remove(t)}removeMany(t){this.graphics.removeMany(t)}on(t,r){return super.on(t,r)}graphicChanged(t){this.emit("graphic-update",t)}};p([y({type:dj})],Cl.prototype,"elevationInfo",void 0),p([y(h$(rh,"graphics"))],Cl.prototype,"graphics",void 0),p([y({type:["show","hide"]})],Cl.prototype,"listMode",void 0),p([y()],Cl.prototype,"screenSizePerspectiveEnabled",void 0),p([y({readOnly:!0})],Cl.prototype,"type",void 0),p([y({constructOnly:!0})],Cl.prototype,"internal",void 0),Cl=p([G("esri.layers.GraphicsLayer")],Cl);const npe=Cl;var FE,TL;function ipe(){if(TL)return FE;TL=1;var e="Expected a function",t=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,c=typeof p1=="object"&&p1&&p1.Object===Object&&p1,d=typeof self=="object"&&self&&self.Object===Object&&self,m=c||d||Function("return this")(),g=Object.prototype,w=g.toString,S=Math.max,$=Math.min,x=function(){return m.Date.now()};function M(z,Z,Q){var pe,ye,ge,Pe,Me,De,Ae=0,$t=!1,kt=!1,it=!0;if(typeof z!="function")throw new TypeError(e);Z=U(Z)||0,P(Q)&&($t=!!Q.leading,kt="maxWait"in Q,ge=kt?S(U(Q.maxWait)||0,Z):ge,it="trailing"in Q?!!Q.trailing:it);function de(Je){var st=pe,lt=ye;return pe=ye=void 0,Ae=Je,Pe=z.apply(lt,st),Pe}function $e(Je){return Ae=Je,Me=setTimeout(he,Z),$t?de(Je):Pe}function Ce(Je){var st=Je-De,lt=Je-Ae,Jt=Z-st;return kt?$(Jt,ge-lt):Jt}function W(Je){var st=Je-De,lt=Je-Ae;return De===void 0||st>=Z||st<0||kt&&lt>=ge}function he(){var Je=x();if(W(Je))return Fe(Je);Me=setTimeout(he,Ce(Je))}function Fe(Je){return Me=void 0,it&&pe?de(Je):(pe=ye=void 0,Pe)}function ct(){Me!==void 0&&clearTimeout(Me),Ae=0,pe=De=ye=Me=void 0}function ht(){return Me===void 0?Pe:Fe(x())}function gt(){var Je=x(),st=W(Je);if(pe=arguments,ye=this,De=Je,st){if(Me===void 0)return $e(De);if(kt)return Me=setTimeout(he,Z),de(De)}return Me===void 0&&(Me=setTimeout(he,Z)),Pe}return gt.cancel=ct,gt.flush=ht,gt}function P(z){var Z=typeof z;return!!z&&(Z=="object"||Z=="function")}function F(z){return!!z&&typeof z=="object"}function V(z){return typeof z=="symbol"||F(z)&&w.call(z)==r}function U(z){if(typeof z=="number")return z;if(V(z))return t;if(P(z)){var Z=typeof z.valueOf=="function"?z.valueOf():z;z=P(Z)?Z+"":Z}if(typeof z!="string")return z===0?z:+z;z=z.replace(n,"");var Q=s.test(z);return Q||o.test(z)?l(z.slice(2),Q?2:8):i.test(z)?t:+z}return FE=M,FE}var spe=ipe();const ope=P3(spe);var $u={},ld={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $L;function ape(){if($L)return ld;$L=1;var e=L0();function t(b){for(var A="https://reactjs.org/docs/error-decoder.html?invariant="+b,I=1;I<arguments.length;I++)A+="&args[]="+encodeURIComponent(arguments[I]);return"Minified React error #"+b+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=Object.prototype.hasOwnProperty,n=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i={},s={};function o(b){return r.call(s,b)?!0:r.call(i,b)?!1:n.test(b)?s[b]=!0:(i[b]=!0,!1)}function l(b,A,I,D,ee,J,ue){this.acceptsBooleans=A===2||A===3||A===4,this.attributeName=D,this.attributeNamespace=ee,this.mustUseProperty=I,this.propertyName=b,this.type=A,this.sanitizeURL=J,this.removeEmptyString=ue}var c={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){c[b]=new l(b,0,!1,b,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var A=b[0];c[A]=new l(A,1,!1,b[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(b){c[b]=new l(b,2,!1,b.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){c[b]=new l(b,2,!1,b,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){c[b]=new l(b,3,!1,b.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(b){c[b]=new l(b,3,!0,b,null,!1,!1)}),["capture","download"].forEach(function(b){c[b]=new l(b,4,!1,b,null,!1,!1)}),["cols","rows","size","span"].forEach(function(b){c[b]=new l(b,6,!1,b,null,!1,!1)}),["rowSpan","start"].forEach(function(b){c[b]=new l(b,5,!1,b.toLowerCase(),null,!1,!1)});var d=/[\-:]([a-z])/g;function m(b){return b[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var A=b.replace(d,m);c[A]=new l(A,1,!1,b,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var A=b.replace(d,m);c[A]=new l(A,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(b){var A=b.replace(d,m);c[A]=new l(A,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(b){c[b]=new l(b,1,!1,b.toLowerCase(),null,!1,!1)}),c.xlinkHref=new l("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(b){c[b]=new l(b,1,!1,b.toLowerCase(),null,!0,!0)});var g={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w=["Webkit","ms","Moz","O"];Object.keys(g).forEach(function(b){w.forEach(function(A){A=A+b.charAt(0).toUpperCase()+b.substring(1),g[A]=g[b]})});var S=/["'&<>]/;function $(b){if(typeof b=="boolean"||typeof b=="number")return""+b;b=""+b;var A=S.exec(b);if(A){var I="",D,ee=0;for(D=A.index;D<b.length;D++){switch(b.charCodeAt(D)){case 34:A="&quot;";break;case 38:A="&amp;";break;case 39:A="&#x27;";break;case 60:A="&lt;";break;case 62:A="&gt;";break;default:continue}ee!==D&&(I+=b.substring(ee,D)),ee=D+1,I+=A}b=ee!==D?I+b.substring(ee,D):I}return b}var x=/([A-Z])/g,M=/^ms-/,P=Array.isArray;function F(b,A){return{insertionMode:b,selectedValue:A}}function V(b,A,I){switch(A){case"select":return F(1,I.value!=null?I.value:I.defaultValue);case"svg":return F(2,null);case"math":return F(3,null);case"foreignObject":return F(1,null);case"table":return F(4,null);case"thead":case"tbody":case"tfoot":return F(5,null);case"colgroup":return F(7,null);case"tr":return F(6,null)}return 4<=b.insertionMode||b.insertionMode===0?F(1,null):b}var U=new Map;function z(b,A,I){if(typeof I!="object")throw Error(t(62));A=!0;for(var D in I)if(r.call(I,D)){var ee=I[D];if(ee!=null&&typeof ee!="boolean"&&ee!==""){if(D.indexOf("--")===0){var J=$(D);ee=$((""+ee).trim())}else{J=D;var ue=U.get(J);ue!==void 0||(ue=$(J.replace(x,"-$1").toLowerCase().replace(M,"-ms-")),U.set(J,ue)),J=ue,ee=typeof ee=="number"?ee===0||r.call(g,D)?""+ee:ee+"px":$((""+ee).trim())}A?(A=!1,b.push(' style="',J,":",ee)):b.push(";",J,":",ee)}}A||b.push('"')}function Z(b,A,I,D){switch(I){case"style":z(b,A,D);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<I.length)||I[0]!=="o"&&I[0]!=="O"||I[1]!=="n"&&I[1]!=="N"){if(A=c.hasOwnProperty(I)?c[I]:null,A!==null){switch(typeof D){case"function":case"symbol":return;case"boolean":if(!A.acceptsBooleans)return}switch(I=A.attributeName,A.type){case 3:D&&b.push(" ",I,'=""');break;case 4:D===!0?b.push(" ",I,'=""'):D!==!1&&b.push(" ",I,'="',$(D),'"');break;case 5:isNaN(D)||b.push(" ",I,'="',$(D),'"');break;case 6:!isNaN(D)&&1<=D&&b.push(" ",I,'="',$(D),'"');break;default:A.sanitizeURL&&(D=""+D),b.push(" ",I,'="',$(D),'"')}}else if(o(I)){switch(typeof D){case"function":case"symbol":return;case"boolean":if(A=I.toLowerCase().slice(0,5),A!=="data-"&&A!=="aria-")return}b.push(" ",I,'="',$(D),'"')}}}function Q(b,A,I){if(A!=null){if(I!=null)throw Error(t(60));if(typeof A!="object"||!("__html"in A))throw Error(t(61));A=A.__html,A!=null&&b.push(""+A)}}function pe(b){var A="";return e.Children.forEach(b,function(I){I!=null&&(A+=I)}),A}function ye(b,A,I,D){b.push(Me(I));var ee=I=null,J;for(J in A)if(r.call(A,J)){var ue=A[J];if(ue!=null)switch(J){case"children":I=ue;break;case"dangerouslySetInnerHTML":ee=ue;break;default:Z(b,D,J,ue)}}return b.push(">"),Q(b,ee,I),typeof I=="string"?(b.push($(I)),null):I}var ge=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Pe=new Map;function Me(b){var A=Pe.get(b);if(A===void 0){if(!ge.test(b))throw Error(t(65,b));A="<"+b,Pe.set(b,A)}return A}function De(b,A,I,D,ee){switch(A){case"select":b.push(Me("select"));var J=null,ue=null;for(St in I)if(r.call(I,St)){var xe=I[St];if(xe!=null)switch(St){case"children":J=xe;break;case"dangerouslySetInnerHTML":ue=xe;break;case"defaultValue":case"value":break;default:Z(b,D,St,xe)}}return b.push(">"),Q(b,ue,J),J;case"option":ue=ee.selectedValue,b.push(Me("option"));var Re=xe=null,ut=null,St=null;for(J in I)if(r.call(I,J)){var Kt=I[J];if(Kt!=null)switch(J){case"children":xe=Kt;break;case"selected":ut=Kt;break;case"dangerouslySetInnerHTML":St=Kt;break;case"value":Re=Kt;default:Z(b,D,J,Kt)}}if(ue!=null)if(I=Re!==null?""+Re:pe(xe),P(ue)){for(D=0;D<ue.length;D++)if(""+ue[D]===I){b.push(' selected=""');break}}else""+ue===I&&b.push(' selected=""');else ut&&b.push(' selected=""');return b.push(">"),Q(b,St,xe),xe;case"textarea":b.push(Me("textarea")),St=ue=J=null;for(xe in I)if(r.call(I,xe)&&(Re=I[xe],Re!=null))switch(xe){case"children":St=Re;break;case"value":J=Re;break;case"defaultValue":ue=Re;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:Z(b,D,xe,Re)}if(J===null&&ue!==null&&(J=ue),b.push(">"),St!=null){if(J!=null)throw Error(t(92));if(P(St)&&1<St.length)throw Error(t(93));J=""+St}return typeof J=="string"&&J[0]===`
`&&b.push(`
`),J!==null&&b.push($(""+J)),null;case"input":b.push(Me("input")),Re=St=xe=J=null;for(ue in I)if(r.call(I,ue)&&(ut=I[ue],ut!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"defaultChecked":Re=ut;break;case"defaultValue":xe=ut;break;case"checked":St=ut;break;case"value":J=ut;break;default:Z(b,D,ue,ut)}return St!==null?Z(b,D,"checked",St):Re!==null&&Z(b,D,"checked",Re),J!==null?Z(b,D,"value",J):xe!==null&&Z(b,D,"value",xe),b.push("/>"),null;case"menuitem":b.push(Me("menuitem"));for(var hi in I)if(r.call(I,hi)&&(J=I[hi],J!=null))switch(hi){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:Z(b,D,hi,J)}return b.push(">"),null;case"title":b.push(Me("title")),J=null;for(Kt in I)if(r.call(I,Kt)&&(ue=I[Kt],ue!=null))switch(Kt){case"children":J=ue;break;case"dangerouslySetInnerHTML":throw Error(t(434));default:Z(b,D,Kt,ue)}return b.push(">"),J;case"listing":case"pre":b.push(Me(A)),ue=J=null;for(Re in I)if(r.call(I,Re)&&(xe=I[Re],xe!=null))switch(Re){case"children":J=xe;break;case"dangerouslySetInnerHTML":ue=xe;break;default:Z(b,D,Re,xe)}if(b.push(">"),ue!=null){if(J!=null)throw Error(t(60));if(typeof ue!="object"||!("__html"in ue))throw Error(t(61));I=ue.__html,I!=null&&(typeof I=="string"&&0<I.length&&I[0]===`
`?b.push(`
`,I):b.push(""+I))}return typeof J=="string"&&J[0]===`
`&&b.push(`
`),J;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":b.push(Me(A));for(var pi in I)if(r.call(I,pi)&&(J=I[pi],J!=null))switch(pi){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,A));default:Z(b,D,pi,J)}return b.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return ye(b,I,A,D);case"html":return ee.insertionMode===0&&b.push("<!DOCTYPE html>"),ye(b,I,A,D);default:if(A.indexOf("-")===-1&&typeof I.is!="string")return ye(b,I,A,D);b.push(Me(A)),ue=J=null;for(ut in I)if(r.call(I,ut)&&(xe=I[ut],xe!=null))switch(ut){case"children":J=xe;break;case"dangerouslySetInnerHTML":ue=xe;break;case"style":z(b,D,xe);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:o(ut)&&typeof xe!="function"&&typeof xe!="symbol"&&b.push(" ",ut,'="',$(xe),'"')}return b.push(">"),Q(b,ue,J),J}}function Ae(b,A,I){if(b.push('<!--$?--><template id="'),I===null)throw Error(t(395));return b.push(I),b.push('"></template>')}function $t(b,A,I,D){switch(I.insertionMode){case 0:case 1:return b.push('<div hidden id="'),b.push(A.segmentPrefix),A=D.toString(16),b.push(A),b.push('">');case 2:return b.push('<svg aria-hidden="true" style="display:none" id="'),b.push(A.segmentPrefix),A=D.toString(16),b.push(A),b.push('">');case 3:return b.push('<math aria-hidden="true" style="display:none" id="'),b.push(A.segmentPrefix),A=D.toString(16),b.push(A),b.push('">');case 4:return b.push('<table hidden id="'),b.push(A.segmentPrefix),A=D.toString(16),b.push(A),b.push('">');case 5:return b.push('<table hidden><tbody id="'),b.push(A.segmentPrefix),A=D.toString(16),b.push(A),b.push('">');case 6:return b.push('<table hidden><tr id="'),b.push(A.segmentPrefix),A=D.toString(16),b.push(A),b.push('">');case 7:return b.push('<table hidden><colgroup id="'),b.push(A.segmentPrefix),A=D.toString(16),b.push(A),b.push('">');default:throw Error(t(397))}}function kt(b,A){switch(A.insertionMode){case 0:case 1:return b.push("</div>");case 2:return b.push("</svg>");case 3:return b.push("</math>");case 4:return b.push("</table>");case 5:return b.push("</tbody></table>");case 6:return b.push("</tr></table>");case 7:return b.push("</colgroup></table>");default:throw Error(t(397))}}var it=/[<\u2028\u2029]/g;function de(b){return JSON.stringify(b).replace(it,function(A){switch(A){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function $e(b,A){return A=A===void 0?"":A,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:A+"P:",segmentPrefix:A+"S:",boundaryPrefix:A+"B:",idPrefix:A,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:b}}function Ce(b,A,I,D){return I.generateStaticMarkup?(b.push($(A)),!1):(A===""?b=D:(D&&b.push("<!-- -->"),b.push($(A)),b=!0),b)}var W=Object.assign,he=Symbol.for("react.element"),Fe=Symbol.for("react.portal"),ct=Symbol.for("react.fragment"),ht=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),Je=Symbol.for("react.provider"),st=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),Jt=Symbol.for("react.suspense"),mn=Symbol.for("react.suspense_list"),Vo=Symbol.for("react.memo"),Er=Symbol.for("react.lazy"),Tn=Symbol.for("react.scope"),ja=Symbol.for("react.debug_trace_mode"),Ws=Symbol.for("react.legacy_hidden"),za=Symbol.for("react.default_value"),qs=Symbol.iterator;function Fi(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case ct:return"Fragment";case Fe:return"Portal";case gt:return"Profiler";case ht:return"StrictMode";case Jt:return"Suspense";case mn:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case st:return(b.displayName||"Context")+".Consumer";case Je:return(b._context.displayName||"Context")+".Provider";case lt:var A=b.render;return b=b.displayName,b||(b=A.displayName||A.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case Vo:return A=b.displayName||null,A!==null?A:Fi(b.type)||"Memo";case Er:A=b._payload,b=b._init;try{return Fi(b(A))}catch{}}return null}var ui={};function ci(b,A){if(b=b.contextTypes,!b)return ui;var I={},D;for(D in b)I[D]=A[D];return I}var yn=null;function rr(b,A){if(b!==A){b.context._currentValue2=b.parentValue,b=b.parent;var I=A.parent;if(b===null){if(I!==null)throw Error(t(401))}else{if(I===null)throw Error(t(401));rr(b,I)}A.context._currentValue2=A.value}}function Ga(b){b.context._currentValue2=b.parentValue,b=b.parent,b!==null&&Ga(b)}function Va(b){var A=b.parent;A!==null&&Va(A),b.context._currentValue2=b.value}function Ba(b,A){if(b.context._currentValue2=b.parentValue,b=b.parent,b===null)throw Error(t(402));b.depth===A.depth?rr(b,A):Ba(b,A)}function Bo(b,A){var I=A.parent;if(I===null)throw Error(t(402));b.depth===I.depth?rr(b,I):Bo(b,I),A.context._currentValue2=A.value}function Ui(b){var A=yn;A!==b&&(A===null?Va(b):b===null?Ga(A):A.depth===b.depth?rr(A,b):A.depth>b.depth?Ba(A,b):Bo(A,b),yn=b)}var Ha={isMounted:function(){return!1},enqueueSetState:function(b,A){b=b._reactInternals,b.queue!==null&&b.queue.push(A)},enqueueReplaceState:function(b,A){b=b._reactInternals,b.replace=!0,b.queue=[A]},enqueueForceUpdate:function(){}};function ds(b,A,I,D){var ee=b.state!==void 0?b.state:null;b.updater=Ha,b.props=I,b.state=ee;var J={queue:[],replace:!1};b._reactInternals=J;var ue=A.contextType;if(b.context=typeof ue=="object"&&ue!==null?ue._currentValue2:D,ue=A.getDerivedStateFromProps,typeof ue=="function"&&(ue=ue(I,ee),ee=ue==null?ee:W({},ee,ue),b.state=ee),typeof A.getDerivedStateFromProps!="function"&&typeof b.getSnapshotBeforeUpdate!="function"&&(typeof b.UNSAFE_componentWillMount=="function"||typeof b.componentWillMount=="function"))if(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&Ha.enqueueReplaceState(b,b.state,null),J.queue!==null&&0<J.queue.length)if(A=J.queue,ue=J.replace,J.queue=null,J.replace=!1,ue&&A.length===1)b.state=A[0];else{for(J=ue?A[0]:b.state,ee=!0,ue=ue?1:0;ue<A.length;ue++){var xe=A[ue];xe=typeof xe=="function"?xe.call(b,J,I,D):xe,xe!=null&&(ee?(ee=!1,J=W({},J,xe)):W(J,xe))}b.state=J}else J.queue=null}var Zs={id:1,overflow:""};function Wa(b,A,I){var D=b.id;b=b.overflow;var ee=32-Ys(D)-1;D&=~(1<<ee),I+=1;var J=32-Ys(A)+ee;if(30<J){var ue=ee-ee%5;return J=(D&(1<<ue)-1).toString(32),D>>=ue,ee-=ue,{id:1<<32-Ys(A)+ee|I<<ee|D,overflow:J+b}}return{id:1<<J|I<<ee|D,overflow:b}}var Ys=Math.clz32?Math.clz32:qa,Zl=Math.log,Oc=Math.LN2;function qa(b){return b>>>=0,b===0?32:31-(Zl(b)/Oc|0)|0}function Za(b,A){return b===A&&(b!==0||1/b===1/A)||b!==b&&A!==A}var Ya=typeof Object.is=="function"?Object.is:Za,rn=null,Js=null,qn=null,Pt=null,hs=!1,Ks=!1,ps=0,Zn=null,Xs=0;function Yn(){if(rn===null)throw Error(t(321));return rn}function ne(){if(0<Xs)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function It(){return Pt===null?qn===null?(hs=!1,qn=Pt=ne()):(hs=!0,Pt=qn):Pt.next===null?(hs=!1,Pt=Pt.next=ne()):(hs=!0,Pt=Pt.next),Pt}function $n(){Js=rn=null,Ks=!1,qn=null,Xs=0,Pt=Zn=null}function Ir(b,A){return typeof A=="function"?A(b):A}function Qs(b,A,I){if(rn=Yn(),Pt=It(),hs){var D=Pt.queue;if(A=D.dispatch,Zn!==null&&(I=Zn.get(D),I!==void 0)){Zn.delete(D),D=Pt.memoizedState;do D=b(D,I.action),I=I.next;while(I!==null);return Pt.memoizedState=D,[D,A]}return[Pt.memoizedState,A]}return b=b===Ir?typeof A=="function"?A():A:I!==void 0?I(A):A,Pt.memoizedState=b,b=Pt.queue={last:null,dispatch:null},b=b.dispatch=ji.bind(null,rn,b),[Pt.memoizedState,b]}function Ie(b,A){if(rn=Yn(),Pt=It(),A=A===void 0?null:A,Pt!==null){var I=Pt.memoizedState;if(I!==null&&A!==null){var D=I[1];e:if(D===null)D=!1;else{for(var ee=0;ee<D.length&&ee<A.length;ee++)if(!Ya(A[ee],D[ee])){D=!1;break e}D=!0}if(D)return I[0]}}return b=b(),Pt.memoizedState=[b,A],b}function ji(b,A,I){if(25<=Xs)throw Error(t(301));if(b===rn)if(Ks=!0,b={action:I,next:null},Zn===null&&(Zn=new Map),I=Zn.get(A),I===void 0)Zn.set(A,b);else{for(A=I;A.next!==null;)A=A.next;A.next=b}}function nr(){throw Error(t(394))}function xn(){}var Yl={readContext:function(b){return b._currentValue2},useContext:function(b){return Yn(),b._currentValue2},useMemo:Ie,useReducer:Qs,useRef:function(b){rn=Yn(),Pt=It();var A=Pt.memoizedState;return A===null?(b={current:b},Pt.memoizedState=b):A},useState:function(b){return Qs(Ir,b)},useInsertionEffect:xn,useLayoutEffect:function(){},useCallback:function(b,A){return Ie(function(){return b},A)},useImperativeHandle:xn,useEffect:xn,useDebugValue:xn,useDeferredValue:function(b){return Yn(),b},useTransition:function(){return Yn(),[!1,nr]},useId:function(){var b=Js.treeContext,A=b.overflow;b=b.id,b=(b&~(1<<32-Ys(b)-1)).toString(32)+A;var I=nn;if(I===null)throw Error(t(404));return A=ps++,b=":"+I.idPrefix+"R"+b,0<A&&(b+="H"+A.toString(32)),b+":"},useMutableSource:function(b,A){return Yn(),A(b._source)},useSyncExternalStore:function(b,A,I){if(I===void 0)throw Error(t(407));return I()}},nn=null,Ho=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function di(b){return console.error(b),null}function Qe(){}function Jl(b,A,I,D,ee,J,ue,xe,Re){var ut=[],St=new Set;return A={destination:null,responseState:A,progressiveChunkSize:D===void 0?12800:D,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:St,pingedTasks:ut,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:ee===void 0?di:ee,onAllReady:Qe,onShellReady:ue===void 0?Qe:ue,onShellError:Qe,onFatalError:Qe},I=eo(A,0,null,I,!1,!1),I.parentFlushed=!0,b=Wo(A,b,null,I,St,ui,null,Zs),ut.push(b),A}function Wo(b,A,I,D,ee,J,ue,xe){b.allPendingTasks++,I===null?b.pendingRootTasks++:I.pendingTasks++;var Re={node:A,ping:function(){var ut=b.pingedTasks;ut.push(Re),ut.length===1&&gn(b)},blockedBoundary:I,blockedSegment:D,abortSet:ee,legacyContext:J,context:ue,treeContext:xe};return ee.add(Re),Re}function eo(b,A,I,D,ee,J){return{status:0,id:-1,index:A,parentFlushed:!1,chunks:[],children:[],formatContext:D,boundary:I,lastPushedText:ee,textEmbedded:J}}function fs(b,A){if(b=b.onError(A),b!=null&&typeof b!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof b+'" instead');return b}function zi(b,A){var I=b.onShellError;I(A),I=b.onFatalError,I(A),b.destination!==null?(b.status=2,b.destination.destroy(A)):(b.status=1,b.fatalError=A)}function Ja(b,A,I,D,ee){for(rn={},Js=A,ps=0,b=I(D,ee);Ks;)Ks=!1,ps=0,Xs+=1,Pt=null,b=I(D,ee);return $n(),b}function qo(b,A,I,D){var ee=I.render(),J=D.childContextTypes;if(J!=null){var ue=A.legacyContext;if(typeof I.getChildContext!="function")D=ue;else{I=I.getChildContext();for(var xe in I)if(!(xe in J))throw Error(t(108,Fi(D)||"Unknown",xe));D=W({},ue,I)}A.legacyContext=D,Vr(b,A,ee),A.legacyContext=ue}else Vr(b,A,ee)}function dr(b,A){if(b&&b.defaultProps){A=W({},A),b=b.defaultProps;for(var I in b)A[I]===void 0&&(A[I]=b[I]);return A}return A}function Yt(b,A,I,D,ee){if(typeof I=="function")if(I.prototype&&I.prototype.isReactComponent){ee=ci(I,A.legacyContext);var J=I.contextType;J=new I(D,typeof J=="object"&&J!==null?J._currentValue2:ee),ds(J,I,D,ee),qo(b,A,J,I)}else{J=ci(I,A.legacyContext),ee=Ja(b,A,I,D,J);var ue=ps!==0;if(typeof ee=="object"&&ee!==null&&typeof ee.render=="function"&&ee.$$typeof===void 0)ds(ee,I,D,J),qo(b,A,ee,I);else if(ue){D=A.treeContext,A.treeContext=Wa(D,1,0);try{Vr(b,A,ee)}finally{A.treeContext=D}}else Vr(b,A,ee)}else if(typeof I=="string"){switch(ee=A.blockedSegment,J=De(ee.chunks,I,D,b.responseState,ee.formatContext),ee.lastPushedText=!1,ue=ee.formatContext,ee.formatContext=V(ue,I,D),Yo(b,A,J),ee.formatContext=ue,I){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:ee.chunks.push("</",I,">")}ee.lastPushedText=!1}else{switch(I){case Ws:case ja:case ht:case gt:case ct:Vr(b,A,D.children);return;case mn:Vr(b,A,D.children);return;case Tn:throw Error(t(343));case Jt:e:{I=A.blockedBoundary,ee=A.blockedSegment,J=D.fallback,D=D.children,ue=new Set;var xe={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:ue,errorDigest:null},Re=eo(b,ee.chunks.length,xe,ee.formatContext,!1,!1);ee.children.push(Re),ee.lastPushedText=!1;var ut=eo(b,0,null,ee.formatContext,!1,!1);ut.parentFlushed=!0,A.blockedBoundary=xe,A.blockedSegment=ut;try{if(Yo(b,A,D),b.responseState.generateStaticMarkup||ut.lastPushedText&&ut.textEmbedded&&ut.chunks.push("<!-- -->"),ut.status=1,Gi(xe,ut),xe.pendingTasks===0)break e}catch(St){ut.status=4,xe.forceClientRender=!0,xe.errorDigest=fs(b,St)}finally{A.blockedBoundary=I,A.blockedSegment=ee}A=Wo(b,J,I,Re,ue,A.legacyContext,A.context,A.treeContext),b.pingedTasks.push(A)}return}if(typeof I=="object"&&I!==null)switch(I.$$typeof){case lt:if(D=Ja(b,A,I.render,D,ee),ps!==0){I=A.treeContext,A.treeContext=Wa(I,1,0);try{Vr(b,A,D)}finally{A.treeContext=I}}else Vr(b,A,D);return;case Vo:I=I.type,D=dr(I,D),Yt(b,A,I,D,ee);return;case Je:if(ee=D.children,I=I._context,D=D.value,J=I._currentValue2,I._currentValue2=D,ue=yn,yn=D={parent:ue,depth:ue===null?0:ue.depth+1,context:I,parentValue:J,value:D},A.context=D,Vr(b,A,ee),b=yn,b===null)throw Error(t(403));D=b.parentValue,b.context._currentValue2=D===za?b.context._defaultValue:D,b=yn=b.parent,A.context=b;return;case st:D=D.children,D=D(I._currentValue2),Vr(b,A,D);return;case Er:ee=I._init,I=ee(I._payload),D=dr(I,D),Yt(b,A,I,D,void 0);return}throw Error(t(130,I==null?I:typeof I,""))}}function Vr(b,A,I){if(A.node=I,typeof I=="object"&&I!==null){switch(I.$$typeof){case he:Yt(b,A,I.type,I.props,I.ref);return;case Fe:throw Error(t(257));case Er:var D=I._init;I=D(I._payload),Vr(b,A,I);return}if(P(I)){Zo(b,A,I);return}if(I===null||typeof I!="object"?D=null:(D=qs&&I[qs]||I["@@iterator"],D=typeof D=="function"?D:null),D&&(D=D.call(I))){if(I=D.next(),!I.done){var ee=[];do ee.push(I.value),I=D.next();while(!I.done);Zo(b,A,ee)}return}throw b=Object.prototype.toString.call(I),Error(t(31,b==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":b))}typeof I=="string"?(D=A.blockedSegment,D.lastPushedText=Ce(A.blockedSegment.chunks,I,b.responseState,D.lastPushedText)):typeof I=="number"&&(D=A.blockedSegment,D.lastPushedText=Ce(A.blockedSegment.chunks,""+I,b.responseState,D.lastPushedText))}function Zo(b,A,I){for(var D=I.length,ee=0;ee<D;ee++){var J=A.treeContext;A.treeContext=Wa(J,D,ee);try{Yo(b,A,I[ee])}finally{A.treeContext=J}}}function Yo(b,A,I){var D=A.blockedSegment.formatContext,ee=A.legacyContext,J=A.context;try{return Vr(b,A,I)}catch(Re){if($n(),typeof Re=="object"&&Re!==null&&typeof Re.then=="function"){I=Re;var ue=A.blockedSegment,xe=eo(b,ue.chunks.length,null,ue.formatContext,ue.lastPushedText,!0);ue.children.push(xe),ue.lastPushedText=!1,b=Wo(b,A.node,A.blockedBoundary,xe,A.abortSet,A.legacyContext,A.context,A.treeContext).ping,I.then(b,b),A.blockedSegment.formatContext=D,A.legacyContext=ee,A.context=J,Ui(J)}else throw A.blockedSegment.formatContext=D,A.legacyContext=ee,A.context=J,Ui(J),Re}}function ms(b){var A=b.blockedBoundary;b=b.blockedSegment,b.status=3,ar(this,A,b)}function Kl(b,A,I){var D=b.blockedBoundary;b.blockedSegment.status=3,D===null?(A.allPendingTasks--,A.status!==2&&(A.status=2,A.destination!==null&&A.destination.push(null))):(D.pendingTasks--,D.forceClientRender||(D.forceClientRender=!0,b=I===void 0?Error(t(432)):I,D.errorDigest=A.onError(b),D.parentFlushed&&A.clientRenderedBoundaries.push(D)),D.fallbackAbortableTasks.forEach(function(ee){return Kl(ee,A,I)}),D.fallbackAbortableTasks.clear(),A.allPendingTasks--,A.allPendingTasks===0&&(D=A.onAllReady,D()))}function Gi(b,A){if(A.chunks.length===0&&A.children.length===1&&A.children[0].boundary===null){var I=A.children[0];I.id=A.id,I.parentFlushed=!0,I.status===1&&Gi(b,I)}else b.completedSegments.push(A)}function ar(b,A,I){if(A===null){if(I.parentFlushed){if(b.completedRootSegment!==null)throw Error(t(389));b.completedRootSegment=I}b.pendingRootTasks--,b.pendingRootTasks===0&&(b.onShellError=Qe,A=b.onShellReady,A())}else A.pendingTasks--,A.forceClientRender||(A.pendingTasks===0?(I.parentFlushed&&I.status===1&&Gi(A,I),A.parentFlushed&&b.completedBoundaries.push(A),A.fallbackAbortableTasks.forEach(ms,b),A.fallbackAbortableTasks.clear()):I.parentFlushed&&I.status===1&&(Gi(A,I),A.completedSegments.length===1&&A.parentFlushed&&b.partialBoundaries.push(A)));b.allPendingTasks--,b.allPendingTasks===0&&(b=b.onAllReady,b())}function gn(b){if(b.status!==2){var A=yn,I=Ho.current;Ho.current=Yl;var D=nn;nn=b.responseState;try{var ee=b.pingedTasks,J;for(J=0;J<ee.length;J++){var ue=ee[J],xe=b,Re=ue.blockedSegment;if(Re.status===0){Ui(ue.context);try{Vr(xe,ue,ue.node),xe.responseState.generateStaticMarkup||Re.lastPushedText&&Re.textEmbedded&&Re.chunks.push("<!-- -->"),ue.abortSet.delete(ue),Re.status=1,ar(xe,ue.blockedBoundary,Re)}catch(Mn){if($n(),typeof Mn=="object"&&Mn!==null&&typeof Mn.then=="function"){var ut=ue.ping;Mn.then(ut,ut)}else{ue.abortSet.delete(ue),Re.status=4;var St=ue.blockedBoundary,Kt=Mn,hi=fs(xe,Kt);if(St===null?zi(xe,Kt):(St.pendingTasks--,St.forceClientRender||(St.forceClientRender=!0,St.errorDigest=hi,St.parentFlushed&&xe.clientRenderedBoundaries.push(St))),xe.allPendingTasks--,xe.allPendingTasks===0){var pi=xe.onAllReady;pi()}}}finally{}}}ee.splice(0,J),b.destination!==null&&Ct(b,b.destination)}catch(Mn){fs(b,Mn),zi(b,Mn)}finally{nn=D,Ho.current=I,I===Yl&&Ui(A)}}}function to(b,A,I){switch(I.parentFlushed=!0,I.status){case 0:var D=I.id=b.nextSegmentId++;return I.lastPushedText=!1,I.textEmbedded=!1,b=b.responseState,A.push('<template id="'),A.push(b.placeholderPrefix),b=D.toString(16),A.push(b),A.push('"></template>');case 1:I.status=2;var ee=!0;D=I.chunks;var J=0;I=I.children;for(var ue=0;ue<I.length;ue++){for(ee=I[ue];J<ee.index;J++)A.push(D[J]);ee=L(b,A,ee)}for(;J<D.length-1;J++)A.push(D[J]);return J<D.length&&(ee=A.push(D[J])),ee;default:throw Error(t(390))}}function L(b,A,I){var D=I.boundary;if(D===null)return to(b,A,I);if(D.parentFlushed=!0,D.forceClientRender)return b.responseState.generateStaticMarkup||(D=D.errorDigest,A.push("<!--$!-->"),A.push("<template"),D&&(A.push(' data-dgst="'),D=$(D),A.push(D),A.push('"')),A.push("></template>")),to(b,A,I),b=b.responseState.generateStaticMarkup?!0:A.push("<!--/$-->"),b;if(0<D.pendingTasks){D.rootSegmentID=b.nextSegmentId++,0<D.completedSegments.length&&b.partialBoundaries.push(D);var ee=b.responseState,J=ee.nextSuspenseID++;return ee=ee.boundaryPrefix+J.toString(16),D=D.id=ee,Ae(A,b.responseState,D),to(b,A,I),A.push("<!--/$-->")}if(D.byteSize>b.progressiveChunkSize)return D.rootSegmentID=b.nextSegmentId++,b.completedBoundaries.push(D),Ae(A,b.responseState,D.id),to(b,A,I),A.push("<!--/$-->");if(b.responseState.generateStaticMarkup||A.push("<!--$-->"),I=D.completedSegments,I.length!==1)throw Error(t(391));return L(b,A,I[0]),b=b.responseState.generateStaticMarkup?!0:A.push("<!--/$-->"),b}function le(b,A,I){return $t(A,b.responseState,I.formatContext,I.id),L(b,A,I),kt(A,I.formatContext)}function we(b,A,I){for(var D=I.completedSegments,ee=0;ee<D.length;ee++)Ke(b,A,I,D[ee]);if(D.length=0,b=b.responseState,D=I.id,I=I.rootSegmentID,A.push(b.startInlineScript),b.sentCompleteBoundaryFunction?A.push('$RC("'):(b.sentCompleteBoundaryFunction=!0,A.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),D===null)throw Error(t(395));return I=I.toString(16),A.push(D),A.push('","'),A.push(b.segmentPrefix),A.push(I),A.push('")<\/script>')}function Ke(b,A,I,D){if(D.status===2)return!0;var ee=D.id;if(ee===-1){if((D.id=I.rootSegmentID)===-1)throw Error(t(392));return le(b,A,D)}return le(b,A,D),b=b.responseState,A.push(b.startInlineScript),b.sentCompleteSegmentFunction?A.push('$RS("'):(b.sentCompleteSegmentFunction=!0,A.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),A.push(b.segmentPrefix),ee=ee.toString(16),A.push(ee),A.push('","'),A.push(b.placeholderPrefix),A.push(ee),A.push('")<\/script>')}function Ct(b,A){try{var I=b.completedRootSegment;if(I!==null&&b.pendingRootTasks===0){L(b,A,I),b.completedRootSegment=null;var D=b.responseState.bootstrapChunks;for(I=0;I<D.length-1;I++)A.push(D[I]);I<D.length&&A.push(D[I])}var ee=b.clientRenderedBoundaries,J;for(J=0;J<ee.length;J++){var ue=ee[J];D=A;var xe=b.responseState,Re=ue.id,ut=ue.errorDigest,St=ue.errorMessage,Kt=ue.errorComponentStack;if(D.push(xe.startInlineScript),xe.sentClientRenderFunction?D.push('$RX("'):(xe.sentClientRenderFunction=!0,D.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),Re===null)throw Error(t(395));if(D.push(Re),D.push('"'),ut||St||Kt){D.push(",");var hi=de(ut||"");D.push(hi)}if(St||Kt){D.push(",");var pi=de(St||"");D.push(pi)}if(Kt){D.push(",");var Mn=de(Kt);D.push(Mn)}if(!D.push(")<\/script>")){b.destination=null,J++,ee.splice(0,J);return}}ee.splice(0,J);var ro=b.completedBoundaries;for(J=0;J<ro.length;J++)if(!we(b,A,ro[J])){b.destination=null,J++,ro.splice(0,J);return}ro.splice(0,J);var fi=b.partialBoundaries;for(J=0;J<fi.length;J++){var mi=fi[J];e:{ee=b,ue=A;var kn=mi.completedSegments;for(xe=0;xe<kn.length;xe++)if(!Ke(ee,ue,mi,kn[xe])){xe++,kn.splice(0,xe);var Vi=!1;break e}kn.splice(0,xe),Vi=!0}if(!Vi){b.destination=null,J++,fi.splice(0,J);return}}fi.splice(0,J);var yi=b.completedBoundaries;for(J=0;J<yi.length;J++)if(!we(b,A,yi[J])){b.destination=null,J++,yi.splice(0,J);return}yi.splice(0,J)}finally{b.allPendingTasks===0&&b.pingedTasks.length===0&&b.clientRenderedBoundaries.length===0&&b.completedBoundaries.length===0&&A.push(null)}}function Ft(b,A){try{var I=b.abortableTasks;I.forEach(function(D){return Kl(D,b,A)}),I.clear(),b.destination!==null&&Ct(b,b.destination)}catch(D){fs(b,D),zi(b,D)}}function Wt(){}function hr(b,A,I,D){var ee=!1,J=null,ue="",xe={push:function(ut){return ut!==null&&(ue+=ut),!0},destroy:function(ut){ee=!0,J=ut}},Re=!1;if(b=Jl(b,$e(I,A?A.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,Wt,void 0,function(){Re=!0}),gn(b),Ft(b,D),b.status===1)b.status=2,xe.destroy(b.fatalError);else if(b.status!==2&&b.destination===null){b.destination=xe;try{Ct(b,xe)}catch(ut){fs(b,ut),zi(b,ut)}}if(ee)throw J;if(!Re)throw Error(t(426));return ue}return ld.renderToNodeStream=function(){throw Error(t(207))},ld.renderToStaticMarkup=function(b,A){return hr(b,A,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},ld.renderToStaticNodeStream=function(){throw Error(t(208))},ld.renderToString=function(b,A){return hr(b,A,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},ld.version="18.3.1",ld}var ov={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xL;function lpe(){if(xL)return ov;xL=1;var e=L0();function t(E){for(var k="https://reactjs.org/docs/error-decoder.html?invariant="+E,O=1;O<arguments.length;O++)k+="&args[]="+encodeURIComponent(arguments[O]);return"Minified React error #"+E+"; visit "+k+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=null,n=0;function i(E,k){if(k.length!==0)if(512<k.length)0<n&&(E.enqueue(new Uint8Array(r.buffer,0,n)),r=new Uint8Array(512),n=0),E.enqueue(k);else{var O=r.length-n;O<k.length&&(O===0?E.enqueue(r):(r.set(k.subarray(0,O),n),E.enqueue(r),k=k.subarray(O)),r=new Uint8Array(512),n=0),r.set(k,n),n+=k.length}}function s(E,k){return i(E,k),!0}function o(E){r&&0<n&&(E.enqueue(new Uint8Array(r.buffer,0,n)),r=null,n=0)}var l=new TextEncoder;function c(E){return l.encode(E)}function d(E){return l.encode(E)}function m(E,k){typeof E.error=="function"?E.error(k):E.close()}var g=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},$={};function x(E){return g.call($,E)?!0:g.call(S,E)?!1:w.test(E)?$[E]=!0:(S[E]=!0,!1)}function M(E,k,O,N,re,X,ce){this.acceptsBooleans=k===2||k===3||k===4,this.attributeName=N,this.attributeNamespace=re,this.mustUseProperty=O,this.propertyName=E,this.type=k,this.sanitizeURL=X,this.removeEmptyString=ce}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(E){P[E]=new M(E,0,!1,E,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(E){var k=E[0];P[k]=new M(k,1,!1,E[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(E){P[E]=new M(E,2,!1,E.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(E){P[E]=new M(E,2,!1,E,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(E){P[E]=new M(E,3,!1,E.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(E){P[E]=new M(E,3,!0,E,null,!1,!1)}),["capture","download"].forEach(function(E){P[E]=new M(E,4,!1,E,null,!1,!1)}),["cols","rows","size","span"].forEach(function(E){P[E]=new M(E,6,!1,E,null,!1,!1)}),["rowSpan","start"].forEach(function(E){P[E]=new M(E,5,!1,E.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function V(E){return E[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(E){var k=E.replace(F,V);P[k]=new M(k,1,!1,E,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(E){var k=E.replace(F,V);P[k]=new M(k,1,!1,E,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(E){var k=E.replace(F,V);P[k]=new M(k,1,!1,E,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(E){P[E]=new M(E,1,!1,E.toLowerCase(),null,!1,!1)}),P.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(E){P[E]=new M(E,1,!1,E.toLowerCase(),null,!0,!0)});var U={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z=["Webkit","ms","Moz","O"];Object.keys(U).forEach(function(E){z.forEach(function(k){k=k+E.charAt(0).toUpperCase()+E.substring(1),U[k]=U[E]})});var Z=/["'&<>]/;function Q(E){if(typeof E=="boolean"||typeof E=="number")return""+E;E=""+E;var k=Z.exec(E);if(k){var O="",N,re=0;for(N=k.index;N<E.length;N++){switch(E.charCodeAt(N)){case 34:k="&quot;";break;case 38:k="&amp;";break;case 39:k="&#x27;";break;case 60:k="&lt;";break;case 62:k="&gt;";break;default:continue}re!==N&&(O+=E.substring(re,N)),re=N+1,O+=k}E=re!==N?O+E.substring(re,N):O}return E}var pe=/([A-Z])/g,ye=/^ms-/,ge=Array.isArray,Pe=d("<script>"),Me=d("<\/script>"),De=d('<script src="'),Ae=d('<script type="module" src="'),$t=d('" async=""><\/script>'),kt=/(<\/|<)(s)(cript)/gi;function it(E,k,O,N){return""+k+(O==="s"?"\\u0073":"\\u0053")+N}function de(E,k,O,N,re){E=E===void 0?"":E,k=k===void 0?Pe:d('<script nonce="'+Q(k)+'">');var X=[];if(O!==void 0&&X.push(k,c((""+O).replace(kt,it)),Me),N!==void 0)for(O=0;O<N.length;O++)X.push(De,c(Q(N[O])),$t);if(re!==void 0)for(N=0;N<re.length;N++)X.push(Ae,c(Q(re[N])),$t);return{bootstrapChunks:X,startInlineScript:k,placeholderPrefix:d(E+"P:"),segmentPrefix:d(E+"S:"),boundaryPrefix:E+"B:",idPrefix:E,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function $e(E,k){return{insertionMode:E,selectedValue:k}}function Ce(E){return $e(E==="http://www.w3.org/2000/svg"?2:E==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function W(E,k,O){switch(k){case"select":return $e(1,O.value!=null?O.value:O.defaultValue);case"svg":return $e(2,null);case"math":return $e(3,null);case"foreignObject":return $e(1,null);case"table":return $e(4,null);case"thead":case"tbody":case"tfoot":return $e(5,null);case"colgroup":return $e(7,null);case"tr":return $e(6,null)}return 4<=E.insertionMode||E.insertionMode===0?$e(1,null):E}var he=d("<!-- -->");function Fe(E,k,O,N){return k===""?N:(N&&E.push(he),E.push(c(Q(k))),!0)}var ct=new Map,ht=d(' style="'),gt=d(":"),Je=d(";");function st(E,k,O){if(typeof O!="object")throw Error(t(62));k=!0;for(var N in O)if(g.call(O,N)){var re=O[N];if(re!=null&&typeof re!="boolean"&&re!==""){if(N.indexOf("--")===0){var X=c(Q(N));re=c(Q((""+re).trim()))}else{X=N;var ce=ct.get(X);ce!==void 0||(ce=d(Q(X.replace(pe,"-$1").toLowerCase().replace(ye,"-ms-"))),ct.set(X,ce)),X=ce,re=typeof re=="number"?re===0||g.call(U,N)?c(""+re):c(re+"px"):c(Q((""+re).trim()))}k?(k=!1,E.push(ht,X,gt,re)):E.push(Je,X,gt,re)}}k||E.push(mn)}var lt=d(" "),Jt=d('="'),mn=d('"'),Vo=d('=""');function Er(E,k,O,N){switch(O){case"style":st(E,k,N);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<O.length)||O[0]!=="o"&&O[0]!=="O"||O[1]!=="n"&&O[1]!=="N"){if(k=P.hasOwnProperty(O)?P[O]:null,k!==null){switch(typeof N){case"function":case"symbol":return;case"boolean":if(!k.acceptsBooleans)return}switch(O=c(k.attributeName),k.type){case 3:N&&E.push(lt,O,Vo);break;case 4:N===!0?E.push(lt,O,Vo):N!==!1&&E.push(lt,O,Jt,c(Q(N)),mn);break;case 5:isNaN(N)||E.push(lt,O,Jt,c(Q(N)),mn);break;case 6:!isNaN(N)&&1<=N&&E.push(lt,O,Jt,c(Q(N)),mn);break;default:k.sanitizeURL&&(N=""+N),E.push(lt,O,Jt,c(Q(N)),mn)}}else if(x(O)){switch(typeof N){case"function":case"symbol":return;case"boolean":if(k=O.toLowerCase().slice(0,5),k!=="data-"&&k!=="aria-")return}E.push(lt,c(O),Jt,c(Q(N)),mn)}}}var Tn=d(">"),ja=d("/>");function Ws(E,k,O){if(k!=null){if(O!=null)throw Error(t(60));if(typeof k!="object"||!("__html"in k))throw Error(t(61));k=k.__html,k!=null&&E.push(c(""+k))}}function za(E){var k="";return e.Children.forEach(E,function(O){O!=null&&(k+=O)}),k}var qs=d(' selected=""');function Fi(E,k,O,N){E.push(rr(O));var re=O=null,X;for(X in k)if(g.call(k,X)){var ce=k[X];if(ce!=null)switch(X){case"children":O=ce;break;case"dangerouslySetInnerHTML":re=ce;break;default:Er(E,N,X,ce)}}return E.push(Tn),Ws(E,re,O),typeof O=="string"?(E.push(c(Q(O))),null):O}var ui=d(`
`),ci=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,yn=new Map;function rr(E){var k=yn.get(E);if(k===void 0){if(!ci.test(E))throw Error(t(65,E));k=d("<"+E),yn.set(E,k)}return k}var Ga=d("<!DOCTYPE html>");function Va(E,k,O,N,re){switch(k){case"select":E.push(rr("select"));var X=null,ce=null;for(pt in O)if(g.call(O,pt)){var Ee=O[pt];if(Ee!=null)switch(pt){case"children":X=Ee;break;case"dangerouslySetInnerHTML":ce=Ee;break;case"defaultValue":case"value":break;default:Er(E,N,pt,Ee)}}return E.push(Tn),Ws(E,ce,X),X;case"option":ce=re.selectedValue,E.push(rr("option"));var ot=Ee=null,Tt=null,pt=null;for(X in O)if(g.call(O,X)){var ir=O[X];if(ir!=null)switch(X){case"children":Ee=ir;break;case"selected":Tt=ir;break;case"dangerouslySetInnerHTML":pt=ir;break;case"value":ot=ir;default:Er(E,N,X,ir)}}if(ce!=null)if(O=ot!==null?""+ot:za(Ee),ge(ce)){for(N=0;N<ce.length;N++)if(""+ce[N]===O){E.push(qs);break}}else""+ce===O&&E.push(qs);else Tt&&E.push(qs);return E.push(Tn),Ws(E,pt,Ee),Ee;case"textarea":E.push(rr("textarea")),pt=ce=X=null;for(Ee in O)if(g.call(O,Ee)&&(ot=O[Ee],ot!=null))switch(Ee){case"children":pt=ot;break;case"value":X=ot;break;case"defaultValue":ce=ot;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:Er(E,N,Ee,ot)}if(X===null&&ce!==null&&(X=ce),E.push(Tn),pt!=null){if(X!=null)throw Error(t(92));if(ge(pt)&&1<pt.length)throw Error(t(93));X=""+pt}return typeof X=="string"&&X[0]===`
`&&E.push(ui),X!==null&&E.push(c(Q(""+X))),null;case"input":E.push(rr("input")),ot=pt=Ee=X=null;for(ce in O)if(g.call(O,ce)&&(Tt=O[ce],Tt!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"defaultChecked":ot=Tt;break;case"defaultValue":Ee=Tt;break;case"checked":pt=Tt;break;case"value":X=Tt;break;default:Er(E,N,ce,Tt)}return pt!==null?Er(E,N,"checked",pt):ot!==null&&Er(E,N,"checked",ot),X!==null?Er(E,N,"value",X):Ee!==null&&Er(E,N,"value",Ee),E.push(ja),null;case"menuitem":E.push(rr("menuitem"));for(var An in O)if(g.call(O,An)&&(X=O[An],X!=null))switch(An){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:Er(E,N,An,X)}return E.push(Tn),null;case"title":E.push(rr("title")),X=null;for(ir in O)if(g.call(O,ir)&&(ce=O[ir],ce!=null))switch(ir){case"children":X=ce;break;case"dangerouslySetInnerHTML":throw Error(t(434));default:Er(E,N,ir,ce)}return E.push(Tn),X;case"listing":case"pre":E.push(rr(k)),ce=X=null;for(ot in O)if(g.call(O,ot)&&(Ee=O[ot],Ee!=null))switch(ot){case"children":X=Ee;break;case"dangerouslySetInnerHTML":ce=Ee;break;default:Er(E,N,ot,Ee)}if(E.push(Tn),ce!=null){if(X!=null)throw Error(t(60));if(typeof ce!="object"||!("__html"in ce))throw Error(t(61));O=ce.__html,O!=null&&(typeof O=="string"&&0<O.length&&O[0]===`
`?E.push(ui,c(O)):E.push(c(""+O)))}return typeof X=="string"&&X[0]===`
`&&E.push(ui),X;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":E.push(rr(k));for(var gi in O)if(g.call(O,gi)&&(X=O[gi],X!=null))switch(gi){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,k));default:Er(E,N,gi,X)}return E.push(ja),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Fi(E,O,k,N);case"html":return re.insertionMode===0&&E.push(Ga),Fi(E,O,k,N);default:if(k.indexOf("-")===-1&&typeof O.is!="string")return Fi(E,O,k,N);E.push(rr(k)),ce=X=null;for(Tt in O)if(g.call(O,Tt)&&(Ee=O[Tt],Ee!=null))switch(Tt){case"children":X=Ee;break;case"dangerouslySetInnerHTML":ce=Ee;break;case"style":st(E,N,Ee);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:x(Tt)&&typeof Ee!="function"&&typeof Ee!="symbol"&&E.push(lt,c(Tt),Jt,c(Q(Ee)),mn)}return E.push(Tn),Ws(E,ce,X),X}}var Ba=d("</"),Bo=d(">"),Ui=d('<template id="'),Ha=d('"></template>'),ds=d("<!--$-->"),Zs=d('<!--$?--><template id="'),Wa=d('"></template>'),Ys=d("<!--$!-->"),Zl=d("<!--/$-->"),Oc=d("<template"),qa=d('"'),Za=d(' data-dgst="');d(' data-msg="'),d(' data-stck="');var Ya=d("></template>");function rn(E,k,O){if(i(E,Zs),O===null)throw Error(t(395));return i(E,O),s(E,Wa)}var Js=d('<div hidden id="'),qn=d('">'),Pt=d("</div>"),hs=d('<svg aria-hidden="true" style="display:none" id="'),Ks=d('">'),ps=d("</svg>"),Zn=d('<math aria-hidden="true" style="display:none" id="'),Xs=d('">'),Yn=d("</math>"),ne=d('<table hidden id="'),It=d('">'),$n=d("</table>"),Ir=d('<table hidden><tbody id="'),Qs=d('">'),Ie=d("</tbody></table>"),ji=d('<table hidden><tr id="'),nr=d('">'),xn=d("</tr></table>"),Yl=d('<table hidden><colgroup id="'),nn=d('">'),Ho=d("</colgroup></table>");function di(E,k,O,N){switch(O.insertionMode){case 0:case 1:return i(E,Js),i(E,k.segmentPrefix),i(E,c(N.toString(16))),s(E,qn);case 2:return i(E,hs),i(E,k.segmentPrefix),i(E,c(N.toString(16))),s(E,Ks);case 3:return i(E,Zn),i(E,k.segmentPrefix),i(E,c(N.toString(16))),s(E,Xs);case 4:return i(E,ne),i(E,k.segmentPrefix),i(E,c(N.toString(16))),s(E,It);case 5:return i(E,Ir),i(E,k.segmentPrefix),i(E,c(N.toString(16))),s(E,Qs);case 6:return i(E,ji),i(E,k.segmentPrefix),i(E,c(N.toString(16))),s(E,nr);case 7:return i(E,Yl),i(E,k.segmentPrefix),i(E,c(N.toString(16))),s(E,nn);default:throw Error(t(397))}}function Qe(E,k){switch(k.insertionMode){case 0:case 1:return s(E,Pt);case 2:return s(E,ps);case 3:return s(E,Yn);case 4:return s(E,$n);case 5:return s(E,Ie);case 6:return s(E,xn);case 7:return s(E,Ho);default:throw Error(t(397))}}var Jl=d('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Wo=d('$RS("'),eo=d('","'),fs=d('")<\/script>'),zi=d('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Ja=d('$RC("'),qo=d('","'),dr=d('")<\/script>'),Yt=d('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Vr=d('$RX("'),Zo=d('"'),Yo=d(")<\/script>"),ms=d(","),Kl=/[<\u2028\u2029]/g;function Gi(E){return JSON.stringify(E).replace(Kl,function(k){switch(k){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var ar=Object.assign,gn=Symbol.for("react.element"),to=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),le=Symbol.for("react.strict_mode"),we=Symbol.for("react.profiler"),Ke=Symbol.for("react.provider"),Ct=Symbol.for("react.context"),Ft=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),hr=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.scope"),D=Symbol.for("react.debug_trace_mode"),ee=Symbol.for("react.legacy_hidden"),J=Symbol.for("react.default_value"),ue=Symbol.iterator;function xe(E){if(E==null)return null;if(typeof E=="function")return E.displayName||E.name||null;if(typeof E=="string")return E;switch(E){case L:return"Fragment";case to:return"Portal";case we:return"Profiler";case le:return"StrictMode";case Wt:return"Suspense";case hr:return"SuspenseList"}if(typeof E=="object")switch(E.$$typeof){case Ct:return(E.displayName||"Context")+".Consumer";case Ke:return(E._context.displayName||"Context")+".Provider";case Ft:var k=E.render;return E=E.displayName,E||(E=k.displayName||k.name||"",E=E!==""?"ForwardRef("+E+")":"ForwardRef"),E;case b:return k=E.displayName||null,k!==null?k:xe(E.type)||"Memo";case A:k=E._payload,E=E._init;try{return xe(E(k))}catch{}}return null}var Re={};function ut(E,k){if(E=E.contextTypes,!E)return Re;var O={},N;for(N in E)O[N]=k[N];return O}var St=null;function Kt(E,k){if(E!==k){E.context._currentValue=E.parentValue,E=E.parent;var O=k.parent;if(E===null){if(O!==null)throw Error(t(401))}else{if(O===null)throw Error(t(401));Kt(E,O)}k.context._currentValue=k.value}}function hi(E){E.context._currentValue=E.parentValue,E=E.parent,E!==null&&hi(E)}function pi(E){var k=E.parent;k!==null&&pi(k),E.context._currentValue=E.value}function Mn(E,k){if(E.context._currentValue=E.parentValue,E=E.parent,E===null)throw Error(t(402));E.depth===k.depth?Kt(E,k):Mn(E,k)}function ro(E,k){var O=k.parent;if(O===null)throw Error(t(402));E.depth===O.depth?Kt(E,O):ro(E,O),k.context._currentValue=k.value}function fi(E){var k=St;k!==E&&(k===null?pi(E):E===null?hi(k):k.depth===E.depth?Kt(k,E):k.depth>E.depth?Mn(k,E):ro(k,E),St=E)}var mi={isMounted:function(){return!1},enqueueSetState:function(E,k){E=E._reactInternals,E.queue!==null&&E.queue.push(k)},enqueueReplaceState:function(E,k){E=E._reactInternals,E.replace=!0,E.queue=[k]},enqueueForceUpdate:function(){}};function kn(E,k,O,N){var re=E.state!==void 0?E.state:null;E.updater=mi,E.props=O,E.state=re;var X={queue:[],replace:!1};E._reactInternals=X;var ce=k.contextType;if(E.context=typeof ce=="object"&&ce!==null?ce._currentValue:N,ce=k.getDerivedStateFromProps,typeof ce=="function"&&(ce=ce(O,re),re=ce==null?re:ar({},re,ce),E.state=re),typeof k.getDerivedStateFromProps!="function"&&typeof E.getSnapshotBeforeUpdate!="function"&&(typeof E.UNSAFE_componentWillMount=="function"||typeof E.componentWillMount=="function"))if(k=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),k!==E.state&&mi.enqueueReplaceState(E,E.state,null),X.queue!==null&&0<X.queue.length)if(k=X.queue,ce=X.replace,X.queue=null,X.replace=!1,ce&&k.length===1)E.state=k[0];else{for(X=ce?k[0]:E.state,re=!0,ce=ce?1:0;ce<k.length;ce++){var Ee=k[ce];Ee=typeof Ee=="function"?Ee.call(E,X,O,N):Ee,Ee!=null&&(re?(re=!1,X=ar({},X,Ee)):ar(X,Ee))}E.state=X}else X.queue=null}var Vi={id:1,overflow:""};function yi(E,k,O){var N=E.id;E=E.overflow;var re=32-Jo(N)-1;N&=~(1<<re),O+=1;var X=32-Jo(k)+re;if(30<X){var ce=re-re%5;return X=(N&(1<<ce)-1).toString(32),N>>=ce,re-=ce,{id:1<<32-Jo(k)+re|O<<re|N,overflow:X+E}}return{id:1<<X|O<<re|N,overflow:E}}var Jo=Math.clz32?Math.clz32:pg,Ko=Math.log,WS=Math.LN2;function pg(E){return E>>>=0,E===0?32:31-(Ko(E)/WS|0)|0}function Ic(E,k){return E===k&&(E!==0||1/E===1/k)||E!==E&&k!==k}var qS=typeof Object.is=="function"?Object.is:Ic,ys=null,Xl=null,Nc=null,Xt=null,no=!1,Xo=!1,gs=0,Bi=null,Mh=0;function Ka(){if(ys===null)throw Error(t(321));return ys}function kh(){if(0<Mh)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function Ql(){return Xt===null?Nc===null?(no=!1,Nc=Xt=kh()):(no=!0,Xt=Nc):Xt.next===null?(no=!1,Xt=Xt.next=kh()):(no=!0,Xt=Xt.next),Xt}function Lc(){Xl=ys=null,Xo=!1,Nc=null,Mh=0,Xt=Bi=null}function Nf(E,k){return typeof k=="function"?k(E):k}function io(E,k,O){if(ys=Ka(),Xt=Ql(),no){var N=Xt.queue;if(k=N.dispatch,Bi!==null&&(O=Bi.get(N),O!==void 0)){Bi.delete(N),N=Xt.memoizedState;do N=E(N,O.action),O=O.next;while(O!==null);return Xt.memoizedState=N,[N,k]}return[Xt.memoizedState,k]}return E=E===Nf?typeof k=="function"?k():k:O!==void 0?O(k):k,Xt.memoizedState=E,E=Xt.queue={last:null,dispatch:null},E=E.dispatch=Ch.bind(null,ys,E),[Xt.memoizedState,E]}function Ah(E,k){if(ys=Ka(),Xt=Ql(),k=k===void 0?null:k,Xt!==null){var O=Xt.memoizedState;if(O!==null&&k!==null){var N=O[1];e:if(N===null)N=!1;else{for(var re=0;re<N.length&&re<k.length;re++)if(!qS(k[re],N[re])){N=!1;break e}N=!0}if(N)return O[0]}}return E=E(),Xt.memoizedState=[E,k],E}function Ch(E,k,O){if(25<=Mh)throw Error(t(301));if(E===ys)if(Xo=!0,E={action:O,next:null},Bi===null&&(Bi=new Map),O=Bi.get(k),O===void 0)Bi.set(k,E);else{for(k=O;k.next!==null;)k=k.next;k.next=E}}function fg(){throw Error(t(394))}function Xa(){}var Dc={readContext:function(E){return E._currentValue},useContext:function(E){return Ka(),E._currentValue},useMemo:Ah,useReducer:io,useRef:function(E){ys=Ka(),Xt=Ql();var k=Xt.memoizedState;return k===null?(E={current:E},Xt.memoizedState=E):k},useState:function(E){return io(Nf,E)},useInsertionEffect:Xa,useLayoutEffect:function(){},useCallback:function(E,k){return Ah(function(){return E},k)},useImperativeHandle:Xa,useEffect:Xa,useDebugValue:Xa,useDeferredValue:function(E){return Ka(),E},useTransition:function(){return Ka(),[!1,fg]},useId:function(){var E=Xl.treeContext,k=E.overflow;E=E.id,E=(E&~(1<<32-Jo(E)-1)).toString(32)+k;var O=Fc;if(O===null)throw Error(t(404));return k=gs++,E=":"+O.idPrefix+"R"+E,0<k&&(E+="H"+k.toString(32)),E+":"},useMutableSource:function(E,k){return Ka(),k(E._source)},useSyncExternalStore:function(E,k,O){if(O===void 0)throw Error(t(407));return O()}},Fc=null,vn=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function eu(E){return console.error(E),null}function Qa(){}function Uc(E,k,O,N,re,X,ce,Ee,ot){var Tt=[],pt=new Set;return k={destination:null,responseState:k,progressiveChunkSize:N===void 0?12800:N,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:pt,pingedTasks:Tt,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:re===void 0?eu:re,onAllReady:X===void 0?Qa:X,onShellReady:ce===void 0?Qa:ce,onShellError:Ee===void 0?Qa:Ee,onFatalError:ot===void 0?Qa:ot},O=tu(k,0,null,O,!1,!1),O.parentFlushed=!0,E=Lf(k,E,null,O,pt,Re,null,Vi),Tt.push(E),k}function Lf(E,k,O,N,re,X,ce,Ee){E.allPendingTasks++,O===null?E.pendingRootTasks++:O.pendingTasks++;var ot={node:k,ping:function(){var Tt=E.pingedTasks;Tt.push(ot),Tt.length===1&&jf(E)},blockedBoundary:O,blockedSegment:N,abortSet:re,legacyContext:X,context:ce,treeContext:Ee};return re.add(ot),ot}function tu(E,k,O,N,re,X){return{status:0,id:-1,index:k,parentFlushed:!1,chunks:[],children:[],formatContext:N,boundary:O,lastPushedText:re,textEmbedded:X}}function el(E,k){if(E=E.onError(k),E!=null&&typeof E!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof E+'" instead');return E}function Qo(E,k){var O=E.onShellError;O(k),O=E.onFatalError,O(k),E.destination!==null?(E.status=2,m(E.destination,k)):(E.status=1,E.fatalError=k)}function jc(E,k,O,N,re){for(ys={},Xl=k,gs=0,E=O(N,re);Xo;)Xo=!1,gs=0,Mh+=1,Xt=null,E=O(N,re);return Lc(),E}function Df(E,k,O,N){var re=O.render(),X=N.childContextTypes;if(X!=null){var ce=k.legacyContext;if(typeof O.getChildContext!="function")N=ce;else{O=O.getChildContext();for(var Ee in O)if(!(Ee in X))throw Error(t(108,xe(N)||"Unknown",Ee));N=ar({},ce,O)}k.legacyContext=N,Jn(E,k,re),k.legacyContext=ce}else Jn(E,k,re)}function mg(E,k){if(E&&E.defaultProps){k=ar({},k),E=E.defaultProps;for(var O in E)k[O]===void 0&&(k[O]=E[O]);return k}return k}function Ff(E,k,O,N,re){if(typeof O=="function")if(O.prototype&&O.prototype.isReactComponent){re=ut(O,k.legacyContext);var X=O.contextType;X=new O(N,typeof X=="object"&&X!==null?X._currentValue:re),kn(X,O,N,re),Df(E,k,X,O)}else{X=ut(O,k.legacyContext),re=jc(E,k,O,N,X);var ce=gs!==0;if(typeof re=="object"&&re!==null&&typeof re.render=="function"&&re.$$typeof===void 0)kn(re,O,N,X),Df(E,k,re,O);else if(ce){N=k.treeContext,k.treeContext=yi(N,1,0);try{Jn(E,k,re)}finally{k.treeContext=N}}else Jn(E,k,re)}else if(typeof O=="string"){switch(re=k.blockedSegment,X=Va(re.chunks,O,N,E.responseState,re.formatContext),re.lastPushedText=!1,ce=re.formatContext,re.formatContext=W(ce,O,N),Uf(E,k,X),re.formatContext=ce,O){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:re.chunks.push(Ba,c(O),Bo)}re.lastPushedText=!1}else{switch(O){case ee:case D:case le:case we:case L:Jn(E,k,N.children);return;case hr:Jn(E,k,N.children);return;case I:throw Error(t(343));case Wt:e:{O=k.blockedBoundary,re=k.blockedSegment,X=N.fallback,N=N.children,ce=new Set;var Ee={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:ce,errorDigest:null},ot=tu(E,re.chunks.length,Ee,re.formatContext,!1,!1);re.children.push(ot),re.lastPushedText=!1;var Tt=tu(E,0,null,re.formatContext,!1,!1);Tt.parentFlushed=!0,k.blockedBoundary=Ee,k.blockedSegment=Tt;try{if(Uf(E,k,N),Tt.lastPushedText&&Tt.textEmbedded&&Tt.chunks.push(he),Tt.status=1,Ph(Ee,Tt),Ee.pendingTasks===0)break e}catch(pt){Tt.status=4,Ee.forceClientRender=!0,Ee.errorDigest=el(E,pt)}finally{k.blockedBoundary=O,k.blockedSegment=re}k=Lf(E,X,O,ot,ce,k.legacyContext,k.context,k.treeContext),E.pingedTasks.push(k)}return}if(typeof O=="object"&&O!==null)switch(O.$$typeof){case Ft:if(N=jc(E,k,O.render,N,re),gs!==0){O=k.treeContext,k.treeContext=yi(O,1,0);try{Jn(E,k,N)}finally{k.treeContext=O}}else Jn(E,k,N);return;case b:O=O.type,N=mg(O,N),Ff(E,k,O,N,re);return;case Ke:if(re=N.children,O=O._context,N=N.value,X=O._currentValue,O._currentValue=N,ce=St,St=N={parent:ce,depth:ce===null?0:ce.depth+1,context:O,parentValue:X,value:N},k.context=N,Jn(E,k,re),E=St,E===null)throw Error(t(403));N=E.parentValue,E.context._currentValue=N===J?E.context._defaultValue:N,E=St=E.parent,k.context=E;return;case Ct:N=N.children,N=N(O._currentValue),Jn(E,k,N);return;case A:re=O._init,O=re(O._payload),N=mg(O,N),Ff(E,k,O,N,void 0);return}throw Error(t(130,O==null?O:typeof O,""))}}function Jn(E,k,O){if(k.node=O,typeof O=="object"&&O!==null){switch(O.$$typeof){case gn:Ff(E,k,O.type,O.props,O.ref);return;case to:throw Error(t(257));case A:var N=O._init;O=N(O._payload),Jn(E,k,O);return}if(ge(O)){Rh(E,k,O);return}if(O===null||typeof O!="object"?N=null:(N=ue&&O[ue]||O["@@iterator"],N=typeof N=="function"?N:null),N&&(N=N.call(O))){if(O=N.next(),!O.done){var re=[];do re.push(O.value),O=N.next();while(!O.done);Rh(E,k,re)}return}throw E=Object.prototype.toString.call(O),Error(t(31,E==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":E))}typeof O=="string"?(N=k.blockedSegment,N.lastPushedText=Fe(k.blockedSegment.chunks,O,E.responseState,N.lastPushedText)):typeof O=="number"&&(N=k.blockedSegment,N.lastPushedText=Fe(k.blockedSegment.chunks,""+O,E.responseState,N.lastPushedText))}function Rh(E,k,O){for(var N=O.length,re=0;re<N;re++){var X=k.treeContext;k.treeContext=yi(X,N,re);try{Uf(E,k,O[re])}finally{k.treeContext=X}}}function Uf(E,k,O){var N=k.blockedSegment.formatContext,re=k.legacyContext,X=k.context;try{return Jn(E,k,O)}catch(ot){if(Lc(),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"){O=ot;var ce=k.blockedSegment,Ee=tu(E,ce.chunks.length,null,ce.formatContext,ce.lastPushedText,!0);ce.children.push(Ee),ce.lastPushedText=!1,E=Lf(E,k.node,k.blockedBoundary,Ee,k.abortSet,k.legacyContext,k.context,k.treeContext).ping,O.then(E,E),k.blockedSegment.formatContext=N,k.legacyContext=re,k.context=X,fi(X)}else throw k.blockedSegment.formatContext=N,k.legacyContext=re,k.context=X,fi(X),ot}}function ZS(E){var k=E.blockedBoundary;E=E.blockedSegment,E.status=3,gg(this,k,E)}function yg(E,k,O){var N=E.blockedBoundary;E.blockedSegment.status=3,N===null?(k.allPendingTasks--,k.status!==2&&(k.status=2,k.destination!==null&&k.destination.close())):(N.pendingTasks--,N.forceClientRender||(N.forceClientRender=!0,E=O===void 0?Error(t(432)):O,N.errorDigest=k.onError(E),N.parentFlushed&&k.clientRenderedBoundaries.push(N)),N.fallbackAbortableTasks.forEach(function(re){return yg(re,k,O)}),N.fallbackAbortableTasks.clear(),k.allPendingTasks--,k.allPendingTasks===0&&(N=k.onAllReady,N()))}function Ph(E,k){if(k.chunks.length===0&&k.children.length===1&&k.children[0].boundary===null){var O=k.children[0];O.id=k.id,O.parentFlushed=!0,O.status===1&&Ph(E,O)}else E.completedSegments.push(k)}function gg(E,k,O){if(k===null){if(O.parentFlushed){if(E.completedRootSegment!==null)throw Error(t(389));E.completedRootSegment=O}E.pendingRootTasks--,E.pendingRootTasks===0&&(E.onShellError=Qa,k=E.onShellReady,k())}else k.pendingTasks--,k.forceClientRender||(k.pendingTasks===0?(O.parentFlushed&&O.status===1&&Ph(k,O),k.parentFlushed&&E.completedBoundaries.push(k),k.fallbackAbortableTasks.forEach(ZS,E),k.fallbackAbortableTasks.clear()):O.parentFlushed&&O.status===1&&(Ph(k,O),k.completedSegments.length===1&&k.parentFlushed&&E.partialBoundaries.push(k)));E.allPendingTasks--,E.allPendingTasks===0&&(E=E.onAllReady,E())}function jf(E){if(E.status!==2){var k=St,O=vn.current;vn.current=Dc;var N=Fc;Fc=E.responseState;try{var re=E.pingedTasks,X;for(X=0;X<re.length;X++){var ce=re[X],Ee=E,ot=ce.blockedSegment;if(ot.status===0){fi(ce.context);try{Jn(Ee,ce,ce.node),ot.lastPushedText&&ot.textEmbedded&&ot.chunks.push(he),ce.abortSet.delete(ce),ot.status=1,gg(Ee,ce.blockedBoundary,ot)}catch(vi){if(Lc(),typeof vi=="object"&&vi!==null&&typeof vi.then=="function"){var Tt=ce.ping;vi.then(Tt,Tt)}else{ce.abortSet.delete(ce),ot.status=4;var pt=ce.blockedBoundary,ir=vi,An=el(Ee,ir);if(pt===null?Qo(Ee,ir):(pt.pendingTasks--,pt.forceClientRender||(pt.forceClientRender=!0,pt.errorDigest=An,pt.parentFlushed&&Ee.clientRenderedBoundaries.push(pt))),Ee.allPendingTasks--,Ee.allPendingTasks===0){var gi=Ee.onAllReady;gi()}}}finally{}}}re.splice(0,X),E.destination!==null&&zf(E,E.destination)}catch(vi){el(E,vi),Qo(E,vi)}finally{Fc=N,vn.current=O,O===Dc&&fi(k)}}}function Oh(E,k,O){switch(O.parentFlushed=!0,O.status){case 0:var N=O.id=E.nextSegmentId++;return O.lastPushedText=!1,O.textEmbedded=!1,E=E.responseState,i(k,Ui),i(k,E.placeholderPrefix),E=c(N.toString(16)),i(k,E),s(k,Ha);case 1:O.status=2;var re=!0;N=O.chunks;var X=0;O=O.children;for(var ce=0;ce<O.length;ce++){for(re=O[ce];X<re.index;X++)i(k,N[X]);re=Ih(E,k,re)}for(;X<N.length-1;X++)i(k,N[X]);return X<N.length&&(re=s(k,N[X])),re;default:throw Error(t(390))}}function Ih(E,k,O){var N=O.boundary;if(N===null)return Oh(E,k,O);if(N.parentFlushed=!0,N.forceClientRender)N=N.errorDigest,s(k,Ys),i(k,Oc),N&&(i(k,Za),i(k,c(Q(N))),i(k,qa)),s(k,Ya),Oh(E,k,O);else if(0<N.pendingTasks){N.rootSegmentID=E.nextSegmentId++,0<N.completedSegments.length&&E.partialBoundaries.push(N);var re=E.responseState,X=re.nextSuspenseID++;re=d(re.boundaryPrefix+X.toString(16)),N=N.id=re,rn(k,E.responseState,N),Oh(E,k,O)}else if(N.byteSize>E.progressiveChunkSize)N.rootSegmentID=E.nextSegmentId++,E.completedBoundaries.push(N),rn(k,E.responseState,N.id),Oh(E,k,O);else{if(s(k,ds),O=N.completedSegments,O.length!==1)throw Error(t(391));Ih(E,k,O[0])}return s(k,Zl)}function vg(E,k,O){return di(k,E.responseState,O.formatContext,O.id),Ih(E,k,O),Qe(k,O.formatContext)}function wg(E,k,O){for(var N=O.completedSegments,re=0;re<N.length;re++)Nh(E,k,O,N[re]);if(N.length=0,E=E.responseState,N=O.id,O=O.rootSegmentID,i(k,E.startInlineScript),E.sentCompleteBoundaryFunction?i(k,Ja):(E.sentCompleteBoundaryFunction=!0,i(k,zi)),N===null)throw Error(t(395));return O=c(O.toString(16)),i(k,N),i(k,qo),i(k,E.segmentPrefix),i(k,O),s(k,dr)}function Nh(E,k,O,N){if(N.status===2)return!0;var re=N.id;if(re===-1){if((N.id=O.rootSegmentID)===-1)throw Error(t(392));return vg(E,k,N)}return vg(E,k,N),E=E.responseState,i(k,E.startInlineScript),E.sentCompleteSegmentFunction?i(k,Wo):(E.sentCompleteSegmentFunction=!0,i(k,Jl)),i(k,E.segmentPrefix),re=c(re.toString(16)),i(k,re),i(k,eo),i(k,E.placeholderPrefix),i(k,re),s(k,fs)}function zf(E,k){r=new Uint8Array(512),n=0;try{var O=E.completedRootSegment;if(O!==null&&E.pendingRootTasks===0){Ih(E,k,O),E.completedRootSegment=null;var N=E.responseState.bootstrapChunks;for(O=0;O<N.length-1;O++)i(k,N[O]);O<N.length&&s(k,N[O])}var re=E.clientRenderedBoundaries,X;for(X=0;X<re.length;X++){var ce=re[X];N=k;var Ee=E.responseState,ot=ce.id,Tt=ce.errorDigest,pt=ce.errorMessage,ir=ce.errorComponentStack;if(i(N,Ee.startInlineScript),Ee.sentClientRenderFunction?i(N,Vr):(Ee.sentClientRenderFunction=!0,i(N,Yt)),ot===null)throw Error(t(395));i(N,ot),i(N,Zo),(Tt||pt||ir)&&(i(N,ms),i(N,c(Gi(Tt||"")))),(pt||ir)&&(i(N,ms),i(N,c(Gi(pt||"")))),ir&&(i(N,ms),i(N,c(Gi(ir)))),s(N,Yo)}re.splice(0,X);var An=E.completedBoundaries;for(X=0;X<An.length;X++)wg(E,k,An[X]);An.splice(0,X),o(k),r=new Uint8Array(512),n=0;var gi=E.partialBoundaries;for(X=0;X<gi.length;X++){var vi=gi[X];e:{re=E,ce=k;var zc=vi.completedSegments;for(Ee=0;Ee<zc.length;Ee++)if(!Nh(re,ce,vi,zc[Ee])){Ee++,zc.splice(0,Ee);var Gf=!1;break e}zc.splice(0,Ee),Gf=!0}if(!Gf){E.destination=null,X++,gi.splice(0,X);return}}gi.splice(0,X);var ea=E.completedBoundaries;for(X=0;X<ea.length;X++)wg(E,k,ea[X]);ea.splice(0,X)}finally{o(k),E.allPendingTasks===0&&E.pingedTasks.length===0&&E.clientRenderedBoundaries.length===0&&E.completedBoundaries.length===0&&k.close()}}function _g(E,k){try{var O=E.abortableTasks;O.forEach(function(N){return yg(N,E,k)}),O.clear(),E.destination!==null&&zf(E,E.destination)}catch(N){el(E,N),Qo(E,N)}}return ov.renderToReadableStream=function(E,k){return new Promise(function(O,N){var re,X,ce=new Promise(function(pt,ir){X=pt,re=ir}),Ee=Uc(E,de(k?k.identifierPrefix:void 0,k?k.nonce:void 0,k?k.bootstrapScriptContent:void 0,k?k.bootstrapScripts:void 0,k?k.bootstrapModules:void 0),Ce(k?k.namespaceURI:void 0),k?k.progressiveChunkSize:void 0,k?k.onError:void 0,X,function(){var pt=new ReadableStream({type:"bytes",pull:function(ir){if(Ee.status===1)Ee.status=2,m(ir,Ee.fatalError);else if(Ee.status!==2&&Ee.destination===null){Ee.destination=ir;try{zf(Ee,ir)}catch(An){el(Ee,An),Qo(Ee,An)}}},cancel:function(){_g(Ee)}},{highWaterMark:0});pt.allReady=ce,O(pt)},function(pt){ce.catch(function(){}),N(pt)},re);if(k&&k.signal){var ot=k.signal,Tt=function(){_g(Ee,ot.reason),ot.removeEventListener("abort",Tt)};ot.addEventListener("abort",Tt)}jf(Ee)})},ov.version="18.3.1",ov}var ML;function upe(){if(ML)return $u;ML=1;var e,t;return e=ape(),t=lpe(),$u.version=e.version,$u.renderToString=e.renderToString,$u.renderToStaticMarkup=e.renderToStaticMarkup,$u.renderToNodeStream=e.renderToNodeStream,$u.renderToStaticNodeStream=e.renderToStaticNodeStream,$u.renderToReadableStream=t.renderToReadableStream,$u}var cpe=upe();const dpe=P3(cpe);var hpe=typeof window<"u";const Sj={Promise:hpe?window.Promise:void 0};var bj="4.25",v3="next";function Ej(e){if(e.toLowerCase()===v3)return v3;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function Tj(e){return e===void 0&&(e=bj),"https://js.arcgis.com/".concat(e,"/")}function ppe(e){e===void 0&&(e=bj);var t=Tj(e),r=Ej(e);if(r!==v3&&r.major===3){var n=r.minor<=10?"js/":"";return"".concat(t).concat(n,"esri/css/esri.css")}else return"".concat(t,"esri/themes/light/main.css")}function fpe(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function mpe(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}function ype(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function gpe(e){return!e||Ej(e)?ppe(e):e}function vpe(e,t){var r=gpe(e),n=ype(r);return n||(n=fpe(r),mpe(n,t)),n}var wpe={};function _pe(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function kL(e,t,r){var n;r&&(n=Spe(e,r));var i=function(){t(e),e.removeEventListener("load",i,!1),n&&e.removeEventListener("error",n,!1)};e.addEventListener("load",i,!1)}function Spe(e,t){var r=function(n){t(n.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}function $j(){return document.querySelector("script[data-esri-loader]")}function w3(){var e=window.require;return e&&e.on}function bpe(e){e===void 0&&(e={});var t={};[wpe,e].forEach(function(i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])});var r=t.version,n=t.url||Tj(r);return new Sj.Promise(function(i,s){var o=$j();if(o){var l=o.getAttribute("src");l!==n?s(new Error("The ArcGIS API for JavaScript is already loaded (".concat(l,")."))):w3()?i(o):kL(o,i,s)}else if(w3())s(new Error("The ArcGIS API for JavaScript is already loaded."));else{var c=t.css;if(c){var d=c===!0;vpe(d?r:c,t.insertCssBefore)}o=_pe(n),kL(o,function(){o.setAttribute("data-esri-loader","loaded"),i(o)},s),document.body.appendChild(o)}})}function AL(e){return new Sj.Promise(function(t,r){var n=window.require.on("error",r);window.require(e,function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];n.remove(),t(i)})})}function Epe(e,t){if(t===void 0&&(t={}),w3())return AL(e);var r=$j(),n=r&&r.getAttribute("src");return!t.url&&n&&(t.url=n),bpe(t).then(function(){return AL(e)})}var Tpe=Object.defineProperty,$pe=(e,t,r)=>t in e?Tpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,UE=(e,t,r)=>($pe(e,typeof t!="symbol"?t+"":t,r),r);let xpe=class{constructor(){UE(this,"current",this.detect()),UE(this,"handoffState","pending"),UE(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ih=new xpe;function RS(e){return ih.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function PS(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Pc(){let e=[],t={addEventListener(r,n,i,s){return r.addEventListener(n,i,s),t.add(()=>r.removeEventListener(n,i,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return PS(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,i){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=Pc();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let i of e.splice(n,1))i()}},dispose(){for(let r of e.splice(0))r()}};return t}function Kk(){let[e]=oe.useState(Pc);return oe.useEffect(()=>()=>e.dispose(),[e]),e}let si=(e,t)=>{ih.isServer?oe.useEffect(e,t):oe.useLayoutEffect(e,t)};function xh(e){let t=oe.useRef(e);return si(()=>{t.current=e},[e]),t}let Cr=function(e){let t=xh(e);return Et.useCallback((...r)=>t.current(...r),[t])},Mpe=oe.createContext(void 0);function kpe(){return oe.useContext(Mpe)}function _3(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Ec(e,t,...r){if(e in t){let i=t[e];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ec),n}var S_=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(S_||{}),uc=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(uc||{});function Hs(){let e=Cpe();return oe.useCallback(t=>Ape({mergeRefs:e,...t}),[e])}function Ape({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:i,visible:s=!0,name:o,mergeRefs:l}){l=l??Rpe;let c=xj(t,e);if(s)return av(c,r,n,o,l);let d=i??0;if(d&2){let{static:m=!1,...g}=c;if(m)return av(g,r,n,o,l)}if(d&1){let{unmount:m=!0,...g}=c;return Ec(m?0:1,{0(){return null},1(){return av({...g,hidden:!0,style:{display:"none"}},r,n,o,l)}})}return av(c,r,n,o,l)}function av(e,t={},r,n,i){let{as:s=r,children:o,refName:l="ref",...c}=jE(e,["unmount","static"]),d=e.ref!==void 0?{[l]:e.ref}:{},m=typeof o=="function"?o(t):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let g={};if(t){let w=!1,S=[];for(let[$,x]of Object.entries(t))typeof x=="boolean"&&(w=!0),x===!0&&S.push($.replace(/([A-Z])/g,M=>`-${M.toLowerCase()}`));if(w){g["data-headlessui-state"]=S.join(" ");for(let $ of S)g[`data-${$}`]=""}}if(s===oe.Fragment&&(Object.keys(Ud(c)).length>0||Object.keys(Ud(g)).length>0))if(!oe.isValidElement(m)||Array.isArray(m)&&m.length>1){if(Object.keys(Ud(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ud(c)).concat(Object.keys(Ud(g))).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`))}else{let w=m.props,S=w?.className,$=typeof S=="function"?(...P)=>_3(S(...P),c.className):_3(S,c.className),x=$?{className:$}:{},M=xj(m.props,Ud(jE(c,["ref"])));for(let P in g)P in M&&delete g[P];return oe.cloneElement(m,Object.assign({},M,g,d,{ref:i(Ppe(m),d.ref)},x))}return oe.createElement(s,Object.assign({},jE(c,["ref"]),s!==oe.Fragment&&d,s!==oe.Fragment&&g),m)}function Cpe(){let e=oe.useRef([]),t=oe.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function Rpe(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function xj(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):t[i]=n[i];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[i=>{var s;return(s=i?.preventDefault)==null?void 0:s.call(i)}]);for(let n in r)Object.assign(t,{[n](i,...s){let o=r[n];for(let l of o){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;l(i,...s)}}});return t}function Di(e){var t;return Object.assign(oe.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ud(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function jE(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function Ppe(e){return Et.version.split(".")[0]>="19"?e.props.ref:e.ref}var Ope=XL();let Ipe="span";var b_=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(b_||{});function Npe(e,t){var r;let{features:n=1,...i}=e,s={ref:t,"aria-hidden":(n&2)===2?!0:(r=i["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Hs()({ourProps:s,theirProps:i,slot:{},defaultTag:Ipe,name:"Hidden"})}let S3=Di(Npe),Mj=Symbol();function Lpe(e,t=!0){return Object.assign(e,{[Mj]:t})}function Ua(...e){let t=oe.useRef(e);oe.useEffect(()=>{t.current=e},[e]);let r=Cr(n=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return e.every(n=>n==null||n?.[Mj])?void 0:r}let Xk=oe.createContext(null);Xk.displayName="DescriptionContext";function kj(){let e=oe.useContext(Xk);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,kj),t}return e}function Dpe(){let[e,t]=oe.useState([]);return[e.length>0?e.join(" "):void 0,oe.useMemo(()=>function(r){let n=Cr(s=>(t(o=>[...o,s]),()=>t(o=>{let l=o.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),i=oe.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return Et.createElement(Xk.Provider,{value:i},r.children)},[t])]}let Fpe="p";function Upe(e,t){let r=oe.useId(),n=kpe(),{id:i=`headlessui-description-${r}`,...s}=e,o=kj(),l=Ua(t);si(()=>o.register(i),[i,o.register]);let c=n||!1,d=oe.useMemo(()=>({...o.slot,disabled:c}),[o.slot,c]),m={ref:l,...o.props,id:i};return Hs()({ourProps:m,theirProps:s,slot:d,defaultTag:Fpe,name:o.name||"Description"})}let jpe=Di(Upe),zpe=Object.assign(jpe,{});var Aj=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Aj||{});let Gpe=oe.createContext(()=>{});function Vpe({value:e,children:t}){return Et.createElement(Gpe.Provider,{value:e},t)}let Bpe=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};function Cj(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...s){let o=t[i].call(r,...s);o&&(r=o,n.forEach(l=>l()))}}}function Rj(e){return oe.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let Hpe=new Bpe(()=>Cj(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let r=this.slice();return r.splice(t,1),r}}));function Pf(e,t){let r=Hpe.get(t),n=oe.useId(),i=Rj(r);if(si(()=>{if(e)return r.dispatch("ADD",n),()=>r.dispatch("REMOVE",n)},[r,e]),!e)return!1;let s=i.indexOf(n),o=i.length;return s===-1&&(s=o,o+=1),s===o-1}let b3=new Map,t0=new Map;function CL(e){var t;let r=(t=t0.get(e))!=null?t:0;return t0.set(e,r+1),r!==0?()=>RL(e):(b3.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>RL(e))}function RL(e){var t;let r=(t=t0.get(e))!=null?t:1;if(r===1?t0.delete(e):t0.set(e,r-1),r!==1)return;let n=b3.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,b3.delete(e))}function Wpe(e,{allowed:t,disallowed:r}={}){let n=Pf(e,"inert-others");si(()=>{var i,s;if(!n)return;let o=Pc();for(let c of(i=r?.())!=null?i:[])c&&o.add(CL(c));let l=(s=t?.())!=null?s:[];for(let c of l){if(!c)continue;let d=RS(c);if(!d)continue;let m=c.parentElement;for(;m&&m!==d.body;){for(let g of m.children)l.some(w=>g.contains(w))||o.add(CL(g));m=m.parentElement}}return o.dispose},[n,t,r])}function qpe(e,t,r){let n=xh(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&r()});oe.useEffect(()=>{if(!e)return;let i=t===null?null:t instanceof HTMLElement?t:t.current;if(!i)return;let s=Pc();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>n.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>n.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[t,n,e])}let E_=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Zpe=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Fl=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Fl||{}),E3=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(E3||{}),Ype=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Ype||{});function Jpe(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(E_)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function Kpe(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Zpe)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var Pj=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Pj||{});function Xpe(e,t=0){var r;return e===((r=RS(e))==null?void 0:r.body)?!1:Ec(t,{0(){return e.matches(E_)},1(){let n=e;for(;n!==null;){if(n.matches(E_))return!0;n=n.parentElement}return!1}})}var Qpe=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Qpe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Gl(e){e?.focus({preventScroll:!0})}let efe=["textarea","input"].join(",");function tfe(e){var t,r;return(r=(t=e?.matches)==null?void 0:t.call(e,efe))!=null?r:!1}function rfe(e,t=r=>r){return e.slice().sort((r,n)=>{let i=t(r),s=t(n);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function r0(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?r?rfe(e):e:t&64?Kpe(e):Jpe(e);i.length>0&&o.length>1&&(o=o.filter(S=>!i.some($=>$!=null&&"current"in $?$?.current===S:$===S))),n=n??s.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(n))-1;if(t&4)return Math.max(0,o.indexOf(n))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},m=0,g=o.length,w;do{if(m>=g||m+g<=0)return 0;let S=c+m;if(t&16)S=(S+g)%g;else{if(S<0)return 3;if(S>=g)return 1}w=o[S],w?.focus(d),m+=l}while(w!==s.activeElement);return t&6&&tfe(w)&&w.select(),2}function Oj(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function nfe(){return/Android/gi.test(window.navigator.userAgent)}function ife(){return Oj()||nfe()}function Fm(e,t,r,n){let i=xh(r);oe.useEffect(()=>{if(!e)return;function s(o){i.current(o)}return document.addEventListener(t,s,n),()=>document.removeEventListener(t,s,n)},[e,t,n])}function Ij(e,t,r,n){let i=xh(r);oe.useEffect(()=>{if(!e)return;function s(o){i.current(o)}return window.addEventListener(t,s,n),()=>window.removeEventListener(t,s,n)},[e,t,n])}const PL=30;function sfe(e,t,r){let n=Pf(e,"outside-click"),i=xh(r),s=oe.useCallback(function(c,d){if(c.defaultPrevented)return;let m=d(c);if(m===null||!m.getRootNode().contains(m)||!m.isConnected)return;let g=function w(S){return typeof S=="function"?w(S()):Array.isArray(S)||S instanceof Set?S:[S]}(t);for(let w of g)if(w!==null&&(w.contains(m)||c.composed&&c.composedPath().includes(w)))return;return!Xpe(m,Pj.Loose)&&m.tabIndex!==-1&&c.preventDefault(),i.current(c,m)},[i,t]),o=oe.useRef(null);Fm(n,"pointerdown",c=>{var d,m;o.current=((m=(d=c.composedPath)==null?void 0:d.call(c))==null?void 0:m[0])||c.target},!0),Fm(n,"mousedown",c=>{var d,m;o.current=((m=(d=c.composedPath)==null?void 0:d.call(c))==null?void 0:m[0])||c.target},!0),Fm(n,"click",c=>{ife()||o.current&&(s(c,()=>o.current),o.current=null)},!0);let l=oe.useRef({x:0,y:0});Fm(n,"touchstart",c=>{l.current.x=c.touches[0].clientX,l.current.y=c.touches[0].clientY},!0),Fm(n,"touchend",c=>{let d={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(d.x-l.current.x)>=PL||Math.abs(d.y-l.current.y)>=PL))return s(c,()=>c.target instanceof HTMLElement?c.target:null)},!0),Ij(n,"blur",c=>s(c,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ug(...e){return oe.useMemo(()=>RS(...e),[...e])}function Nj(e,t,r,n){let i=xh(r);oe.useEffect(()=>{e=e??window;function s(o){i.current(o)}return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)},[e,t,n])}function ofe(){let e;return{before({doc:t}){var r;let n=t.documentElement,i=(r=t.defaultView)!=null?r:window;e=Math.max(0,i.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,i=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,e-i);r.style(n,"paddingRight",`${s}px`)}}}function afe(){return Oj()?{before({doc:e,d:t,meta:r}){function n(i){return r.containers.flatMap(s=>s()).some(s=>s.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Pc();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:d}=new URL(c.href),m=e.querySelector(d);m&&!n(m)&&(o=m)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement){if(l.target.tagName==="INPUT")return;if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function lfe(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function ufe(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let Yd=Cj(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:Pc(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:ufe(r)},i=[afe(),ofe(),lfe()];i.forEach(({before:s})=>s?.(n)),i.forEach(({after:s})=>s?.(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Yd.subscribe(()=>{let e=Yd.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&Yd.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Yd.dispatch("TEARDOWN",r)}});function cfe(e,t,r=()=>({containers:[]})){let n=Rj(Yd),i=t?n.get(t):void 0,s=i?i.count>0:!1;return si(()=>{if(!(!t||!e))return Yd.dispatch("PUSH",t,r),()=>Yd.dispatch("POP",t,r)},[e,t]),s}function dfe(e,t,r=()=>[document.body]){let n=Pf(e,"scroll-lock");cfe(n,t,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],r]}})}function hfe(e=0){let[t,r]=oe.useState(e),n=oe.useCallback(c=>r(c),[t]),i=oe.useCallback(c=>r(d=>d|c),[t]),s=oe.useCallback(c=>(t&c)===c,[t]),o=oe.useCallback(c=>r(d=>d&~c),[r]),l=oe.useCallback(c=>r(d=>d^c),[r]);return{flags:t,setFlag:n,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:l}}var pfe={},OL,IL;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((OL=process==null?void 0:pfe)==null?void 0:OL.NODE_ENV)==="test"&&typeof((IL=Element?.prototype)==null?void 0:IL.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var ffe=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(ffe||{});function mfe(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function yfe(e,t,r,n){let[i,s]=oe.useState(r),{hasFlag:o,addFlag:l,removeFlag:c}=hfe(e&&i?3:0),d=oe.useRef(!1),m=oe.useRef(!1),g=Kk();return si(()=>{var w;if(e){if(r&&s(!0),!t){r&&l(3);return}return(w=n?.start)==null||w.call(n,r),gfe(t,{inFlight:d,prepare(){m.current?m.current=!1:m.current=d.current,d.current=!0,!m.current&&(r?(l(3),c(4)):(l(4),c(2)))},run(){m.current?r?(c(3),l(4)):(c(4),l(3)):r?c(1):l(1)},done(){var S;m.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(d.current=!1,c(7),r||s(!1),(S=n?.end)==null||S.call(n,r))}})}},[e,r,t,g]),e?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function gfe(e,{prepare:t,run:r,done:n,inFlight:i}){let s=Pc();return wfe(e,{prepare:t,inFlight:i}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add(vfe(e,n))})}),s.dispose}function vfe(e,t){var r,n;let i=Pc();if(!e)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(l=>l instanceof CSSTransition))!=null?n:[];return o.length===0?(t(),i.dispose):(Promise.allSettled(o.map(l=>l.finished)).then(()=>{s||t()}),i.dispose)}function wfe(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function Qk(e,t){let r=oe.useRef([]),n=Cr(e);oe.useEffect(()=>{let i=[...r.current];for(let[s,o]of t.entries())if(r.current[s]!==o){let l=n(t,i);return r.current=t,l}},[n,...t])}let OS=oe.createContext(null);OS.displayName="OpenClosedContext";var Ro=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ro||{});function IS(){return oe.useContext(OS)}function _fe({value:e,children:t}){return Et.createElement(OS.Provider,{value:e},t)}function Sfe({children:e}){return Et.createElement(OS.Provider,{value:null},e)}function bfe(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let rc=[];bfe(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||rc[0]===t.target)return;let r=t.target;r=r.closest(E_),rc.unshift(r??t.target),rc=rc.filter(n=>n!=null&&n.isConnected),rc.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Lj(e){let t=Cr(e),r=oe.useRef(!1);oe.useEffect(()=>(r.current=!1,()=>{r.current=!0,PS(()=>{r.current&&t()})}),[t])}function Efe(){let e=typeof document>"u";return"useSyncExternalStore"in pR?(t=>t.useSyncExternalStore)(pR)(()=>()=>{},()=>!1,()=>!e):!1}function cg(){let e=Efe(),[t,r]=oe.useState(ih.isHandoffComplete);return t&&ih.isHandoffComplete===!1&&r(!1),oe.useEffect(()=>{t!==!0&&r(!0)},[t]),oe.useEffect(()=>ih.handoff(),[]),e?!1:t}let Dj=oe.createContext(!1);function Tfe(){return oe.useContext(Dj)}function NL(e){return Et.createElement(Dj.Provider,{value:e.force},e.children)}function $fe(e){let t=Tfe(),r=oe.useContext(Uj),n=ug(e),[i,s]=oe.useState(()=>{var o;if(!t&&r!==null)return(o=r.current)!=null?o:null;if(ih.isServer)return null;let l=n?.getElementById("headlessui-portal-root");if(l)return l;if(n===null)return null;let c=n.createElement("div");return c.setAttribute("id","headlessui-portal-root"),n.body.appendChild(c)});return oe.useEffect(()=>{i!==null&&(n!=null&&n.body.contains(i)||n==null||n.body.appendChild(i))},[i,n]),oe.useEffect(()=>{t||r!==null&&s(r.current)},[r,s,t]),i}let Fj=oe.Fragment,xfe=Di(function(e,t){let r=e,n=oe.useRef(null),i=Ua(Lpe(g=>{n.current=g}),t),s=ug(n),o=$fe(n),[l]=oe.useState(()=>{var g;return ih.isServer?null:(g=s?.createElement("div"))!=null?g:null}),c=oe.useContext(T3),d=cg();si(()=>{!o||!l||o.contains(l)||(l.setAttribute("data-headlessui-portal",""),o.appendChild(l))},[o,l]),si(()=>{if(l&&c)return c.register(l)},[c,l]),Lj(()=>{var g;!o||!l||(l instanceof Node&&o.contains(l)&&o.removeChild(l),o.childNodes.length<=0&&((g=o.parentElement)==null||g.removeChild(o)))});let m=Hs();return d?!o||!l?null:Ope.createPortal(m({ourProps:{ref:i},theirProps:r,slot:{},defaultTag:Fj,name:"Portal"}),l):null});function Mfe(e,t){let r=Ua(t),{enabled:n=!0,...i}=e,s=Hs();return n?Et.createElement(xfe,{...i,ref:r}):s({ourProps:{ref:r},theirProps:i,slot:{},defaultTag:Fj,name:"Portal"})}let kfe=oe.Fragment,Uj=oe.createContext(null);function Afe(e,t){let{target:r,...n}=e,i={ref:Ua(t)},s=Hs();return Et.createElement(Uj.Provider,{value:r},s({ourProps:i,theirProps:n,defaultTag:kfe,name:"Popover.Group"}))}let T3=oe.createContext(null);function Cfe(){let e=oe.useContext(T3),t=oe.useRef([]),r=Cr(s=>(t.current.push(s),e&&e.register(s),()=>n(s))),n=Cr(s=>{let o=t.current.indexOf(s);o!==-1&&t.current.splice(o,1),e&&e.unregister(s)}),i=oe.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,oe.useMemo(()=>function({children:s}){return Et.createElement(T3.Provider,{value:i},s)},[i])]}let Rfe=Di(Mfe),jj=Di(Afe),Pfe=Object.assign(Rfe,{Group:jj});function Ofe(e,t=typeof document<"u"?document.defaultView:null,r){let n=Pf(e,"escape");Nj(t,"keydown",i=>{n&&(i.defaultPrevented||i.key===Aj.Escape&&r(i))})}function Ife(){var e;let[t]=oe.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=oe.useState((e=t?.matches)!=null?e:!1);return si(()=>{if(!t)return;function i(s){n(s.matches)}return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),r}function Nfe({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=ug(r),i=Cr(()=>{var s,o;let l=[];for(let c of e)c!==null&&(c instanceof HTMLElement?l.push(c):"current"in c&&c.current instanceof HTMLElement&&l.push(c.current));if(t!=null&&t.current)for(let c of t.current)l.push(c);for(let c of(s=n?.querySelectorAll("html > *, body > *"))!=null?s:[])c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c.id!=="headlessui-portal-root"&&(r&&(c.contains(r)||c.contains((o=r?.getRootNode())==null?void 0:o.host))||l.some(d=>c.contains(d))||l.push(c));return l});return{resolveContainers:i,contains:Cr(s=>i().some(o=>o.contains(s)))}}let zj=oe.createContext(null);function LL({children:e,node:t}){let[r,n]=oe.useState(null),i=Gj(t??r);return Et.createElement(zj.Provider,{value:i},e,i===null&&Et.createElement(S3,{features:b_.Hidden,ref:s=>{var o,l;if(s){for(let c of(l=(o=RS(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?l:[])if(c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c!=null&&c.contains(s)){n(c);break}}}}))}function Gj(e=null){var t;return(t=oe.useContext(zj))!=null?t:e}function eA(){let e=oe.useRef(!1);return si(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Py=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Py||{});function Lfe(){let e=oe.useRef(0);return Ij(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Vj(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)r.current instanceof HTMLElement&&t.add(r.current);return t}let Dfe="div";var Bd=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Bd||{});function Ffe(e,t){let r=oe.useRef(null),n=Ua(r,t),{initialFocus:i,initialFocusFallback:s,containers:o,features:l=15,...c}=e;cg()||(l=0);let d=ug(r);Gfe(l,{ownerDocument:d});let m=Vfe(l,{ownerDocument:d,container:r,initialFocus:i,initialFocusFallback:s});Bfe(l,{ownerDocument:d,container:r,containers:o,previousActiveElement:m});let g=Lfe(),w=Cr(F=>{let V=r.current;V&&(U=>U())(()=>{Ec(g.current,{[Py.Forwards]:()=>{r0(V,Fl.First,{skipElements:[F.relatedTarget,s]})},[Py.Backwards]:()=>{r0(V,Fl.Last,{skipElements:[F.relatedTarget,s]})}})})}),S=Pf(!!(l&2),"focus-trap#tab-lock"),$=Kk(),x=oe.useRef(!1),M={ref:n,onKeyDown(F){F.key=="Tab"&&(x.current=!0,$.requestAnimationFrame(()=>{x.current=!1}))},onBlur(F){if(!(l&4))return;let V=Vj(o);r.current instanceof HTMLElement&&V.add(r.current);let U=F.relatedTarget;U instanceof HTMLElement&&U.dataset.headlessuiFocusGuard!=="true"&&(Bj(V,U)||(x.current?r0(r.current,Ec(g.current,{[Py.Forwards]:()=>Fl.Next,[Py.Backwards]:()=>Fl.Previous})|Fl.WrapAround,{relativeTo:F.target}):F.target instanceof HTMLElement&&Gl(F.target)))}},P=Hs();return Et.createElement(Et.Fragment,null,S&&Et.createElement(S3,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:w,features:b_.Focusable}),P({ourProps:M,theirProps:c,defaultTag:Dfe,name:"FocusTrap"}),S&&Et.createElement(S3,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:w,features:b_.Focusable}))}let Ufe=Di(Ffe),jfe=Object.assign(Ufe,{features:Bd});function zfe(e=!0){let t=oe.useRef(rc.slice());return Qk(([r],[n])=>{n===!0&&r===!1&&PS(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=rc.slice())},[e,rc,t]),Cr(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function Gfe(e,{ownerDocument:t}){let r=!!(e&8),n=zfe(r);Qk(()=>{r||t?.activeElement===t?.body&&Gl(n())},[r]),Lj(()=>{r&&Gl(n())})}function Vfe(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:i}){let s=oe.useRef(null),o=Pf(!!(e&1),"focus-trap#initial-focus"),l=eA();return Qk(()=>{if(e===0)return;if(!o){i!=null&&i.current&&Gl(i.current);return}let c=r.current;c&&PS(()=>{if(!l.current)return;let d=t?.activeElement;if(n!=null&&n.current){if(n?.current===d){s.current=d;return}}else if(c.contains(d)){s.current=d;return}if(n!=null&&n.current)Gl(n.current);else{if(e&16){if(r0(c,Fl.First|Fl.AutoFocus)!==E3.Error)return}else if(r0(c,Fl.First)!==E3.Error)return;if(i!=null&&i.current&&(Gl(i.current),t?.activeElement===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=t?.activeElement})},[i,o,e]),s}function Bfe(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:i}){let s=eA(),o=!!(e&4);Nj(t?.defaultView,"focus",l=>{if(!o||!s.current)return;let c=Vj(n);r.current instanceof HTMLElement&&c.add(r.current);let d=i.current;if(!d)return;let m=l.target;m&&m instanceof HTMLElement?Bj(c,m)?(i.current=m,Gl(m)):(l.preventDefault(),l.stopPropagation(),Gl(d)):Gl(i.current)},!0)}function Bj(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function Hj(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:qj)!==oe.Fragment||Et.Children.count(e.children)===1}let NS=oe.createContext(null);NS.displayName="TransitionContext";var Hfe=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Hfe||{});function Wfe(){let e=oe.useContext(NS);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function qfe(){let e=oe.useContext(LS);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let LS=oe.createContext(null);LS.displayName="NestingContext";function DS(e){return"children"in e?DS(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Wj(e,t){let r=xh(e),n=oe.useRef([]),i=eA(),s=Kk(),o=Cr((S,$=uc.Hidden)=>{let x=n.current.findIndex(({el:M})=>M===S);x!==-1&&(Ec($,{[uc.Unmount](){n.current.splice(x,1)},[uc.Hidden](){n.current[x].state="hidden"}}),s.microTask(()=>{var M;!DS(n)&&i.current&&((M=r.current)==null||M.call(r))}))}),l=Cr(S=>{let $=n.current.find(({el:x})=>x===S);return $?$.state!=="visible"&&($.state="visible"):n.current.push({el:S,state:"visible"}),()=>o(S,uc.Unmount)}),c=oe.useRef([]),d=oe.useRef(Promise.resolve()),m=oe.useRef({enter:[],leave:[]}),g=Cr((S,$,x)=>{c.current.splice(0),t&&(t.chains.current[$]=t.chains.current[$].filter(([M])=>M!==S)),t?.chains.current[$].push([S,new Promise(M=>{c.current.push(M)})]),t?.chains.current[$].push([S,new Promise(M=>{Promise.all(m.current[$].map(([P,F])=>F)).then(()=>M())})]),$==="enter"?d.current=d.current.then(()=>t?.wait.current).then(()=>x($)):x($)}),w=Cr((S,$,x)=>{Promise.all(m.current[$].splice(0).map(([M,P])=>P)).then(()=>{var M;(M=c.current.shift())==null||M()}).then(()=>x($))});return oe.useMemo(()=>({children:n,register:l,unregister:o,onStart:g,onStop:w,wait:d,chains:m}),[l,o,n,g,w,m,d])}let qj=oe.Fragment,Zj=S_.RenderStrategy;function Zfe(e,t){var r,n;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:l,afterLeave:c,enter:d,enterFrom:m,enterTo:g,entered:w,leave:S,leaveFrom:$,leaveTo:x,...M}=e,[P,F]=oe.useState(null),V=oe.useRef(null),U=Hj(e),z=Ua(...U?[V,t,F]:t===null?[]:[t]),Z=(r=M.unmount)==null||r?uc.Unmount:uc.Hidden,{show:Q,appear:pe,initial:ye}=Wfe(),[ge,Pe]=oe.useState(Q?"visible":"hidden"),Me=qfe(),{register:De,unregister:Ae}=Me;si(()=>De(V),[De,V]),si(()=>{if(Z===uc.Hidden&&V.current){if(Q&&ge!=="visible"){Pe("visible");return}return Ec(ge,{hidden:()=>Ae(V),visible:()=>De(V)})}},[ge,V,De,Ae,Q,Z]);let $t=cg();si(()=>{if(U&&$t&&ge==="visible"&&V.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[V,ge,$t,U]);let kt=ye&&!pe,it=pe&&Q&&ye,de=oe.useRef(!1),$e=Wj(()=>{de.current||(Pe("hidden"),Ae(V))},Me),Ce=Cr(Je=>{de.current=!0;let st=Je?"enter":"leave";$e.onStart(V,st,lt=>{lt==="enter"?s?.():lt==="leave"&&l?.()})}),W=Cr(Je=>{let st=Je?"enter":"leave";de.current=!1,$e.onStop(V,st,lt=>{lt==="enter"?o?.():lt==="leave"&&c?.()}),st==="leave"&&!DS($e)&&(Pe("hidden"),Ae(V))});oe.useEffect(()=>{U&&i||(Ce(Q),W(Q))},[Q,U,i]);let he=!(!i||!U||!$t||kt),[,Fe]=yfe(he,P,Q,{start:Ce,end:W}),ct=Ud({ref:z,className:((n=_3(M.className,it&&d,it&&m,Fe.enter&&d,Fe.enter&&Fe.closed&&m,Fe.enter&&!Fe.closed&&g,Fe.leave&&S,Fe.leave&&!Fe.closed&&$,Fe.leave&&Fe.closed&&x,!Fe.transition&&Q&&w))==null?void 0:n.trim())||void 0,...mfe(Fe)}),ht=0;ge==="visible"&&(ht|=Ro.Open),ge==="hidden"&&(ht|=Ro.Closed),Fe.enter&&(ht|=Ro.Opening),Fe.leave&&(ht|=Ro.Closing);let gt=Hs();return Et.createElement(LS.Provider,{value:$e},Et.createElement(_fe,{value:ht},gt({ourProps:ct,theirProps:M,defaultTag:qj,features:Zj,visible:ge==="visible",name:"Transition.Child"})))}function Yfe(e,t){let{show:r,appear:n=!1,unmount:i=!0,...s}=e,o=oe.useRef(null),l=Hj(e),c=Ua(...l?[o,t]:t===null?[]:[t]);cg();let d=IS();if(r===void 0&&d!==null&&(r=(d&Ro.Open)===Ro.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[m,g]=oe.useState(r?"visible":"hidden"),w=Wj(()=>{r||g("hidden")}),[S,$]=oe.useState(!0),x=oe.useRef([r]);si(()=>{S!==!1&&x.current[x.current.length-1]!==r&&(x.current.push(r),$(!1))},[x,r]);let M=oe.useMemo(()=>({show:r,appear:n,initial:S}),[r,n,S]);si(()=>{r?g("visible"):!DS(w)&&o.current!==null&&g("hidden")},[r,w]);let P={unmount:i},F=Cr(()=>{var z;S&&$(!1),(z=e.beforeEnter)==null||z.call(e)}),V=Cr(()=>{var z;S&&$(!1),(z=e.beforeLeave)==null||z.call(e)}),U=Hs();return Et.createElement(LS.Provider,{value:w},Et.createElement(NS.Provider,{value:M},U({ourProps:{...P,as:oe.Fragment,children:Et.createElement(Yj,{ref:c,...P,...s,beforeEnter:F,beforeLeave:V})},theirProps:{},defaultTag:oe.Fragment,features:Zj,visible:m==="visible",name:"Transition"})))}function Jfe(e,t){let r=oe.useContext(NS)!==null,n=IS()!==null;return Et.createElement(Et.Fragment,null,!r&&n?Et.createElement($3,{ref:t,...e}):Et.createElement(Yj,{ref:t,...e}))}let $3=Di(Yfe),Yj=Di(Zfe),FS=Di(Jfe),Kfe=Object.assign($3,{Child:FS,Root:$3});var Xfe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Xfe||{}),Qfe=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Qfe||{});let eme={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},tA=oe.createContext(null);tA.displayName="DialogContext";function US(e){let t=oe.useContext(tA);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,US),r}return t}function tme(e,t){return Ec(t.type,eme,e,t)}let DL=Di(function(e,t){let r=oe.useId(),{id:n=`headlessui-dialog-${r}`,open:i,onClose:s,initialFocus:o,role:l="dialog",autoFocus:c=!0,__demoMode:d=!1,unmount:m=!1,...g}=e,w=oe.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(w.current||(w.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let S=IS();i===void 0&&S!==null&&(i=(S&Ro.Open)===Ro.Open);let $=oe.useRef(null),x=Ua($,t),M=ug($),P=i?0:1,[F,V]=oe.useReducer(tme,{titleId:null,descriptionId:null,panelRef:oe.createRef()}),U=Cr(()=>s(!1)),z=Cr(W=>V({type:0,id:W})),Z=cg()?P===0:!1,[Q,pe]=Cfe(),ye={get current(){var W;return(W=F.panelRef.current)!=null?W:$.current}},ge=Gj(),{resolveContainers:Pe}=Nfe({mainTreeNode:ge,portals:Q,defaultContainers:[ye]}),Me=S!==null?(S&Ro.Closing)===Ro.Closing:!1;Wpe(d||Me?!1:Z,{allowed:Cr(()=>{var W,he;return[(he=(W=$.current)==null?void 0:W.closest("[data-headlessui-portal]"))!=null?he:null]}),disallowed:Cr(()=>{var W;return[(W=ge?.closest("body > *:not(#headlessui-portal-root)"))!=null?W:null]})}),sfe(Z,Pe,W=>{W.preventDefault(),U()}),Ofe(Z,M?.defaultView,W=>{W.preventDefault(),W.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),U()}),dfe(d||Me?!1:Z,M,Pe),qpe(Z,$,U);let[De,Ae]=Dpe(),$t=oe.useMemo(()=>[{dialogState:P,close:U,setTitleId:z,unmount:m},F],[P,F,U,z,m]),kt=oe.useMemo(()=>({open:P===0}),[P]),it={ref:x,id:n,role:l,tabIndex:-1,"aria-modal":d?void 0:P===0?!0:void 0,"aria-labelledby":F.titleId,"aria-describedby":De,unmount:m},de=!Ife(),$e=Bd.None;Z&&!d&&($e|=Bd.RestoreFocus,$e|=Bd.TabLock,c&&($e|=Bd.AutoFocus),de&&($e|=Bd.InitialFocus));let Ce=Hs();return Et.createElement(Sfe,null,Et.createElement(NL,{force:!0},Et.createElement(Pfe,null,Et.createElement(tA.Provider,{value:$t},Et.createElement(jj,{target:$},Et.createElement(NL,{force:!1},Et.createElement(Ae,{slot:kt},Et.createElement(pe,null,Et.createElement(jfe,{initialFocus:o,initialFocusFallback:$,containers:Pe,features:$e},Et.createElement(Vpe,{value:U},Ce({ourProps:it,theirProps:g,slot:kt,defaultTag:rme,features:nme,visible:P===0,name:"Dialog"})))))))))))}),rme="div",nme=S_.RenderStrategy|S_.Static;function ime(e,t){let{transition:r=!1,open:n,...i}=e,s=IS(),o=e.hasOwnProperty("open")||s!==null,l=e.hasOwnProperty("onClose");if(!o&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!i.static?Et.createElement(LL,null,Et.createElement(Kfe,{show:n,transition:r,unmount:i.unmount},Et.createElement(DL,{ref:t,...i}))):Et.createElement(LL,null,Et.createElement(DL,{ref:t,open:n,...i}))}let sme="div";function ome(e,t){let r=oe.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:i=!1,...s}=e,[{dialogState:o,unmount:l},c]=US("Dialog.Panel"),d=Ua(t,c.panelRef),m=oe.useMemo(()=>({open:o===0}),[o]),g=Cr(M=>{M.stopPropagation()}),w={ref:d,id:n,onClick:g},S=i?FS:oe.Fragment,$=i?{unmount:l}:{},x=Hs();return Et.createElement(S,{...$},x({ourProps:w,theirProps:s,slot:m,defaultTag:sme,name:"Dialog.Panel"}))}let ame="div";function lme(e,t){let{transition:r=!1,...n}=e,[{dialogState:i,unmount:s}]=US("Dialog.Backdrop"),o=oe.useMemo(()=>({open:i===0}),[i]),l={ref:t,"aria-hidden":!0},c=r?FS:oe.Fragment,d=r?{unmount:s}:{},m=Hs();return Et.createElement(c,{...d},m({ourProps:l,theirProps:n,slot:o,defaultTag:ame,name:"Dialog.Backdrop"}))}let ume="h2";function cme(e,t){let r=oe.useId(),{id:n=`headlessui-dialog-title-${r}`,...i}=e,[{dialogState:s,setTitleId:o}]=US("Dialog.Title"),l=Ua(t);oe.useEffect(()=>(o(n),()=>o(null)),[n,o]);let c=oe.useMemo(()=>({open:s===0}),[s]),d={ref:l,id:n};return Hs()({ourProps:d,theirProps:i,slot:c,defaultTag:ume,name:"Dialog.Title"})}let dme=Di(ime),Jj=Di(ome),hme=Di(lme),Kj=Di(cme),pme=Object.assign(dme,{Panel:Jj,Title:Kj,Description:zpe});function fme({title:e,titleId:t,...r},n){return oe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?oe.createElement("title",{id:t},e):null,oe.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const mme=oe.forwardRef(fme);function yme({title:e,titleId:t,...r},n){return oe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?oe.createElement("title",{id:t},e):null,oe.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const gme=oe.forwardRef(yme);function Xj(e,t){return function(){return e.apply(t,arguments)}}const{toString:vme}=Object.prototype,{getPrototypeOf:rA}=Object,jS=(e=>t=>{const r=vme.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Go=e=>(e=e.toLowerCase(),t=>jS(t)===e),zS=e=>t=>typeof t===e,{isArray:Of}=Array,N0=zS("undefined");function wme(e){return e!==null&&!N0(e)&&e.constructor!==null&&!N0(e.constructor)&&us(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Qj=Go("ArrayBuffer");function _me(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Qj(e.buffer),t}const Sme=zS("string"),us=zS("function"),ez=zS("number"),GS=e=>e!==null&&typeof e=="object",bme=e=>e===!0||e===!1,dw=e=>{if(jS(e)!=="object")return!1;const t=rA(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Eme=Go("Date"),Tme=Go("File"),$me=Go("Blob"),xme=Go("FileList"),Mme=e=>GS(e)&&us(e.pipe),kme=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||us(e.append)&&((t=jS(e))==="formdata"||t==="object"&&us(e.toString)&&e.toString()==="[object FormData]"))},Ame=Go("URLSearchParams"),[Cme,Rme,Pme,Ome]=["ReadableStream","Request","Response","Headers"].map(Go),Ime=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dg(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Of(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let l;for(n=0;n<o;n++)l=s[n],t.call(null,e[l],l,e)}}function tz(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const Jd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rz=e=>!N0(e)&&e!==Jd;function x3(){const{caseless:e}=rz(this)&&this||{},t={},r=(n,i)=>{const s=e&&tz(t,i)||i;dw(t[s])&&dw(n)?t[s]=x3(t[s],n):dw(n)?t[s]=x3({},n):Of(n)?t[s]=n.slice():t[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&dg(arguments[n],r);return t}const Nme=(e,t,r,{allOwnKeys:n}={})=>(dg(t,(i,s)=>{r&&us(i)?e[s]=Xj(i,r):e[s]=i},{allOwnKeys:n}),e),Lme=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Dme=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Fme=(e,t,r,n)=>{let i,s,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&rA(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Ume=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},jme=e=>{if(!e)return null;if(Of(e))return e;let t=e.length;if(!ez(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},zme=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&rA(Uint8Array)),Gme=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},Vme=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Bme=Go("HTMLFormElement"),Hme=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),FL=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Wme=Go("RegExp"),nz=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};dg(r,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(n[s]=o||i)}),Object.defineProperties(e,n)},qme=e=>{nz(e,(t,r)=>{if(us(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(us(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Zme=(e,t)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Of(e)?n(e):n(String(e).split(t)),r},Yme=()=>{},Jme=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,zE="abcdefghijklmnopqrstuvwxyz",UL="0123456789",iz={DIGIT:UL,ALPHA:zE,ALPHA_DIGIT:zE+zE.toUpperCase()+UL},Kme=(e=16,t=iz.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function Xme(e){return!!(e&&us(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Qme=e=>{const t=new Array(10),r=(n,i)=>{if(GS(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const s=Of(n)?[]:{};return dg(n,(o,l)=>{const c=r(o,i+1);!N0(c)&&(s[l]=c)}),t[i]=void 0,s}}return n};return r(e,0)},eye=Go("AsyncFunction"),tye=e=>e&&(GS(e)||us(e))&&us(e.then)&&us(e.catch),sz=((e,t)=>e?setImmediate:t?((r,n)=>(Jd.addEventListener("message",({source:i,data:s})=>{i===Jd&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Jd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",us(Jd.postMessage)),rye=typeof queueMicrotask<"u"?queueMicrotask.bind(Jd):typeof process<"u"&&process.nextTick||sz,ae={isArray:Of,isArrayBuffer:Qj,isBuffer:wme,isFormData:kme,isArrayBufferView:_me,isString:Sme,isNumber:ez,isBoolean:bme,isObject:GS,isPlainObject:dw,isReadableStream:Cme,isRequest:Rme,isResponse:Pme,isHeaders:Ome,isUndefined:N0,isDate:Eme,isFile:Tme,isBlob:$me,isRegExp:Wme,isFunction:us,isStream:Mme,isURLSearchParams:Ame,isTypedArray:zme,isFileList:xme,forEach:dg,merge:x3,extend:Nme,trim:Ime,stripBOM:Lme,inherits:Dme,toFlatObject:Fme,kindOf:jS,kindOfTest:Go,endsWith:Ume,toArray:jme,forEachEntry:Gme,matchAll:Vme,isHTMLForm:Bme,hasOwnProperty:FL,hasOwnProp:FL,reduceDescriptors:nz,freezeMethods:qme,toObjectSet:Zme,toCamelCase:Hme,noop:Yme,toFiniteNumber:Jme,findKey:tz,global:Jd,isContextDefined:rz,ALPHABET:iz,generateString:Kme,isSpecCompliantForm:Xme,toJSONObject:Qme,isAsyncFn:eye,isThenable:tye,setImmediate:sz,asap:rye};function xt(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}ae.inherits(xt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}});const oz=xt.prototype,az={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{az[e]={value:e}});Object.defineProperties(xt,az);Object.defineProperty(oz,"isAxiosError",{value:!0});xt.from=(e,t,r,n,i,s)=>{const o=Object.create(oz);return ae.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),xt.call(o,e.message,t,r,n,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const nye=null;function M3(e){return ae.isPlainObject(e)||ae.isArray(e)}function lz(e){return ae.endsWith(e,"[]")?e.slice(0,-2):e}function jL(e,t,r){return e?e.concat(t).map(function(i,s){return i=lz(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function iye(e){return ae.isArray(e)&&!e.some(M3)}const sye=ae.toFlatObject(ae,{},null,function(t){return/^is[A-Z]/.test(t)});function VS(e,t,r){if(!ae.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ae.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,M){return!ae.isUndefined(M[x])});const n=r.metaTokens,i=r.visitor||m,s=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(t);if(!ae.isFunction(i))throw new TypeError("visitor must be a function");function d($){if($===null)return"";if(ae.isDate($))return $.toISOString();if(!c&&ae.isBlob($))throw new xt("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer($)||ae.isTypedArray($)?c&&typeof Blob=="function"?new Blob([$]):Buffer.from($):$}function m($,x,M){let P=$;if($&&!M&&typeof $=="object"){if(ae.endsWith(x,"{}"))x=n?x:x.slice(0,-2),$=JSON.stringify($);else if(ae.isArray($)&&iye($)||(ae.isFileList($)||ae.endsWith(x,"[]"))&&(P=ae.toArray($)))return x=lz(x),P.forEach(function(V,U){!(ae.isUndefined(V)||V===null)&&t.append(o===!0?jL([x],U,s):o===null?x:x+"[]",d(V))}),!1}return M3($)?!0:(t.append(jL(M,x,s),d($)),!1)}const g=[],w=Object.assign(sye,{defaultVisitor:m,convertValue:d,isVisitable:M3});function S($,x){if(!ae.isUndefined($)){if(g.indexOf($)!==-1)throw Error("Circular reference detected in "+x.join("."));g.push($),ae.forEach($,function(P,F){(!(ae.isUndefined(P)||P===null)&&i.call(t,P,ae.isString(F)?F.trim():F,x,w))===!0&&S(P,x?x.concat(F):[F])}),g.pop()}}if(!ae.isObject(e))throw new TypeError("data must be an object");return S(e),t}function zL(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function nA(e,t){this._pairs=[],e&&VS(e,this,t)}const uz=nA.prototype;uz.append=function(t,r){this._pairs.push([t,r])};uz.toString=function(t){const r=t?function(n){return t.call(this,n,zL)}:zL;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function oye(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cz(e,t,r){if(!t)return e;const n=r&&r.encode||oye;ae.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(t,r):s=ae.isURLSearchParams(t)?t.toString():new nA(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class GL{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ae.forEach(this.handlers,function(n){n!==null&&t(n)})}}const dz={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aye=typeof URLSearchParams<"u"?URLSearchParams:nA,lye=typeof FormData<"u"?FormData:null,uye=typeof Blob<"u"?Blob:null,cye={isBrowser:!0,classes:{URLSearchParams:aye,FormData:lye,Blob:uye},protocols:["http","https","file","blob","url","data"]},iA=typeof window<"u"&&typeof document<"u",k3=typeof navigator=="object"&&navigator||void 0,dye=iA&&(!k3||["ReactNative","NativeScript","NS"].indexOf(k3.product)<0),hye=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pye=iA&&window.location.href||"http://localhost",fye=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:iA,hasStandardBrowserEnv:dye,hasStandardBrowserWebWorkerEnv:hye,navigator:k3,origin:pye},Symbol.toStringTag,{value:"Module"})),Gn={...fye,...cye};function mye(e,t){return VS(e,new Gn.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return Gn.isNode&&ae.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function yye(e){return ae.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function gye(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function hz(e){function t(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=r.length;return o=!o&&ae.isArray(i)?i.length:o,c?(ae.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!l):((!i[o]||!ae.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],s)&&ae.isArray(i[o])&&(i[o]=gye(i[o])),!l)}if(ae.isFormData(e)&&ae.isFunction(e.entries)){const r={};return ae.forEachEntry(e,(n,i)=>{t(yye(n),i,r,0)}),r}return null}function vye(e,t,r){if(ae.isString(e))try{return(t||JSON.parse)(e),ae.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const hg={transitional:dz,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=ae.isObject(t);if(s&&ae.isHTMLForm(t)&&(t=new FormData(t)),ae.isFormData(t))return i?JSON.stringify(hz(t)):t;if(ae.isArrayBuffer(t)||ae.isBuffer(t)||ae.isStream(t)||ae.isFile(t)||ae.isBlob(t)||ae.isReadableStream(t))return t;if(ae.isArrayBufferView(t))return t.buffer;if(ae.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return mye(t,this.formSerializer).toString();if((l=ae.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return VS(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),vye(t)):t}],transformResponse:[function(t){const r=this.transitional||hg.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(ae.isResponse(t)||ae.isReadableStream(t))return t;if(t&&ae.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?xt.from(l,xt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gn.classes.FormData,Blob:Gn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],e=>{hg.headers[e]={}});const wye=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_ye=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&wye[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},VL=Symbol("internals");function Um(e){return e&&String(e).trim().toLowerCase()}function hw(e){return e===!1||e==null?e:ae.isArray(e)?e.map(hw):String(e)}function Sye(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const bye=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function GE(e,t,r,n,i){if(ae.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!ae.isString(t)){if(ae.isString(n))return t.indexOf(n)!==-1;if(ae.isRegExp(n))return n.test(t)}}function Eye(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Tye(e,t){const r=ae.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,o){return this[n].call(this,t,i,s,o)},configurable:!0})})}class Ni{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function s(l,c,d){const m=Um(c);if(!m)throw new Error("header name must be a non-empty string");const g=ae.findKey(i,m);(!g||i[g]===void 0||d===!0||d===void 0&&i[g]!==!1)&&(i[g||c]=hw(l))}const o=(l,c)=>ae.forEach(l,(d,m)=>s(d,m,c));if(ae.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(ae.isString(t)&&(t=t.trim())&&!bye(t))o(_ye(t),r);else if(ae.isHeaders(t))for(const[l,c]of t.entries())s(c,l,n);else t!=null&&s(r,t,n);return this}get(t,r){if(t=Um(t),t){const n=ae.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return Sye(i);if(ae.isFunction(r))return r.call(this,i,n);if(ae.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Um(t),t){const n=ae.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||GE(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function s(o){if(o=Um(o),o){const l=ae.findKey(n,o);l&&(!r||GE(n,n[l],l,r))&&(delete n[l],i=!0)}}return ae.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!t||GE(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,n={};return ae.forEach(this,(i,s)=>{const o=ae.findKey(n,s);if(o){r[o]=hw(i),delete r[s];return}const l=t?Eye(s):String(s).trim();l!==s&&delete r[s],r[l]=hw(i),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ae.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&ae.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[VL]=this[VL]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=Um(o);n[l]||(Tye(i,o),n[l]=!0)}return ae.isArray(t)?t.forEach(s):s(t),this}}Ni.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(Ni.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ae.freezeMethods(Ni);function VE(e,t){const r=this||hg,n=t||r,i=Ni.from(n.headers);let s=n.data;return ae.forEach(e,function(l){s=l.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function pz(e){return!!(e&&e.__CANCEL__)}function If(e,t,r){xt.call(this,e??"canceled",xt.ERR_CANCELED,t,r),this.name="CanceledError"}ae.inherits(If,xt,{__CANCEL__:!0});function fz(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new xt("Request failed with status code "+r.status,[xt.ERR_BAD_REQUEST,xt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function $ye(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function xye(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),m=n[s];o||(o=d),r[i]=c,n[i]=d;let g=s,w=0;for(;g!==i;)w+=r[g++],g=g%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),d-o<t)return;const S=m&&d-m;return S?Math.round(w*1e3/S):void 0}}function Mye(e,t){let r=0,n=1e3/t,i,s;const o=(d,m=Date.now())=>{r=m,i=null,s&&(clearTimeout(s),s=null),e.apply(null,d)};return[(...d)=>{const m=Date.now(),g=m-r;g>=n?o(d,m):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},n-g)))},()=>i&&o(i)]}const T_=(e,t,r=3)=>{let n=0;const i=xye(50,250);return Mye(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-n,d=i(c),m=o<=l;n=o;const g={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&m?(l-o)/d:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(g)},r)},BL=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},HL=e=>(...t)=>ae.asap(()=>e(...t)),kye=Gn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Gn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Gn.origin),Gn.navigator&&/(msie|trident)/i.test(Gn.navigator.userAgent)):()=>!0,Aye=Gn.hasStandardBrowserEnv?{write(e,t,r,n,i,s){const o=[e+"="+encodeURIComponent(t)];ae.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),ae.isString(n)&&o.push("path="+n),ae.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Cye(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Rye(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function mz(e,t){return e&&!Cye(t)?Rye(e,t):t}const WL=e=>e instanceof Ni?{...e}:e;function gh(e,t){t=t||{};const r={};function n(d,m,g,w){return ae.isPlainObject(d)&&ae.isPlainObject(m)?ae.merge.call({caseless:w},d,m):ae.isPlainObject(m)?ae.merge({},m):ae.isArray(m)?m.slice():m}function i(d,m,g,w){if(ae.isUndefined(m)){if(!ae.isUndefined(d))return n(void 0,d,g,w)}else return n(d,m,g,w)}function s(d,m){if(!ae.isUndefined(m))return n(void 0,m)}function o(d,m){if(ae.isUndefined(m)){if(!ae.isUndefined(d))return n(void 0,d)}else return n(void 0,m)}function l(d,m,g){if(g in t)return n(d,m);if(g in e)return n(void 0,d)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,m,g)=>i(WL(d),WL(m),g,!0)};return ae.forEach(Object.keys(Object.assign({},e,t)),function(m){const g=c[m]||i,w=g(e[m],t[m],m);ae.isUndefined(w)&&g!==l||(r[m]=w)}),r}const yz=e=>{const t=gh({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=t;t.headers=o=Ni.from(o),t.url=cz(mz(t.baseURL,t.url),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ae.isFormData(r)){if(Gn.hasStandardBrowserEnv||Gn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...m]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...m].join("; "))}}if(Gn.hasStandardBrowserEnv&&(n&&ae.isFunction(n)&&(n=n(t)),n||n!==!1&&kye(t.url))){const d=i&&s&&Aye.read(s);d&&o.set(i,d)}return t},Pye=typeof XMLHttpRequest<"u",Oye=Pye&&function(e){return new Promise(function(r,n){const i=yz(e);let s=i.data;const o=Ni.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,m,g,w,S,$;function x(){S&&S(),$&&$(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let M=new XMLHttpRequest;M.open(i.method.toUpperCase(),i.url,!0),M.timeout=i.timeout;function P(){if(!M)return;const V=Ni.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),z={data:!l||l==="text"||l==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:V,config:e,request:M};fz(function(Q){r(Q),x()},function(Q){n(Q),x()},z),M=null}"onloadend"in M?M.onloadend=P:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(P)},M.onabort=function(){M&&(n(new xt("Request aborted",xt.ECONNABORTED,e,M)),M=null)},M.onerror=function(){n(new xt("Network Error",xt.ERR_NETWORK,e,M)),M=null},M.ontimeout=function(){let U=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const z=i.transitional||dz;i.timeoutErrorMessage&&(U=i.timeoutErrorMessage),n(new xt(U,z.clarifyTimeoutError?xt.ETIMEDOUT:xt.ECONNABORTED,e,M)),M=null},s===void 0&&o.setContentType(null),"setRequestHeader"in M&&ae.forEach(o.toJSON(),function(U,z){M.setRequestHeader(z,U)}),ae.isUndefined(i.withCredentials)||(M.withCredentials=!!i.withCredentials),l&&l!=="json"&&(M.responseType=i.responseType),d&&([w,$]=T_(d,!0),M.addEventListener("progress",w)),c&&M.upload&&([g,S]=T_(c),M.upload.addEventListener("progress",g),M.upload.addEventListener("loadend",S)),(i.cancelToken||i.signal)&&(m=V=>{M&&(n(!V||V.type?new If(null,e,M):V),M.abort(),M=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const F=$ye(i.url);if(F&&Gn.protocols.indexOf(F)===-1){n(new xt("Unsupported protocol "+F+":",xt.ERR_BAD_REQUEST,e));return}M.send(s||null)})},Iye=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const s=function(d){if(!i){i=!0,l();const m=d instanceof Error?d:this.reason;n.abort(m instanceof xt?m:new If(m instanceof Error?m.message:m))}};let o=t&&setTimeout(()=>{o=null,s(new xt(`timeout ${t} of ms exceeded`,xt.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),e=null)};e.forEach(d=>d.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>ae.asap(l),c}},Nye=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},Lye=async function*(e,t){for await(const r of Dye(e))yield*Nye(r,t)},Dye=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},qL=(e,t,r,n)=>{const i=Lye(e,t);let s=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:m}=await i.next();if(d){l(),c.close();return}let g=m.byteLength;if(r){let w=s+=g;r(w)}c.enqueue(new Uint8Array(m))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},BS=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gz=BS&&typeof ReadableStream=="function",Fye=BS&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),vz=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Uye=gz&&vz(()=>{let e=!1;const t=new Request(Gn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),ZL=64*1024,A3=gz&&vz(()=>ae.isReadableStream(new Response("").body)),$_={stream:A3&&(e=>e.body)};BS&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!$_[t]&&($_[t]=ae.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new xt(`Response type '${t}' is not supported`,xt.ERR_NOT_SUPPORT,n)})})})(new Response);const jye=async e=>{if(e==null)return 0;if(ae.isBlob(e))return e.size;if(ae.isSpecCompliantForm(e))return(await new Request(Gn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ae.isArrayBufferView(e)||ae.isArrayBuffer(e))return e.byteLength;if(ae.isURLSearchParams(e)&&(e=e+""),ae.isString(e))return(await Fye(e)).byteLength},zye=async(e,t)=>{const r=ae.toFiniteNumber(e.getContentLength());return r??jye(t)},Gye=BS&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:m,withCredentials:g="same-origin",fetchOptions:w}=yz(e);d=d?(d+"").toLowerCase():"text";let S=Iye([i,s&&s.toAbortSignal()],o),$;const x=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let M;try{if(c&&Uye&&r!=="get"&&r!=="head"&&(M=await zye(m,n))!==0){let z=new Request(t,{method:"POST",body:n,duplex:"half"}),Z;if(ae.isFormData(n)&&(Z=z.headers.get("content-type"))&&m.setContentType(Z),z.body){const[Q,pe]=BL(M,T_(HL(c)));n=qL(z.body,ZL,Q,pe)}}ae.isString(g)||(g=g?"include":"omit");const P="credentials"in Request.prototype;$=new Request(t,{...w,signal:S,method:r.toUpperCase(),headers:m.normalize().toJSON(),body:n,duplex:"half",credentials:P?g:void 0});let F=await fetch($);const V=A3&&(d==="stream"||d==="response");if(A3&&(l||V&&x)){const z={};["status","statusText","headers"].forEach(ye=>{z[ye]=F[ye]});const Z=ae.toFiniteNumber(F.headers.get("content-length")),[Q,pe]=l&&BL(Z,T_(HL(l),!0))||[];F=new Response(qL(F.body,ZL,Q,()=>{pe&&pe(),x&&x()}),z)}d=d||"text";let U=await $_[ae.findKey($_,d)||"text"](F,e);return!V&&x&&x(),await new Promise((z,Z)=>{fz(z,Z,{data:U,headers:Ni.from(F.headers),status:F.status,statusText:F.statusText,config:e,request:$})})}catch(P){throw x&&x(),P&&P.name==="TypeError"&&/fetch/i.test(P.message)?Object.assign(new xt("Network Error",xt.ERR_NETWORK,e,$),{cause:P.cause||P}):xt.from(P,P&&P.code,e,$)}}),C3={http:nye,xhr:Oye,fetch:Gye};ae.forEach(C3,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const YL=e=>`- ${e}`,Vye=e=>ae.isFunction(e)||e===null||e===!1,wz={getAdapter:e=>{e=ae.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let s=0;s<t;s++){r=e[s];let o;if(n=r,!Vye(r)&&(n=C3[(o=String(r)).toLowerCase()],n===void 0))throw new xt(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+s]=n}if(!n){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(YL).join(`
`):" "+YL(s[0]):"as no adapter specified";throw new xt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:C3};function BE(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new If(null,e)}function JL(e){return BE(e),e.headers=Ni.from(e.headers),e.data=VE.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),wz.getAdapter(e.adapter||hg.adapter)(e).then(function(n){return BE(e),n.data=VE.call(e,e.transformResponse,n),n.headers=Ni.from(n.headers),n},function(n){return pz(n)||(BE(e),n&&n.response&&(n.response.data=VE.call(e,e.transformResponse,n.response),n.response.headers=Ni.from(n.response.headers))),Promise.reject(n)})}const _z="1.7.8",HS={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{HS[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const KL={};HS.transitional=function(t,r,n){function i(s,o){return"[Axios v"+_z+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,l)=>{if(t===!1)throw new xt(i(o," has been removed"+(r?" in "+r:"")),xt.ERR_DEPRECATED);return r&&!KL[o]&&(KL[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,l):!0}};HS.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Bye(e,t,r){if(typeof e!="object")throw new xt("options must be an object",xt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],o=t[s];if(o){const l=e[s],c=l===void 0||o(l,s,e);if(c!==!0)throw new xt("option "+s+" must be "+c,xt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new xt("Unknown option "+s,xt.ERR_BAD_OPTION)}}const pw={assertOptions:Bye,validators:HS},aa=pw.validators;class sh{constructor(t){this.defaults=t,this.interceptors={request:new GL,response:new GL}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=gh(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&pw.assertOptions(n,{silentJSONParsing:aa.transitional(aa.boolean),forcedJSONParsing:aa.transitional(aa.boolean),clarifyTimeoutError:aa.transitional(aa.boolean)},!1),i!=null&&(ae.isFunction(i)?r.paramsSerializer={serialize:i}:pw.assertOptions(i,{encode:aa.function,serialize:aa.function},!0)),pw.assertOptions(r,{baseUrl:aa.spelling("baseURL"),withXsrfToken:aa.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&ae.merge(s.common,s[r.method]);s&&ae.forEach(["delete","get","head","post","put","patch","common"],$=>{delete s[$]}),r.headers=Ni.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let m,g=0,w;if(!c){const $=[JL.bind(this),void 0];for($.unshift.apply($,l),$.push.apply($,d),w=$.length,m=Promise.resolve(r);g<w;)m=m.then($[g++],$[g++]);return m}w=l.length;let S=r;for(g=0;g<w;){const $=l[g++],x=l[g++];try{S=$(S)}catch(M){x.call(this,M);break}}try{m=JL.call(this,S)}catch($){return Promise.reject($)}for(g=0,w=d.length;g<w;)m=m.then(d[g++],d[g++]);return m}getUri(t){t=gh(this.defaults,t);const r=mz(t.baseURL,t.url);return cz(r,t.params,t.paramsSerializer)}}ae.forEach(["delete","get","head","options"],function(t){sh.prototype[t]=function(r,n){return this.request(gh(n||{},{method:t,url:r,data:(n||{}).data}))}});ae.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,l){return this.request(gh(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}sh.prototype[t]=r(),sh.prototype[t+"Form"]=r(!0)});class sA{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{n.subscribe(l),s=l}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,l){n.reason||(n.reason=new If(s,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new sA(function(i){t=i}),cancel:t}}}function Hye(e){return function(r){return e.apply(null,r)}}function Wye(e){return ae.isObject(e)&&e.isAxiosError===!0}const R3={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(R3).forEach(([e,t])=>{R3[t]=e});function Sz(e){const t=new sh(e),r=Xj(sh.prototype.request,t);return ae.extend(r,sh.prototype,t,{allOwnKeys:!0}),ae.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return Sz(gh(e,i))},r}const Gr=Sz(hg);Gr.Axios=sh;Gr.CanceledError=If;Gr.CancelToken=sA;Gr.isCancel=pz;Gr.VERSION=_z;Gr.toFormData=VS;Gr.AxiosError=xt;Gr.Cancel=Gr.CanceledError;Gr.all=function(t){return Promise.all(t)};Gr.spread=Hye;Gr.isAxiosError=Wye;Gr.mergeConfig=gh;Gr.AxiosHeaders=Ni;Gr.formToJSON=e=>hz(ae.isHTMLForm(e)?new FormData(e):e);Gr.getAdapter=wz.getAdapter;Gr.HttpStatusCode=R3;Gr.default=Gr;function qye({open:e,setOpen:t}){const[r,n]=oe.useState({address:"",zipcode:"",state:"",country:"",longitude:"",latitude:"",stageId:""}),i=(o,l)=>{n(c=>({...c,[o]:l}))},s=async o=>{o.preventDefault();const l=await Gr.post("http://localhost:3000/leads",r);console.log(l)};return qe.jsxs(pme,{open:e,onClose:t,className:"relative z-10",children:[qe.jsx(hme,{transition:!0,className:"fixed inset-0 bg-gray-500/75 transition-opacity duration-500 ease-in-out data-[closed]:opacity-0"}),qe.jsx("div",{className:"fixed inset-0 overflow-hidden",children:qe.jsx("div",{className:"absolute inset-0 overflow-auto",children:qe.jsx("div",{className:"fixed inset-y-0 right-0 flex max-w-full pl-10 pointer-events-none",children:qe.jsxs(Jj,{transition:!0,className:"pointer-events-auto relative w-screen max-w-md transform transition duration-500 ease-in-out data-[closed]:translate-x-full sm:duration-700",children:[qe.jsx(FS,{children:qe.jsx("div",{className:"absolute left-0 top-0 -ml-8 flex pr-2 pt-4 duration-500 ease-in-out data-[closed]:opacity-0 sm:-ml-10 sm:pr-4",children:qe.jsxs("button",{type:"button",className:"relative text-gray-300 rounded-md hover:text-white focus:outline-none focus:ring-2 focus:ring-white",children:[qe.jsx("span",{className:"absolute -inset-2.5"}),qe.jsx("span",{className:"sr-only",children:"Close panel"})]})})}),qe.jsxs("div",{className:"flex flex-col h-full py-6 overflow-y-scroll bg-white shadow-xl",children:[qe.jsx("div",{className:"px-4 sm:px-6",children:qe.jsxs(Kj,{className:"flex justify-between font-semibold text-gray-900 text-bas e",children:["Panel title ",qe.jsx("span",{onClick:()=>t(!1),children:qe.jsx(gme,{"aria-hidden":"true",className:"size-6"})})]})}),qe.jsxs("div",{className:"relative flex flex-col flex-1 gap-2 px-4 mt-6 sm:px-6",children:[qe.jsxs("div",{className:"",children:[qe.jsx("label",{className:"text-sm text-gray-900 capitalize ",children:"Name"}),qe.jsx("input",{className:"block w-full px-2 py-2 mt-2 text-sm text-gray-900 border rounded-lg",value:r?.Name,onChange:o=>i("Name",o.target.value)})]}),qe.jsxs("div",{className:"",children:[qe.jsx("label",{className:"text-sm text-gray-900 capitalize ",children:"address"}),qe.jsx("input",{className:"block w-full px-2 py-2 mt-2 text-sm text-gray-900 border rounded-lg",value:r?.address,onChange:o=>i("address",o.target.value)})]}),qe.jsxs("div",{className:"",children:[qe.jsx("label",{className:"text-sm text-gray-900 capitalize ",children:"zipcode"}),qe.jsx("input",{className:"block w-full px-2 py-2 mt-2 text-sm text-gray-900 border rounded-lg",value:r?.zipcode,onChange:o=>i("zipcode",o.target.value)})]}),qe.jsxs("div",{className:"",children:[qe.jsx("label",{className:"text-sm text-gray-900 capitalize ",children:"state"}),qe.jsx("input",{className:"block w-full px-2 py-2 mt-2 text-sm text-gray-900 border rounded-lg",value:r?.state,onChange:o=>i("state",o.target.value)})]}),qe.jsxs("div",{className:"",children:[qe.jsx("label",{className:"text-sm text-gray-900 capitalize ",children:"country"}),qe.jsx("input",{className:"block w-full px-2 py-2 mt-2 text-sm text-gray-900 border rounded-lg",value:r?.country,onChange:o=>i("country",o.target.value)})]})]}),qe.jsx("div",{className:"px-4 rounded-lg",children:qe.jsx("button",{onClick:s,className:"min-w-36  rounded border border-latisGray-400  px-4 py-2 text-sm leading-6  duration-300   focus:outline-none focus:ring-2 bg-blue-500 text-white focus:ring-latisSecondary-900 focus:ring-offset-2  $",children:"Save"})})]})]})})})})]})}const Zye=()=>{const e=oe.useRef(null),[t,r]=oe.useState(null),[n,i]=oe.useState(!1),s=oe.useRef(null),o=oe.useRef(null),[l,c]=oe.useState(!0),d=({className:w,fillColor:S})=>qe.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",className:w,children:[qe.jsx("defs",{children:qe.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[qe.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),qe.jsxs("feMerge",{children:[qe.jsx("feMergeNode",{in:"coloredBlur"}),qe.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),qe.jsxs("g",{filter:"url(#glow)",children:[qe.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 28C26.6274 28 32 22.6274 32 16C32 9.37258 26.6274 4 20 4C13.3726 4 8 9.37258 8 16V28H20Z",fill:"white"}),qe.jsx("path",{d:"M31.5 16C31.5 22.3513 26.3513 27.5 20 27.5H8.5V16C8.5 9.64873 13.6487 4.5 20 4.5C26.3513 4.5 31.5 9.64873 31.5 16Z",stroke:"#EFEEED"})]}),qe.jsxs("svg",{x:"12",y:"7",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"18",viewBox:"0 0 16 18",fill:"none",children:[qe.jsx("circle",{cx:"8",cy:"9",r:"8",fill:S}),qe.jsx("path",{d:"M6.156 5.56V4.54H8.58V13H7.428V5.56H6.156Z",fill:"white"})]})]});oe.useEffect(()=>{s.current=new ahe({radius:40,maxZoom:20,minZoom:0});const w=[];s.current.load(w)},[]);let m;const g=oe.useRef(ope(async(w,S,$,x,M)=>{if(s.current){m&&m.abort(),m=new AbortController;try{const{data:P,errors:F}=await Gr.get("/api/getby",{params:{minLat:w,maxLat:S,minLon:$,maxLon:x,zoomLevel:M},signal:m.signal});if(!F){const V=P;o.current.removeAll(),V?.length>0&&V?.forEach(U=>{console.log(U);const z=U?.centerLon,Z=U?.centerLat,Q=!0;let pe=30,ye=Q?U.count:0;Q&&(pe=Math.min(70,Math.max(30,ye*.5)));const ge=dpe.renderToStaticMarkup(qe.jsx(d,{fillColor:"black",className:"w-6 h-6 text-blue-500 "})),Pe=encodeURIComponent(ge),Me=Q?{type:"simple-marker",style:"circle",text:U.count.toString(),label:ye.toString(),color:"#1F2836",size:`${pe}px`,outline:{color:"white",width:1.25},font:{size:"12px",family:"sans-serif",weight:"bold"}}:{type:"picture-marker",url:"data:image/svg+xml;charset=UTF-8,"+Pe,width:"40px",height:"40px"},De=new M0({geometry:{type:"point",longitude:z,latitude:Z},symbol:Me,id:U?.id,text:U.count||1,cluster:Q,size:pe});if(o.current.add(De),Q){const Ae=new M0({geometry:{type:"point",longitude:z,latitude:Z},symbol:{type:"text",color:"white",haloColor:"black",haloSize:"1px",text:U.count.toString(),xoffset:0,yoffset:0,font:{size:"12px",family:"sans-serif",weight:"bold"}},cluster_id:U?.id,id:U?.id,text:U.count||1,cluster:Q,size:pe});o.current.add(Ae)}})}}catch(P){console.error(P)}}},150)).current;return oe.useEffect(()=>{if(!e.current)return;const w=new she({container:e.current,map:new f8({layers:[new _j({urlTemplate:"https://mts1.google.com/vt/lyrs=p&hl=en&x={col}&y={row}&z={level}&s=Galileo",copyright:"Google Maps",opacity:.8})]}),zoom:3,center:[-84.006,40.7128],constraints:{minZoom:3,maxZoom:20,rotationEnabled:!1},ui:{components:[]}}),S=new npe;o.current=S,w.map.add(S,5),Epe(["esri/geometry/SpatialReference","esri/geometry/support/webMercatorUtils"]).then(([x,M])=>{w.zoom,w.watch("extent",async P=>{const F=Math.round(w.zoom);if(P){const{xmin:V,ymin:U,xmax:z,ymax:Z}=P,Q={xmin:V,ymin:U,xmax:z,ymax:Z,spatialReference:x.WebMercator},pe=M.webMercatorToGeographic(Q);let{xmin:ye,ymin:ge,xmax:Pe,ymax:Me}=pe;g(ge,Me,ye,Pe,F)}})}).catch(x=>{console.error("Error loading ArcGIS modules: ",x)}),g();let $=!1;return w.on("mouse-wheel",x=>{if(x.stopPropagation(),$)return;$=!0;const M=x.deltaY>0?-1:1,P=w.zoom+M;w.goTo({zoom:P},{duration:400,easing:"ease-in-out"}).finally(()=>{$=!1})}),r(w),i(!0),()=>{w&&w.destroy()}},[]),oe.useEffect(()=>{},[t]),qe.jsxs(qe.Fragment,{children:[!l&&qe.jsx("div",{onClick:()=>{c(!0)},className:"absolute right-3  top-4 z-50 cursor-pointer rounded-full p-2 bg-white",children:qe.jsx(mme,{className:"w-6 h-6 text-latisGray-900 hover:text-latisSecondary-900"})}),qe.jsx(qye,{open:l,setOpen:c}),qe.jsx("div",{ref:e,className:"h-full rounded-l-lg"})]})};function Yye(){return qe.jsx(IG,{children:qe.jsx(Zye,{})})}OG.createRoot(document.getElementById("root")).render(qe.jsx(oe.StrictMode,{children:qe.jsx(Yye,{})}));export{eue as $,wr as A,M0 as B,q7 as C,je as D,c_ as E,n0 as F,Y7 as G,hN as H,ai as I,cr as J,pie as K,Qr as L,vc as M,UF as N,EN as O,Hn as P,q2e as Q,h_ as R,ph as S,U0e as T,O0 as U,Ye as V,h0 as W,ie as X,MD as Y,h2e as Z,ke as _,gj as a,Ii as a$,Yx as a0,aN as a1,d_ as a2,up as a3,Ea as a4,o4 as a5,l4 as a6,u4 as a7,r0e as a8,GG as a9,FG as aA,nN as aB,sN as aC,oN as aD,iN as aE,q0 as aF,cs as aG,He as aH,AD as aI,mM as aJ,CD as aK,kD as aL,iI as aM,Bwe as aN,Qge as aO,H4 as aP,Ar as aQ,j_ as aR,un as aS,V1e as aT,H1e as aU,B1e as aV,Ca as aW,_t as aX,C_ as aY,Ao as aZ,Ra as a_,M0e as aa,L2e as ab,iwe as ac,Zte as ad,lwe as ae,uwe as af,twe as ag,y0 as ah,OM as ai,Vn as aj,U3 as ak,zo as al,awe as am,cT as an,zve as ao,oJ as ap,wS as aq,Th as ar,Tk as as,_S as at,Tc as au,yge as av,Cb as aw,Ot as ax,s0e as ay,me as az,Na as b,h0e as b$,QM as b0,Uo as b1,v4 as b2,Ri as b3,ii as b4,B1 as b5,c1e as b6,J9 as b7,KW as b8,Zd as b9,wne as bA,nt as bB,ise as bC,cI as bD,I_e as bE,vh as bF,ls as bG,_0 as bH,At as bI,Vve as bJ,en as bK,Bs as bL,ze as bM,yne as bN,wt as bO,ok as bP,O_e as bQ,q_ as bR,pf as bS,_c as bT,Mve as bU,lP as bV,aK as bW,xve as bX,cj as bY,Kve as bZ,Oi as b_,Wge as ba,wh as bb,wM as bc,br as bd,Bl as be,Gy as bf,Wu as bg,er as bh,yt as bi,H_ as bj,tr as bk,C8 as bl,Xve as bm,fwe as bn,are as bo,E0 as bp,b0 as bq,Wve as br,Qve as bs,swe as bt,owe as bu,R1e as bv,P1e as bw,N1e as bx,I1e as by,O1e as bz,rh as c,_M as c$,Mt as c0,Mc as c1,gc as c2,kc as c3,Ia as c4,gT as c5,vr as c6,yT as c7,wT as c8,Lw as c9,dbe as cA,abe as cB,Vce as cC,rW as cD,qO as cE,w8 as cF,at as cG,$c as cH,Vwe as cI,l1e as cJ,Hge as cK,c4 as cL,d4 as cM,iW as cN,aM as cO,lM as cP,sW as cQ,z_ as cR,G_ as cS,K0 as cT,g0 as cU,xc as cV,o0 as cW,rle as cX,V5 as cY,gne as cZ,rwe as c_,cF as ca,Eb as cb,Vt as cc,Q0 as cd,q$ as ce,h1e as cf,Nwe as cg,Hwe as ch,Fve as ci,Ny as cj,HE as ck,Ble as cl,QL as cm,zM as cn,qR as co,F_ as cp,uge as cq,X0 as cr,oge as cs,t_e as ct,Jy as cu,lx as cv,bU as cw,Ede as cx,cbe as cy,Oce as cz,Mk as d,Dbe as d$,yM as d0,lh as d1,Jte as d2,hwe as d3,Yte as d4,dwe as d5,is as d6,Jge as d7,Ls as d8,V_ as d9,Cc as dA,Zae as dB,gee as dC,Uw as dD,Mge as dE,Pbe as dF,jk as dG,F0e as dH,q3 as dI,x_ as dJ,Vs as dK,PQ as dL,CQ as dM,lf as dN,rbe as dO,mse as dP,cwe as dQ,V0 as dR,tk as dS,uj as dT,tpe as dU,Hhe as dV,Jhe as dW,wj as dX,oj as dY,Vbe as dZ,Fbe as d_,D7 as da,Gae as db,cle as dc,qx as dd,kf as de,LM as df,C7 as dg,O7 as dh,L7 as di,Cae as dj,kae as dk,$0e as dl,bH as dm,af as dn,nM as dp,qV as dq,jM as dr,Mq as ds,R_e as dt,Aae as du,I7 as dv,A7 as dw,ile as dx,Zge as dy,KF as dz,_ae as e,Qd as e$,Wn as e0,yS as e1,nk as e2,lD as e3,Nae as e4,Lae as e5,sle as e6,Ube as e7,C4 as e8,O_ as e9,u0 as eA,jr as eB,G0 as eC,ube as eD,lbe as eE,obe as eF,G1e as eG,Xye as eH,Uwe as eI,qwe as eJ,wR as eK,Ybe as eL,Zhe as eM,Zbe as eN,Yhe as eO,$ve as eP,qhe as eQ,z_e as eR,sse as eS,th as eT,X4 as eU,_0e as eV,dc as eW,w0e as eX,Wl as eY,Da as eZ,Dp as e_,YM as ea,sS as eb,w0 as ec,ic as ed,os as ee,_Q as ef,U_ as eg,SQ as eh,ige as ei,Sve as ej,Hl as ek,Ew as el,j5 as em,Jbe as en,zF as eo,C1e as ep,or as eq,n1e as er,fK as es,u1e as et,t1e as eu,npe as ev,gP as ew,_j as ex,Gt as ey,EL as ez,bt as f,$ge as f$,rge as f0,hge as f1,D0 as f2,nT as f3,cN as f4,a0 as f5,PH as f6,X3 as f7,Uve as f8,Dge as f9,rw as fA,Qb as fB,v0e as fC,e1e as fD,Yae as fE,jse as fF,cn as fG,Gse as fH,c7 as fI,Sf as fJ,Rr as fK,Pa as fL,j0 as fM,hn as fN,Xse as fO,Kge as fP,Fse as fQ,Ige as fR,oP as fS,z5 as fT,G5 as fU,jee as fV,JF as fW,jae as fX,XF as fY,cee as fZ,Yge as f_,zt as fa,i2e as fb,Lp as fc,B_ as fd,mv as fe,qT as ff,p1e as fg,B0 as fh,e_e as fi,b1e as fj,ss as fk,jJ as fl,li as fm,nbe as fn,Oo as fo,$a as fp,Rhe as fq,Phe as fr,W3 as fs,d7 as ft,jx as fu,vf as fv,h7 as fw,Hse as fx,Dk as fy,WR as fz,Eve as g,vS as g$,eW as g0,yO as g1,W1e as g2,q1e as g3,Y as g4,mee as g5,HJ as g6,uS as g7,W_ as g8,a0e as g9,ote as gA,VO as gB,rs as gC,bM as gD,p0e as gE,f1e as gF,dj as gG,Hbe as gH,Bbe as gI,zbe as gJ,tN as gK,rN as gL,G_e as gM,Bse as gN,kN as gO,xT as gP,Rq as gQ,wge as gR,_ge as gS,Sge as gT,bge as gU,Ege as gV,Tge as gW,W0 as gX,Ze as gY,gS as gZ,mS as g_,Jae as ga,Uae as gb,oi as gc,lse as gd,$K as ge,wc as gf,fh as gg,wK as gh,Cv as gi,cge as gj,t4 as gk,K4 as gl,$ee as gm,zJ as gn,GJ as go,VJ as gp,DJ as gq,xee as gr,Gve as gs,Wbe as gt,Lbe as gu,m3 as gv,Nbe as gw,Ibe as gx,pte as gy,hte as gz,eie as h,uL as h$,bk as h0,eg as h1,xre as h2,tg as h3,SS as h4,Sk as h5,o_e as h6,Tve as h7,rg as h8,$r as h9,R7 as hA,Ww as hB,Bae as hC,N7 as hD,ik as hE,P_e as hF,C9 as hG,N_e as hH,L_e as hI,Xv as hJ,KG as hK,v0 as hL,y5 as hM,b5 as hN,EK as hO,ehe as hP,qbe as hQ,j3 as hR,Tp as hS,Pl as hT,G3 as hU,Vhe as hV,hB as hW,ZV as hX,ns as hY,OT as hZ,uF as h_,l_e as ha,c_e as hb,ute as hc,Kye as hd,Jx as he,Xy as hf,i7 as hg,ek as hh,l0e as hi,bB as hj,Do as hk,zs as hl,Sr as hm,Jye as hn,hv as ho,UJ as hp,Oae as hq,ule as hr,dle as hs,Jse as ht,tW as hu,nF as hv,lW as hw,LJ as hx,i_ as hy,Iae as hz,mSe as i,Kx as i$,D_e as i0,jl as i1,eH as i2,o1e as i3,hq as i4,cM as i5,jW as i6,aj as i7,ete as i8,tte as i9,uq as iA,hk as iB,Lwe as iC,Iwe as iD,mB as iE,j0e as iF,N3 as iG,L3 as iH,C as iI,mge as iJ,Hu as iK,pbe as iL,hbe as iM,sbe as iN,AS as iO,kS as iP,Wk as iQ,Pi as iR,uce as iS,kX as iT,VG as iU,nge as iV,sH as iW,D_ as iX,dge as iY,S0 as iZ,fue as i_,eN as ia,WSe as ib,qSe as ic,XSe as id,QSe as ie,ZSe as ig,YSe as ih,JSe as ii,KSe as ij,mte as ik,my as il,f9 as im,nwe as io,a_e as ip,E1e as iq,ibe as ir,kQ as is,qM as it,OD as iu,$k as iv,qF as iw,Bhe as ix,k0e as iy,Tw as iz,IM as j,q9 as j$,I2e as j0,uN as j1,Ds as j2,W7 as j3,Ol as j4,lN as j5,N2e as j6,QI as j7,rq as j8,tq as j9,yoe as jA,UG as jB,Gwe as jC,fie as jD,P7 as jE,$D as jF,Gge as jG,_r as jH,z0 as jI,W8 as jJ,E7 as jK,r5 as jL,W0e as jM,H0e as jN,kB as jO,MB as jP,o0e as jQ,zG as jR,i1e as jS,fre as jT,Bve as jU,Xw as jV,vee as jW,uee as jX,dee as jY,pB as jZ,y2e as j_,Uge as ja,a1e as jb,u_ as jc,s2e as jd,o2e as je,a2e as jf,Qle as jg,DW as jh,BW as ji,H0 as jj,Nge as jk,sD as jl,lv as jm,c0e as jn,d0e as jo,u0e as jp,_h as jq,_H as jr,s_e as js,Vp as jt,mh as ju,Rue as jv,Oue as jw,Iue as jx,lle as jy,moe as jz,Dt as k,tM as k$,l7 as k0,C0 as k1,kk as k2,Fx as k3,U9 as k4,sg as k5,m0e as k6,hue as k7,f7 as k8,mc as k9,dN as kA,O2e as kB,pue as kC,yN as kD,mN as kE,jve as kF,Eh as kG,Sc as kH,eV as kI,cS as kJ,Wse as kK,Gd as kL,ni as kM,jbe as kN,dQ as kO,F8 as kP,Gbe as kQ,bae as kR,T0e as kS,eZ as kT,fge as kU,Z2e as kV,Rwe as kW,Cwe as kX,Lre as kY,Owe as kZ,Pwe as k_,Dhe as ka,Fhe as kb,a4 as kc,Fo as kd,$5 as ke,tge as kf,B5 as kg,XR as kh,GF as ki,ece as kj,pge as kk,Pr as kl,cJ as km,Tne as kn,g9 as ko,Ene as kp,Xge as kq,zse as kr,Aie as ks,Tie as kt,ig as ku,qge as kv,rk as kw,Y2e as kx,sge as ky,J4 as kz,D1e as l,Jve as l$,Mee as l0,Tee as l1,zae as l2,Eee as l3,Ure as l4,B4 as l5,P0 as l6,coe as l7,r_e as l8,n_e as l9,jSe as lA,zSe as lB,Ta as lC,Gie as lD,TS as lE,u_e as lF,qG as lG,d_e as lH,kT as lI,HSe as lJ,Vie as lK,W9 as lL,AN as lM,Q7 as lN,S2e as lO,b2e as lP,E2e as lQ,T2e as lR,u2e as lS,d2e as lT,c2e as lU,Pue as lV,USe as lW,ewe as lX,qve as lY,Yve as lZ,Zve as l_,i_e as la,Po as lb,n2e as lc,TN as ld,GSe as le,Hde as lf,Io as lg,xS as lh,Ave as li,r7 as lj,s7 as lk,_se as ll,V_e as lm,Ase as ln,rf as lo,B_e as lp,iee as lq,zm as lr,Ove as ls,Oa as lt,Ste as lu,$2e as lv,B7 as lw,Lge as lx,M2e as ly,x2e as lz,pn as m,t0e as m$,pwe as m0,H2e as m1,bR as m2,Hve as m3,W2e as m4,Aa as m5,mne as m6,L8 as m7,B0e as m8,ZR as m9,of as mA,_2e as mB,lge as mC,pse as mD,lF as mE,qse as mF,Pk as mG,z2e as mH,G2e as mI,V2e as mJ,Aue as mK,X7 as mL,t2e as mM,r2e as mN,xue as mO,B2e as mP,FSe as mQ,M1e as mR,Kq as mS,XI as mT,yP as mU,L1e as mV,ka as mW,eve as mX,Q1e as mY,EX as mZ,bX as m_,ire as ma,Cge as mb,Rge as mc,Pge as md,rV as me,g2e as mf,Ck as mg,zl as mh,m2e as mi,f2e as mj,yue as mk,p2e as ml,xN as mm,VSe as mn,BSe as mo,w2e as mp,v2e as mq,k2e as mr,A2e as ms,e2e as mt,C2e as mu,R2e as mv,Xle as mw,rue as mx,l2e as my,pU as mz,Ne as n,eD as n$,lre as n0,T9 as n1,lce as n2,ore as n3,T0 as n4,x0 as n5,f0e as n6,ybe as n7,uk as n8,yre as n9,F1e as nA,X5 as nB,vW as nC,gW as nD,ese as nE,Ak as nF,jge as nG,QW as nH,bie as nI,G9 as nJ,B9 as nK,o_ as nL,nle as nM,s_ as nN,Pie as nO,Cq as nP,Cie as nQ,yie as nR,xge as nS,BX as nT,Age as nU,yW as nV,gge as nW,vge as nX,EB as nY,cce as nZ,kve as n_,gre as na,IO as nb,qde as nc,TB as nd,qW as ne,Fge as nf,d1e as ng,fq as nh,Vge as ni,JW as nj,Bge as nk,Zwe as nl,Dse as nm,fS as nn,r1e as no,bn as np,NH as nq,jwe as nr,zwe as ns,Vee as nt,Gee as nu,A0 as nv,H9 as nw,I5 as nx,sM as ny,bT as nz,Li as o,Dw as o0,kge as o1,k0 as o2,s5 as o3,ES as o4,die as o5,Oie as o6,Iie as o7,zge as o8,LI as o9,Rve as oa,wie as ob,_ie as oc,Qae as od,va as oe,mie as of,LG as og,i0e as oh,Aee as oi,zee as oj,Oee as ok,Cve as ol,e0e as om,NG as on,Qye as oo,Fwe as op,Dwe as oq,D2e as or,s1e as os,Wwe as ot,Ac as ou,Z1e as ov,J1e as ow,J2e as ox,Kbe as oy,pSe as p,age as q,F3 as r,fe as s,A_ as t,bc as u,p as v,y as w,G as x,dt as y,Sre as z};
